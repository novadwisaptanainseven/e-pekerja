{"version":3,"sources":["context/actions/DownloadFile/getRiwayatMKExcel.js","context/actions/MasaKerja/getRiwayatMKFile.js","reusable/SelectOptionTahun.js","views/pages/Admin/MasaKerja/RiwayatMasaKerjaFile.js","context/actions/MasaKerja/deleteRiwayatMKFile.js","context/actions/MasaKerja/getRiwayatMKFileByDate.js","reusable/SelectOptionBulan.js"],"names":["getRiwayatMKExcel","filename","localStorage","baseURL","getRiwayatMKFile","setLoading","setData","axiosInstance","get","then","res","console","log","data","catch","err","response","SelectOptionTahun","curYear","Date","getFullYear","tahunOptions","i","push","map","item","index","value","React","memo","MySwal","withReactContent","swal2","RiwayatMasaKerjaFile","history","useHistory","useState","loading","inputCari","setInputCari","useEffect","handleDelete","id_riwayat_mk_file","fire","icon","title","text","showConfirmButton","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","idRiwayatMKFile","delete","deleteRiwayatMKFile","className","color","style","height","width","onClick","goBack","md","name","bulan","onChange","e","target","SelectOptionBulan","tahun","params","getRiwayatMKFileByDate","disabled","src","LoadAnimationWhite","alt","LoadAnimationBlue","IconExcel","margin","file","keadaan","format","tanggal","href","file_slug","preventDefault","content","cilTrash"],"mappings":"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","file":"static/js/74.5c693416.chunk.js","sourcesContent":["const getRiwayatMKExcel = (filename) => {\r\n  return `${localStorage.baseURL}masa-kerja/${filename}`;\r\n};\r\n\r\nexport default getRiwayatMKExcel;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatMKFile = (setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`riwayat-mk-file`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst SelectOptionTahun = () => {\r\n  let curYear = new Date().getFullYear();\r\n  let bottomLimitYear = 2018;\r\n\r\n  let tahunOptions = [];\r\n\r\n  for (let i = bottomLimitYear; i <= curYear; i++) {\r\n    tahunOptions.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {tahunOptions.map((item, index) => (\r\n        <option key={index} value={item}>\r\n          {item}\r\n        </option>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(SelectOptionTahun);\r\n","import { cilTrash } from \"@coreui/icons\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CRow,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CLabel,\r\n  CSelect,\r\n} from \"@coreui/react\";\r\nimport { format } from \"date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { IconExcel, LoadAnimationBlue, LoadAnimationWhite } from \"src/assets\";\r\nimport getRiwayatMKExcel from \"src/context/actions/DownloadFile/getRiwayatMKExcel\";\r\nimport { deleteRiwayatMKFile } from \"src/context/actions/MasaKerja/deleteRiwayatMKFile\";\r\nimport { getRiwayatMKFile } from \"src/context/actions/MasaKerja/getRiwayatMKFile\";\r\nimport { getRiwayatMKFileByDate } from \"src/context/actions/MasaKerja/getRiwayatMKFileByDate\";\r\nimport SelectOptionBulan from \"src/reusable/SelectOptionBulan\";\r\nimport SelectOptionTahun from \"src/reusable/SelectOptionTahun\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatMasaKerjaFile = () => {\r\n  const history = useHistory();\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [inputCari, setInputCari] = useState({});\r\n\r\n  // Get Riwayat Masa Kerja File\r\n  useEffect(() => {\r\n    getRiwayatMKFile(setLoading, setData);\r\n  }, []);\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_riwayat_mk_file) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteRiwayatMKFile(id_riwayat_mk_file, setLoading, setData);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Handle tombol pencarian file\r\n  const handleTombolCari = () => {\r\n    getRiwayatMKFileByDate(setLoading, setData, inputCari);\r\n  };\r\n\r\n  // Handle tombol reset\r\n  const handleTombolReset = () => {\r\n    getRiwayatMKFile(setLoading, setData);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Riwayat Pegawai Berdasarkan Masa Kerja</h3>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CRow className=\"mb-2\">\r\n            <CCol md=\"8\">\r\n              <CForm>\r\n                <CFormGroup>\r\n                  <CLabel>Pencarian</CLabel>\r\n                  <CRow>\r\n                    <CCol md=\"5\" className=\"pr-0\">\r\n                      <CSelect\r\n                        name=\"bulan\"\r\n                        value={inputCari.bulan}\r\n                        onChange={(e) =>\r\n                          setInputCari({\r\n                            ...inputCari,\r\n                            [e.target.name]: e.target.value,\r\n                          })\r\n                        }\r\n                      >\r\n                        <option value=\"\">-- Pilih Bulan --</option>\r\n                        <SelectOptionBulan />\r\n                      </CSelect>\r\n                    </CCol>\r\n                    <CCol className=\"d-flex\">\r\n                      <CSelect\r\n                        name=\"tahun\"\r\n                        value={inputCari.tahun}\r\n                        onChange={(e) =>\r\n                          setInputCari({\r\n                            ...inputCari,\r\n                            [e.target.name]: e.target.value,\r\n                          })\r\n                        }\r\n                      >\r\n                        <option value=\"\">-- Pilih Tahun --</option>\r\n                        <SelectOptionTahun />\r\n                      </CSelect>\r\n                      <CButton\r\n                        className=\"ml-2\"\r\n                        color=\"primary\"\r\n                        onClick={handleTombolCari}\r\n                        disabled={\r\n                          inputCari.bulan && inputCari.tahun ? false : true\r\n                        }\r\n                      >\r\n                        {loading ? (\r\n                          <div>\r\n                            <img\r\n                              width={20}\r\n                              src={LoadAnimationWhite}\r\n                              alt=\"load-animation\"\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          \"Cari\"\r\n                        )}\r\n                      </CButton>\r\n                      <CButton\r\n                        className=\"ml-2\"\r\n                        color=\"warning\"\r\n                        onClick={handleTombolReset}\r\n                      >\r\n                        Reset\r\n                      </CButton>\r\n                    </CCol>\r\n                  </CRow>\r\n                </CFormGroup>\r\n              </CForm>\r\n            </CCol>\r\n          </CRow>\r\n          <CRow>\r\n            {!loading ? (\r\n              data.map((item, index) => (\r\n                <CCol key={index} md=\"3\">\r\n                  <div className=\"card\">\r\n                    <div className=\"bg-secondary d-flex py-3\">\r\n                      <img\r\n                        src={IconExcel}\r\n                        style={{\r\n                          width: \"40%\",\r\n                          margin: \"auto\",\r\n                        }}\r\n                        className=\"card-img-top\"\r\n                        alt=\"icon-excel\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{item.file}</h5>\r\n                      <p className=\"card-text\">Keadaan {item.keadaan}</p>\r\n                      <p className=\"text-muted\">\r\n                        Disimpan pada{\" \"}\r\n                        {format(new Date(item.tanggal), \"dd/MM/y\")}\r\n                      </p>\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <a\r\n                          href={getRiwayatMKExcel(item.file_slug)}\r\n                          className=\"btn btn-primary mr-2\"\r\n                        >\r\n                          Download File\r\n                        </a>\r\n                        <a\r\n                          href=\".\"\r\n                          className=\"btn btn-danger\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            handleDelete(item.id_riwayat_mk_file);\r\n                          }}\r\n                        >\r\n                          <CIcon content={cilTrash} />\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CCol>\r\n              ))\r\n            ) : (\r\n              <CCol className=\"text-center\">\r\n                <img\r\n                  className=\"mt-4 ml-3\"\r\n                  width={30}\r\n                  src={LoadAnimationBlue}\r\n                  alt=\"load-animation\"\r\n                />\r\n              </CCol>\r\n            )}\r\n          </CRow>\r\n        </CCardBody>\r\n      </CCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RiwayatMasaKerjaFile;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRiwayatMKFile } from \"./getRiwayatMKFile\";\r\n\r\nexport const deleteRiwayatMKFile = (idRiwayatMKFile, setLoading, setData) => {\r\n  axiosInstance\r\n    .delete(`riwayat-mk-file/${idRiwayatMKFile}`)\r\n    .then((res) => {\r\n      getRiwayatMKFile(setLoading, setData);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatMKFileByDate = (setLoading, setData, params) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`riwayat-mk-file?bulan=${params.bulan}&tahun=${params.tahun}`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst SelectOptionBulan = () => {\r\n  let bulanOptions = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Maret\",\r\n    \"April\",\r\n    \"Mei\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Agustus\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"Desember\",\r\n  ];\r\n  return (\r\n    <>\r\n      {bulanOptions.map((item, index) => (\r\n        <option key={index} value={index + 1}>\r\n          {item}\r\n        </option>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(SelectOptionBulan);\r\n"],"sourceRoot":""}