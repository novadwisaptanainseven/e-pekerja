(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[23],{638:function(e,n,t){"use strict";function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,"a",(function(){return a}))},640:function(e,n,t){"use strict";n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t){if("filter_tanggal"===t){var a="first_date=".concat(n.startDate,"&last_date=").concat(n.endDate);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(a),"_self")}else if("filter_tahun"===t){var c="tahun=".concat(n);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(c),"_self")}else if("filter_bulan_tahun"===t){var r="bulan=".concat(n.bulan,"&tahun=").concat(n.tahun);window.open("".concat(localStorage.baseURL).concat(e,"/export?").concat(r),"_self")}}else window.open("".concat(localStorage.baseURL).concat(e,"/export"),"_self")}},644:function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},653:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},664:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},667:function(e,n,t){"use strict";var a=t(1),c=t.n(a),r=t(17),i=function(){return Object(r.jsx)(r.Fragment,{children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((function(e,n){return Object(r.jsx)("option",{value:n+1,children:e},n)}))})};n.a=c.a.memo(i)},676:function(e,n,t){"use strict";var a=t(168),c=t(2),r=t(10),i=t(628),o=t(1),l=t(667),s=t(17);n.a=function(e){var n=e.paramsFilter,t=e.setParamsFilter,u=e.handleFilterCari,d=e.handleResetFilter,b=Object(o.useState)(!1),j=Object(r.a)(b,2),p=j[0],h=j[1];return Object(s.jsxs)(i.h,{children:[Object(s.jsx)(i.l,{className:"bg-dark",children:Object(s.jsx)("h5",{className:"mb-0",children:"Filter Pencarian Berdasarkan Bulan dan Tahun"})}),Object(s.jsxs)(i.w,{children:[Object(s.jsx)(i.n,{show:p,children:Object(s.jsx)(i.i,{children:Object(s.jsxs)(i.W,{children:[Object(s.jsx)(i.m,{children:Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.K,{children:"Bulan"}),Object(s.jsxs)(i.X,{required:!0,name:"bulan",onChange:function(e){return t(Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},e.target.name,e.target.value)))},children:[Object(s.jsx)("option",{value:"",children:"-- Pilih Bulan --"}),Object(s.jsx)(l.a,{})]})]})}),Object(s.jsx)(i.m,{children:Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.K,{children:"Tahun"}),Object(s.jsx)(i.D,{required:!0,type:"number",name:"tahun",placeholder:"Masukkan Tahun, exp: ".concat((new Date).getFullYear()),onChange:function(e){return t(Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},e.target.name,e.target.value)))}})]})})]})})}),Object(s.jsxs)(i.j,{className:"text-right",children:[Object(s.jsx)(i.f,{type:"submit",color:"primary",className:"mr-2",onClick:function(e){return u(e)},disabled:!n.bulan||!n.tahun,children:"Cari"}),Object(s.jsx)(i.f,{color:"warning",className:"mr-2",onClick:d,children:"Reset"}),Object(s.jsx)(i.f,{color:"secondary",onClick:function(){return h(!p)},children:p?"Tutup":"Klik untuk melihat"})]})]})]})}},733:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>"]},996:function(e,n,t){"use strict";t.r(n);var a,c,r=t(2),i=t(10),o=t(638),l=t(1),s=t.n(l),u=t(632),d=t.n(u),b=t(633),j=t.n(b),p=t(628),h=t(641),m=t.n(h),f=t(643),O=t(20),x=t(639),g=t(664),w=t(653),k=t(733),v=t(571),y=t(163),C=t(40),N=t(626),_=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e({type:C.LOADING});var t="";t=n?"admin/pensiun?bulan=".concat(n.bulan,"&tahun=").concat(n.tahun):"admin/pensiun",N.a.get(t).then((function(n){e({type:C.SUCCESS,payload:n.data.data})})).catch((function(n){e({type:C.ERROR,payload:n.response.data.message}),console.log(n.response.data)}))},D=t(738),P=t(630),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.bulan||"",t=e.tahun||"";window.open("".concat(localStorage.baseURL,"print-pensiun-pegawai?bulan=").concat(n,"&tahun=").concat(t),"_blank")},F=t(640),M=t(676),A=t(17),R=function(e){var n=e.modal,t=e.setModal,a=Object(l.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1];Object(l.useEffect)((function(){var e="";n.data&&(e=Date.parse(new Date)<Date.parse(new Date(n.data.tgl_pensiun))?"Kepada Yth. ".concat(n.data.nama,", Anda akan pensiun pada tanggal ").concat(Object(D.a)(new Date(n.data.tgl_pensiun),"dd/MM/y")," dengan keterangan ").concat(n.data.keterangan,". Terimakasih"):"Kepada Yth. ".concat(n.data.nama,", Anda telah dipensiunkan di tanggal ").concat(Object(D.a)(new Date(n.data.tgl_pensiun),"dd/MM/y")," dengan keterangan ").concat(n.data.keterangan,". Terimakasih"),s(e));return function(){return s("")}}),[n]);return Object(A.jsx)("div",{children:Object(A.jsxs)(p.M,{show:n.modal,onClose:function(){return t(Object(r.a)(Object(r.a)({},n),{},{modal:!1}))},children:[Object(A.jsx)(p.P,{closeButton:!0,children:"Kirim Pemberitahuan via WhatsApp"}),Object(A.jsx)(p.N,{children:n.data&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(p.x,{children:[Object(A.jsx)(p.K,{children:"No. HP"}),Object(A.jsx)(p.D,{type:"text",name:"no_hp",value:n.data.no_hp,readOnly:!0})]}),Object(A.jsxs)(p.x,{children:[Object(A.jsx)(p.K,{children:"Pesan"}),Object(A.jsx)(p.kb,{name:"pesan",rows:5,readOnly:!0,value:o})]})]})}),Object(A.jsxs)(p.O,{children:[Object(A.jsxs)(p.f,{color:"primary",onClick:function(){var e=n.data.no_hp.replace("0","62"),t=o;window.open("https://api.whatsapp.com/send?phone=".concat(e,"&text=").concat(t),"blank")},children:["Kirim ",Object(A.jsx)(x.a,{content:k.a})]}),Object(A.jsx)(p.f,{color:"secondary",onClick:function(){return t(Object(r.a)(Object(r.a)({},n),{},{modal:!1}))},children:"Tutup"})]})]})})},H=j()(d.a),L=f.default.input(a||(a=Object(o.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),B=f.default.button(c||(c=Object(o.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),T=function(e){var n=e.filterText,t=e.onFilter,a=e.onClear;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(L,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:n,onChange:t}),Object(A.jsx)(B,{type:"button",onClick:a,children:"Reset"})]})};n.default=function(){var e=Object(O.g)(),n=Object(l.useState)(""),t=Object(i.a)(n,2),a=t[0],c=t[1],o=Object(l.useState)(!1),u=Object(i.a)(o,2),d=u[0],b=u[1],j=Object(l.useContext)(y.a),h=j.pensiunState,f=j.pensiunDispatch,C=h.data,L=h.loading,B=Object(l.useState)({bulan:"",tahun:""}),K=Object(i.a)(B,2),Z=K[0],E=K[1],J=Object(l.useState)({data:null,modal:!1}),U=Object(i.a)(J,2),Y=U[0],I=U[1];Object(l.useEffect)((function(){_(f)}),[f]);var W=C.filter((function(e){return!(!e.nama||!e.nama.toLowerCase().includes(a.toLowerCase()))})),z=[{name:"No",selector:"no",sortable:!0,width:"50px"},{name:"NIP/NIK",selector:"nip",sortable:!0,wrap:!0,cell:function(e){return e.nip?e.nip:e.nik}},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Tgl. Pensiun",selector:"tgl_pensiun",sortable:!0,wrap:!0,cell:function(e){return Object(D.a)(new Date(e.tgl_pensiun),"dd/MM/yyyy")}},{name:"Status",selector:"status_pensiun",sortable:!0,wrap:!0,cell:function(e){return Date.parse(new Date)<Date.parse(new Date(e.tgl_pensiun))?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.b,{color:"primary",shape:"pill",className:"px-2 py-2",children:"Akan Pensiun"})}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.b,{color:"dark",shape:"pill",className:"px-2 py-2",children:"Pensiun"})})}},{name:"Keterangan",selector:"keterangan",wrap:!0,width:"250px"},{name:"Action",sortable:!0,cell:function(e){return Object(A.jsxs)("div",{"data-tag":"allowRowEvents",className:"my-1",children:[Object(A.jsxs)(p.g,{className:"mb-1",children:[Object(A.jsx)(p.f,{color:"info",className:"btn btn-sm",onClick:function(){return X(e.id_pensiun)},children:Object(A.jsx)(x.a,{content:g.a,color:"white"})}),Object(A.jsx)(p.f,{color:"success",className:"btn btn-sm",onClick:function(){return G(e.id_pensiun)},children:Object(A.jsx)(x.a,{content:w.a,color:"white"})}),Object(A.jsx)(p.f,{color:"warning",className:"btn btn-sm",onClick:function(){return I(Object(r.a)(Object(r.a)({},Y),{},{data:e,modal:!0}))},children:Object(A.jsx)(x.a,{content:k.a,color:"white"})})]}),Object(A.jsx)(p.f,{color:"dark",className:"btn btn-sm",onClick:function(){return Q(e.id_pensiun)},children:"Batalkan Pensiun"})]})}}],q={headCells:{style:{fontSize:"1.15em"}}},V=s.a.useMemo((function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(A.jsx)(p.f,{type:"button",color:"primary",onClick:function(n){e.push("/epekerja/admin/pensiun/tambah")},children:"Tambah Pensiun"}),Object(A.jsxs)("div",{className:"d-flex",children:[Object(A.jsx)(T,{onFilter:function(e){return c(e.target.value)},onClear:function(){a&&(b(!d),c(""))},filterText:a}),Object(A.jsxs)(p.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return S(Z)},children:["PDF ",Object(A.jsx)(x.a,{content:v.a})]}),Object(A.jsxs)(p.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(F.a)("pensiun-pegawai",Z,"filter_bulan_tahun")},children:["Excel ",Object(A.jsx)(x.a,{content:v.a})]})]})]})})}),[a,d,e,Z]),G=function(n){e.push("/epekerja/admin/pensiun/edit/".concat(n))},X=function(n){e.push("/epekerja/admin/pensiun/detail/".concat(n))},Q=function(e){H.fire({icon:"warning",title:"Anda yakin ingin membatalkan pensiun untuk pegawai ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,n){N.a.delete("admin/pensiun-batal/".concat(e)).then((function(e){console.log(e.data),_(n)})).catch((function(e){console.log(e.response.data)}))}(e,f),H.fire({icon:"success",title:"Sukses",text:"Pensiun Berhasil Dibatalkan"}))}))};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(p.h,{children:[Object(A.jsx)(p.l,{children:Object(A.jsx)("h3",{children:"Data Pensiun"})}),Object(A.jsxs)(p.i,{children:[Object(A.jsx)(p.W,{children:Object(A.jsx)(p.m,{md:"6",children:Object(A.jsx)(M.a,{paramsFilter:Z,setParamsFilter:E,handleResetFilter:function(){_(f)},handleFilterCari:function(e){e.preventDefault(),_(f,Z)}})})}),C.length>0?Object(A.jsx)(m.a,{columns:z,data:W,noHeader:!0,responsive:!0,customStyles:q,pagination:!0,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:V,highlightOnHover:!0}):L?Object(A.jsx)("div",{children:Object(A.jsx)(p.W,{children:Object(A.jsx)(p.m,{className:"text-center",children:Object(A.jsx)("img",{className:"mt-4 ml-3",width:30,src:P.c,alt:"load-animation"})})})}):Object(A.jsx)(m.a,{columns:z,data:W,noHeader:!0,responsive:!0,customStyles:q,pagination:!0,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:V,highlightOnHover:!0})]})]}),Object(A.jsx)(R,{modal:Y,setModal:I})]})}}}]);
//# sourceMappingURL=23.177b7e2f.chunk.js.map