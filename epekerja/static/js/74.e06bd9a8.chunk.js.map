{"version":3,"sources":["views/pages/Admin/Mutasi/DetailMutasi.js","context/actions/Mutasi/getMutasiById.js"],"names":["DetailMutasi","params","match","history","useHistory","useState","data","setData","useEffect","getMutasiById","id","StatusMutasi","tglMutasi","currentTimestamp","Date","parse","tglMutasiTimestamp","color","shape","className","type","onClick","goBack","nip","nik","nama","format","tgl_mutasi","keterangan","width","src","getImage","foto","alt","setMutasi","axiosInstance","get","then","res","console","log","catch","err","response"],"mappings":"2PA4GeA,UArGM,SAAC,GAAe,IAC7BC,EAD4B,EAAZC,MACDD,OACfE,EAAUC,cAFkB,EAGVC,mBAAS,IAHC,mBAG3BC,EAH2B,KAGrBC,EAHqB,KASlCC,qBAAU,WAERC,YAAcR,EAAOS,GAAIH,KACxB,CAACN,IAGJ,IAAMU,EAAe,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAClBC,EAAmBC,KAAKC,MAAM,IAAID,MAClCE,EAAqBF,KAAKC,MAAM,IAAID,KAAKF,IAE7C,OACE,mCACGC,EAAmBG,EAClB,cAAC,IAAD,CAAQC,MAAM,UAAUC,MAAM,OAAOC,UAAU,YAA/C,yBAIA,cAAC,IAAD,CAAQF,MAAM,OAAOC,MAAM,OAAOC,UAAU,YAA5C,uBAQR,OACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAaA,UAAU,iCAAvB,UACE,+CACA,cAAC,IAAD,CACEC,KAAK,SACLH,MAAM,UACNE,UAAU,aACVE,QArCe,WACrBlB,EAAQmB,UAgCJ,wBASF,cAAC,IAAD,UACE,uBAAOH,UAAU,uCAAjB,SACE,kCACE,+BACE,yCACA,6BAAKb,EAAQA,EAAKiB,IAAMjB,EAAKiB,IAAMjB,EAAKkB,IAAO,kBAEjD,+BACE,sCACA,6BAAKlB,EAAOA,EAAKmB,KAAO,kBAE1B,+BACE,gDACA,6BACGnB,EACGoB,YAAO,IAAIZ,KAAKR,EAAKqB,YAAa,cAClC,kBAGR,+BACE,+CACA,6BACGrB,EACC,cAACK,EAAD,CAAcC,UAAWN,EAAKqB,aAE9B,kBAIN,+BACE,4CACA,6BAAKrB,EAAOA,EAAKsB,WAAa,kBAEhC,+BACE,8CACA,6BACGtB,EACC,qBACEuB,MAAO,IACPC,IAAKC,YAASzB,EAAK0B,MACnBC,IAAI,iBAGN,8B,iCCjGlB,+CAEaxB,EAAgB,SAACC,EAAIwB,GAChCC,IACGC,IADH,uBACuB1B,IACpB2B,MAAK,SAACC,GACLJ,EAAUI,EAAIhC,KAAKA,MACnBiC,QAAQC,IAAIF,EAAIhC,SAEjBmC,OAAM,SAACC,GACNH,QAAQC,IAAIE,EAAIC,SAASrC","file":"static/js/74.e06bd9a8.chunk.js","sourcesContent":["import { CCard, CCardHeader, CButton, CCardBody, CBadge } from \"@coreui/react\";\r\nimport { format } from \"date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getImage } from \"src/context/actions/DownloadFile\";\r\nimport { getMutasiById } from \"src/context/actions/Mutasi/getMutasiById\";\r\n\r\nconst DetailMutasi = ({ match }) => {\r\n  const params = match.params;\r\n  const history = useHistory();\r\n  const [data, setData] = useState(\"\");\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Get mutasi by id\r\n    getMutasiById(params.id, setData);\r\n  }, [params]);\r\n\r\n  // Menangani Komponen Status Mutasi\r\n  const StatusMutasi = ({ tglMutasi }) => {\r\n    let currentTimestamp = Date.parse(new Date());\r\n    let tglMutasiTimestamp = Date.parse(new Date(tglMutasi));\r\n\r\n    return (\r\n      <>\r\n        {currentTimestamp < tglMutasiTimestamp ? (\r\n          <CBadge color=\"primary\" shape=\"pill\" className=\"px-2 py-2\">\r\n            Akan Mutasi\r\n          </CBadge>\r\n        ) : (\r\n          <CBadge color=\"dark\" shape=\"pill\" className=\"px-2 py-2\">\r\n            Mutasi\r\n          </CBadge>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader className=\"d-flex justify-content-between\">\r\n        <h3>Detail Mutasi</h3>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"warning\"\r\n          className=\"text-white\"\r\n          onClick={goBackToParent}\r\n        >\r\n          Kembali\r\n        </CButton>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <table className=\"table table-striped table-borderless\">\r\n          <tbody>\r\n            <tr>\r\n              <th>NIP/NIK</th>\r\n              <td>{data ? (data.nip ? data.nip : data.nik) : \"Loading...\"}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Nama</th>\r\n              <td>{data ? data.nama : \"Loading...\"}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Tanggal Mutasi</th>\r\n              <td>\r\n                {data\r\n                  ? format(new Date(data.tgl_mutasi), \"dd/MM/yyyy\")\r\n                  : \"Loading...\"}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Status Mutasi</th>\r\n              <td>\r\n                {data ? (\r\n                  <StatusMutasi tglMutasi={data.tgl_mutasi} />\r\n                ) : (\r\n                  \"Loading...\"\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Keterangan</th>\r\n              <td>{data ? data.keterangan : \"Loading...\"}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Foto Pegawai</th>\r\n              <td>\r\n                {data ? (\r\n                  <img\r\n                    width={200}\r\n                    src={getImage(data.foto)}\r\n                    alt=\"foto-pegawai\"\r\n                  />\r\n                ) : (\r\n                  \"Loading...\"\r\n                )}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default DetailMutasi;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getMutasiById = (id, setMutasi) => {\r\n  axiosInstance\r\n    .get(`admin/mutasi/${id}`)\r\n    .then((res) => {\r\n      setMutasi(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n"],"sourceRoot":""}