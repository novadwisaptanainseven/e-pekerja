(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[32],{647:function(a,e,n){"use strict";var t=n(628),i=(n(1),n(629)),s=n(17);e.a=function(){return Object(s.jsx)(t.X,{className:"mb-3",children:Object(s.jsx)(t.n,{className:"text-center",children:Object(s.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.c,alt:"load-animation"})})})}},654:function(a,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n(40),i=n(626),s=function(a){a({type:t.DASHBOARD_LOADING}),i.a.get("user/dashboard").then((function(e){a({type:t.DASHBOARD_SUCCESS,payload:e.data.data}),console.log(e.data)})).catch((function(e){a({type:t.DASHBOARD_ERROR,payload:e.response.data.message}),console.log(e.response.data)}))}},659:function(a,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},660:function(a,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n(40),i=n(626),s=function(a){a({type:t.LOADING}),i.a.get("user/data-kepegawaian/data-diri").then((function(e){console.log(e.data),a({type:t.SUCCESS,payload:e.data.data})})).catch((function(e){a({type:t.ERROR,payload:e.response.data}),console.log(e.response.data)}))}},689:function(a,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l}));var t=n(626),i=function(a){t.a.get("user/master-data/agama").then((function(e){a(e.data.data)})).catch((function(a){}))},s=function(a){t.a.get("user/master-data/bidang").then((function(e){a(e.data.data)})).catch((function(a){}))},r=function(a){t.a.get("user/master-data/jabatan").then((function(e){a(e.data.data)})).catch((function(a){}))},c=function(a){t.a.get("user/master-data/eselon").then((function(e){a(e.data.data)})).catch((function(a){}))},l=function(a){t.a.get("user/master-data/golongan").then((function(e){a(e.data.data)})).catch((function(a){}))}},706:function(a,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return r}));var t=n(626),i=function(a,e,n,i,s){n(!0),t.a.post("user/pegawai/pns/".concat(a),e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(a){n(!1),i()})).catch((function(a){s(a.response.data.errors)}))},s=function(a,e,n,i,s){n(!0),t.a.post("user/pegawai/ptth/".concat(a),e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(a){n(!1),i()})).catch((function(a){s(a.response.data.errors)}))},r=function(a,e,n,i,s){n(!0),t.a.post("user/pegawai/pttb/".concat(a),e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(a){n(!1),i()})).catch((function(a){s(a.response.data.errors)}))}},986:function(a,e,n){"use strict";n.r(e);var t=n(2),i=n(638),s=n(9),r=n(1),c=n.n(r),l=n(631),d=n.n(l),o=n(632),j=n.n(o),u=n(635),p=n(634),m=n(629),h=n(628),b=n(20),g=n(643),O=n(649),_=n(647),x=n(163),k=n(660),f=n(689),v=n(706),y=n(654),w=n(17),N=j()(d.a);e.default=function(){var a=Object(b.g)(),e=Object(r.useState)(null),n=Object(s.a)(e,2),l=n[0],d=n[1],o=Object(r.useState)(null),j=Object(s.a)(o,2),S=j[0],C=j[1],L=Object(r.useState)(!1),B=Object(s.a)(L,2),E=B[0],q=B[1],P=Object(r.useState)([]),R=Object(s.a)(P,2),D=R[0],T=R[1],F=Object(r.useState)([]),M=Object(s.a)(F,2),A=M[0],G=M[1],K=Object(r.useState)([]),z=Object(s.a)(K,2),I=z[0],H=z[1],J=Object(r.useState)(!1),U=Object(s.a)(J,2),W=U[0],V=U[1],X=Object(r.useContext)(x.a),Y=X.dataDiriState,Q=X.dataDiriDispatch,Z=X.userState,$=X.dashboardDispatch,aa=Y.data,ea=Z.data;Object(r.useEffect)((function(){Object(k.a)(Q),Object(f.b)(G),Object(f.e)(T),Object(f.a)(H)}),[Q]);var na=c.a.useMemo((function(){return function(a){var e=[];return a.forEach((function(a){e.push({value:a.id_jabatan,label:a.nama_jabatan})})),e}(D)}),[D]);Object(r.useEffect)((function(){if(l){var a=URL.createObjectURL(l);return C(a),function(){URL.revokeObjectURL(a)}}C(aa?Object(g.d)(aa.foto):"")}),[aa,l]);var ta={nip:aa?aa.nip:"",nama:aa?aa.nama:"",penetap_sk:aa?aa.penetap_sk:"",tgl_penetapan_sk:aa?aa.tgl_penetapan_sk:"",no_sk:aa?aa.no_sk:"",kontrak_ke:aa?aa.kontrak_ke:"",masa_kerja:aa?aa.masa_kerja:"",tgl_mulai_tugas:aa?aa.tgl_mulai_tugas:"",id_jabatan:aa?aa.id_jabatan:"",id_bidang:aa?aa.id_bidang:"",id_agama:aa?aa.id_agama:"",tempat_lahir:aa?aa.tempat_lahir:"",tgl_lahir:aa?aa.tgl_lahir:"",alamat:aa?aa.alamat:"",jenis_kelamin:aa?aa.jenis_kelamin:"",bpjs:aa?aa.bpjs:"",npwp:aa?aa.npwp:"",no_hp:aa?aa.no_hp:"",email:aa?aa.email:"",no_ktp:aa?aa.no_ktp:"",gaji_pokok:aa?aa.gaji_pokok:"",foto:void 0},ia=function(){N.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){Object(k.a)(Q),Object(y.a)($),a.push("/epekerja/user/data-kepegawaian")}))},sa=function(a){var e="";for(var n in a)e+="".concat(a[n],", ");N.fire({icon:"error",title:"Edit Data Gagal",text:e}).then((function(a){q(!1)}))},ra=["image/jpg","image/jpeg","image/png"],ca=u.c().shape({nip:u.e().required("NIP harus diisi!"),nama:u.e().required("Nama harus diisi!"),penetap_sk:u.e().required("Penetap SK harus diisi!"),tgl_penetapan_sk:u.e().required("Tgl. penetapan SK harus diisi!"),no_sk:u.e().required("No. SK harus diisi!"),kontrak_ke:u.e().required("Kontrak harus diisi!"),masa_kerja:u.e().required("Masa kerja harus diisi!"),tgl_mulai_tugas:u.e().required("Tgl. mulai tugas harus diisi!"),id_jabatan:u.e().required("Tugas harus diisi!"),id_bidang:u.e().required("Bidang harus diisi!"),id_agama:u.e().required("Agama harus diisi!"),tempat_lahir:u.e().required("Tempat lahir harus diisi!"),tgl_lahir:u.e().required("Tgl lahir harus diisi!"),alamat:u.e().required("Alamat harus diisi!"),jenis_kelamin:u.e().required("Jenis kelamin harus diisi!"),bpjs:u.e().required("BPJS harus diisi!"),npwp:u.e().required("NPWP harus diisi!"),no_hp:u.e().required("No HP harus diisi!"),no_ktp:u.e().required("No. KTP harus diisi!"),email:u.e().required("No. email harus diisi!"),gaji_pokok:u.b().typeError("Gaji pokok harus berupa bilangan").integer("Gaji pokok harus berupa bilangan").required("Gaji pokok harus diisi!"),foto:u.a().test("size","Kapasitas file maksimal 2 mb",(function(a){return!a||a&&a.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, dan png",(function(a){return!a||a&&ra.includes(a.type)}))}),la={control:function(a,e){return Object(t.a)(Object(t.a)({},a),{},{border:W?"1px solid #e55353":a.border})}};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(h.h,{children:[Object(w.jsxs)(h.l,{className:"d-flex justify-content-between",children:[Object(w.jsx)("h3",{children:"Edit PTTB"}),Object(w.jsx)(h.f,{type:"button",color:"warning",className:"text-white",onClick:function(){a.goBack()},children:"Kembali"})]}),aa?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(p.a,{initialValues:ta,validationSchema:ca,enableReinitialize:!0,onSubmit:function(a){return function(a){var e=new FormData;e.append("nip",a.nip),e.append("nama",a.nama),e.append("penetap_sk",a.penetap_sk),e.append("tgl_penetapan_sk",a.tgl_penetapan_sk),e.append("no_sk",a.no_sk),e.append("kontrak_ke",a.kontrak_ke),e.append("masa_kerja",a.masa_kerja),e.append("tgl_mulai_tugas",a.tgl_mulai_tugas),e.append("id_jabatan",a.id_jabatan),e.append("tugas",a.id_jabatan),e.append("id_bidang",a.id_bidang),e.append("id_agama",a.id_agama),e.append("tempat_lahir",a.tempat_lahir),e.append("tgl_lahir",a.tgl_lahir),e.append("alamat",a.alamat),e.append("jenis_kelamin",a.jenis_kelamin),e.append("bpjs",a.bpjs),e.append("npwp",a.npwp),e.append("gaji_pokok",a.gaji_pokok),e.append("no_hp",a.no_hp),e.append("email",a.email),e.append("no_ktp",a.no_ktp),a.foto&&e.append("foto",a.foto);var n,t=Object(i.a)(e.entries());try{for(t.s();!(n=t.n()).done;){var s=n.value;console.log(s)}}catch(r){t.e(r)}finally{t.f()}Object(v.b)(ea.id_pegawai,e,q,ia,sa)}(a)},children:function(a){var e=a.values,n=a.errors,t=a.touched,i=a.handleChange,s=a.handleBlur,r=a.handleSubmit,c=a.setFieldValue;return Object(w.jsxs)(h.x,{onSubmit:r,className:"form-horizontal",children:[Object(w.jsx)(h.i,{children:Object(w.jsxs)(h.X,{children:[Object(w.jsxs)(h.n,{md:"6",sm:"12",children:[Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"NIP"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"nip",id:"nip",placeholder:"Masukkan nip",onChange:i,onBlur:s,value:e.nip,className:n.nip&&t.nip?"is-invalid":null}),n.nip&&t.nip&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.nip})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Nama"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"nama",id:"nama",placeholder:"Masukkan nama",onChange:i,onBlur:s,value:e.nama,className:n.nama&&t.nama?"is-invalid":null}),n.nama&&t.nama&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.nama})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Tugas"})}),Object(w.jsx)(h.n,{md:"9",sm:"12",children:Object(w.jsx)(O.a,{isDisabled:!0,styles:la,name:"id_jabatan",id:"id_jabatan",onChange:function(a){V(!1),c("id_jabatan",a?a.value:"")},onBlur:function(){return e.id_jabatan?V(!1):V(!0)},onFocus:function(){return V(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,defaultValue:{value:aa?aa.id_jabatan:"",label:aa?aa.jabatan:""},options:na})})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Bidang"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsxs)(h.Y,{custom:!0,name:"id_bidang",id:"id_bidang",onChange:i,onBlur:s,value:e.id_bidang,className:n.id_bidang&&t.id_bidang?"is-invalid":null,children:[Object(w.jsx)("option",{value:"",children:"-- Pilih Bidang --"}),A.map((function(a,e){return Object(w.jsx)("option",{value:a.id_bidang,children:a.nama_bidang},e)}))]}),n.id_bidang&&t.id_bidang&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.id_bidang})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Agama"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsxs)(h.Y,{custom:!0,name:"id_agama",id:"id_agama",onChange:i,onBlur:s,value:e.id_agama,className:n.id_agama&&t.id_agama?"is-invalid":null,children:[Object(w.jsx)("option",{value:"",children:"-- Pilih Agama --"}),I.map((function(a,e){return Object(w.jsx)("option",{value:a.id_agama,children:a.agama},e)}))]}),n.id_agama&&t.id_agama&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.id_agama})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Tempat Lahir"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",id:"tempat_lahir",name:"tempat_lahir",placeholder:"Masukkan tempat lahir",onChange:i,onBlur:s,value:e.tempat_lahir,className:n.tempat_lahir&&t.tempat_lahir?"is-invalid":null}),n.tempat_lahir&&t.tempat_lahir&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.tempat_lahir})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Tgl Lahir"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"date",id:"tgl_lahir",name:"tgl_lahir",placeholder:"Masukkan tanggal lahir",onChange:i,onBlur:s,value:e.tgl_lahir,className:n.tgl_lahir&&t.tgl_lahir?"is-invalid":null}),n.tgl_lahir&&t.tgl_lahir&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.tgl_lahir})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{htmlFor:"alamat",children:"Alamat"})}),Object(w.jsxs)(h.n,{sm:"12",md:"9",children:[Object(w.jsx)(h.lb,{name:"alamat",id:"alamat",rows:"5",placeholder:"Masukkan alamat",onChange:i,onBlur:s,value:e.alamat,className:n.alamat&&t.alamat?"is-invalid":null}),n.alamat&&t.alamat&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.alamat})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Jenis Kelamin"})}),Object(w.jsxs)(h.n,{sm:"12",md:"9",children:[Object(w.jsxs)(h.y,{variant:"custom-radio",inline:!0,children:[Object(w.jsx)(h.K,{custom:!0,id:"jenis_kelamin",name:"jenis_kelamin",onChange:i,onBlur:s,checked:"Laki-Laki"===e.jenis_kelamin,value:"Laki-Laki",required:!0}),Object(w.jsx)(h.L,{variant:"custom-checkbox",htmlFor:"jenis_kelamin",children:"Laki - Laki"})]}),Object(w.jsxs)(h.y,{variant:"custom-radio",inline:!0,children:[Object(w.jsx)(h.K,{custom:!0,id:"jenis_kelamin2",name:"jenis_kelamin",onChange:i,onBlur:s,checked:"Perempuan"===e.jenis_kelamin,value:"Perempuan"}),Object(w.jsx)(h.L,{variant:"custom-checkbox",htmlFor:"jenis_kelamin2",children:"Perempuan"})]})]})]})]}),Object(w.jsxs)(h.n,{md:"6",children:[Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"BPJS"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"bpjs",id:"bpjs",placeholder:"Masukkan bpjs",onChange:i,onBlur:s,value:e.bpjs,className:n.bpjs&&t.bpjs?"is-invalid":null}),n.bpjs&&t.bpjs&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.bpjs})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"NPWP"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"npwp",id:"npwp",placeholder:"Masukkan npwp",onChange:i,onBlur:s,value:e.npwp,className:n.npwp&&t.npwp?"is-invalid":null}),n.npwp&&t.npwp&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.npwp})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"No. HP"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"no_hp",id:"no_hp",placeholder:"Masukkan no hp",onChange:i,onBlur:s,value:e.no_hp,className:n.no_hp&&t.no_hp?"is-invalid":null}),n.no_hp&&t.no_hp&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.no_hp})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"Email"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"email",id:"email",placeholder:"Masukkan no. hp",onChange:i,onBlur:s,value:e.email,className:n.email&&t.email?"is-invalid":null}),n.email&&t.email&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.email})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.n,{children:Object(w.jsx)(h.L,{children:"No. KTP"})}),Object(w.jsxs)(h.n,{md:"9",sm:"12",children:[Object(w.jsx)(h.E,{type:"text",name:"no_ktp",id:"no_ktp",placeholder:"Masukkan no. ktp",onChange:i,onBlur:s,value:e.no_ktp,className:n.no_ktp&&t.no_ktp?"is-invalid":null}),n.no_ktp&&t.no_ktp&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.no_ktp})]})]}),Object(w.jsxs)(h.y,{row:!0,children:[Object(w.jsx)(h.L,{col:!0,children:"Foto"}),Object(w.jsxs)(h.n,{xs:"12",md:"9",children:[Object(w.jsx)(h.F,{custom:!0,id:"custom-file-input",onChange:function(a){!function(a){a.target.files&&0!==a.target.files.length?d(a.target.files[0]):d(void 0)}(a),c("foto",a.target.files[0])},onBlur:s,className:n.foto&&t.foto?"is-invalid":null}),n.foto&&t.foto&&Object(w.jsx)("div",{className:"invalid-feedback",children:n.foto}),Object(w.jsx)(h.L,{style:{width:"353px",left:15},htmlFor:"custom-file-input",variant:"custom-file",children:"Pilih Foto"}),S&&Object(w.jsx)("img",{src:S,alt:S,className:"img-thumbnail mt-2 mb-1",width:200}),Object(w.jsx)(h.z,{className:"help-block",children:"Foto harus bertipe jpg, jpeg, atau png dan sizenya kurang dari 2 MB"})]})]})]})]})}),Object(w.jsx)(h.j,{children:Object(w.jsx)(h.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!E,children:E?Object(w.jsx)("img",{width:21,src:m.d,alt:"load-animation"}):"Simpan"})})]})}})}):Object(w.jsx)(_.a,{})]})})}}}]);
//# sourceMappingURL=32.ec3ea828.chunk.js.map