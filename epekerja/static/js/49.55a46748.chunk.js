(this.webpackJsonpEPekerja=this.webpackJsonpEPekerja||[]).push([[49],{1076:function(e,n,t){"use strict";t.r(n);var a=t(7),i=t(627),c=t(634),r=t(1),s=t(20),o=t(651),l=function(e){return{id_pegawai:e?e.id_pegawai:"",tgl_berhenti:e?e.tgl_berhenti:"",keterangan:e?e.keterangan:""}},d=t(631),u=t.n(d),h=t(632),b=t.n(h),j=t(690),g=t(644),f=t(748),m=t(17),p=b()(u.a);n.default=function(){var e=Object(s.i)(),n=Object(s.g)(),t=e.params,d=Object(r.useState)(""),u=Object(a.a)(d,2),h=u[0],b=u[1],O=Object(r.useState)(!1),x=Object(a.a)(O,2),k=x[0],v=x[1];Object(r.useEffect)((function(){Object(j.d)(t.id,b)}),[t]);var w=function(){p.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n.push("/epekerja/admin/pegawai-berhenti")}))},y=function(e){var n="";for(var t in e)n+="".concat(e[t],", ");p.fire({icon:"error",title:"Edit Data Gagal",text:n}).then((function(e){v(!1)}))};return Object(m.jsx)("div",{children:Object(m.jsxs)(i.h,{children:[Object(m.jsxs)(i.l,{className:"d-flex justify-content-between",children:[Object(m.jsx)("h3",{children:"Edit Data Pensiun"}),Object(m.jsx)(i.f,{type:"button",color:"warning",className:"text-white",onClick:function(){n.goBack()},children:"Kembali"})]}),h?Object(m.jsx)(c.a,{initialValues:l(h),validationSchema:f.a,enableReinitialize:!0,onSubmit:function(e){console.log(e),Object(j.b)(t.id,e,v,w,y)},children:function(e){var n=e.values,t=e.errors,a=e.touched,c=e.handleChange,r=e.handleBlur,s=e.handleSubmit;return Object(m.jsxs)(i.x,{onSubmit:s,children:[Object(m.jsxs)(i.i,{children:[Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Nama Pegawai"})}),Object(m.jsx)(i.n,{children:Object(m.jsx)(i.E,{type:"text",name:"nama",value:h.nama,readOnly:!0})})]}),Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Tgl. Berhenti"})}),Object(m.jsxs)(i.n,{children:[Object(m.jsx)(i.E,{type:"date",name:"tgl_berhenti",id:"tgl_berhenti",onChange:c,onBlur:r,value:n.tgl_berhenti||"",placeholder:"Masukkan tgl. berhenti",className:t.tgl_berhenti&&a.tgl_berhenti?"is-invalid":null}),t.tgl_berhenti&&a.tgl_berhenti&&Object(m.jsx)("div",{className:"invalid-feedback",children:t.tgl_berhenti})]})]}),Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Keterangan"})}),Object(m.jsxs)(i.n,{children:[Object(m.jsx)(i.E,{type:"text",name:"keterangan",id:"keterangan",onChange:c,onBlur:r,value:n.keterangan||"",placeholder:"Masukkan keterangan / alasan berhenti",className:t.keterangan&&a.keterangan?"is-invalid":null}),t.keterangan&&a.keterangan&&Object(m.jsx)("div",{className:"invalid-feedback",children:t.keterangan})]})]})]}),Object(m.jsx)(i.j,{children:Object(m.jsx)(i.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!k,children:k?Object(m.jsx)(o.a,{}):"Simpan"})})]})}}):Object(m.jsx)(g.a,{})]})})}},644:function(e,n,t){"use strict";var a=t(627),i=(t(1),t(629)),c=t(17);n.a=function(){return Object(c.jsx)(a.X,{className:"mb-3",children:Object(c.jsx)(a.n,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.d,alt:"load-animation"})})})}},651:function(e,n,t){"use strict";t(1);var a=t(629),i=t(17);n.a=function(){return Object(i.jsx)("img",{width:21,src:a.e,alt:"load-animation"})}},690:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return s})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return l}));var a=t(626),i=function(e,n,t){a.a.get("admin/pegawai-berhenti-batal/".concat(e)).then((function(e){console.log(e.data),s(n),t.fire({icon:"success",title:"Sukses",text:"Status Berhenti Kerja Berhasil Dibatalkan"})})).catch((function(e){console.log(e.response.data),t.fire({icon:"error",title:"Gagal",text:e.response.data.message})}))},c=function(e,n,t,i,c){t(!0),a.a.post("admin/pegawai-berhenti/".concat(e),n).then((function(e){console.log(e.data),t(!1),i()})).catch((function(e){console.log(e.response.data),c(e.response.data.errors)}))},r=t(40),s=function(e){e({type:r.LOADING});a.a.get("admin/pegawai-berhenti").then((function(n){e({type:r.SUCCESS,payload:n.data.data})})).catch((function(n){e({type:r.ERROR,payload:n.response.data.message}),console.log(n.response.data)}))},o=function(e,n){a.a.get("admin/pegawai-berhenti/".concat(e)).then((function(e){n(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))},l=function(e,n,t,i){n(!0),a.a.post("admin/pegawai-berhenti",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){console.log(e.data),n(!1),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}},748:function(e,n,t){"use strict";var a=t(635),i=a.c().shape({id_pegawai:a.e().required("Pegawai harus diisi"),tgl_berhenti:a.e().required("Tgl. berhenti harus diisi"),keterangan:a.e().required("Keterangan / alasan berhenti harus diisi")});n.a=i}}]);
//# sourceMappingURL=49.55a46748.chunk.js.map