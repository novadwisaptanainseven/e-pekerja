{"version":3,"sources":["context/actions/DownloadFile/Excel/Pegawai/exportExcel.js","context/actions/Pegawai/PNS/getPNSById.js","helpers/getFilename.js","context/actions/DownloadFile/getSK.js","context/actions/PembaruanSK/getRiwayatSKById.js","context/actions/MasaKerja/getMasaKerjaById.js","context/actions/MasaKerja/editMasaKerja.js","context/actions/MasaKerja/getMasaKerja.js","views/pages/Admin/MasaKerja/functions.js","views/pages/Admin/MasaKerja/PerbaruiMasaKerja.js","views/pages/Admin/MasaKerja/DetailSK.js","context/actions/MasaKerja/getRiwayatMasaKerja.js","context/actions/DownloadFile/printRiwayatMK.js","views/pages/Admin/MasaKerja/RiwayatMasaKerja.js","context/actions/MasaKerja/deleteRiwayatMasaKerja.js"],"names":["exportExcel","data","request","type","params","startDate","endDate","window","open","localStorage","baseURL","bulan","tahun","getPNSById","id","setPNS","axiosInstance","get","then","res","catch","err","getFilename","value","arr","split","length","getSK","file","arr_file","name","getRiwayatSKById","id_pegawai","id_kgb","setData","console","log","response","getMasaKerjaById","setMasaKerja","editMasaKerja","values","setLoading","showAlertSuccess","showAlertError","put","errors","getMasaKerja","dispatch","LOADING","SUCCESS","payload","ERROR","message","splitMasaKerja","mk","arr_mk","MySwal","withReactContent","swal2","PerbaruiMasaKerja","modalTambah","setModalTambah","masaKerjaDispatch","history","useHistory","useState","loading","useEffect","modal","initState","mk_golongan_tahun","mk_golongan","mk_golongan_bulan","mk_jabatan_tahun","mk_jabatan","mk_jabatan_bulan","mk_cpns_tahun","mk_sebelum_cpns","mk_cpns_bulan","mk_seluruhnya_tahun","mk_seluruhnya","mk_seluruhnya_bulan","fire","icon","title","showConfirmButton","timer","push","err_message","key","text","result","validationSchema","Yup","shape","required","handleFormSubmit","newVal","initialValues","enableReinitialize","onSubmit","touched","handleChange","handleBlur","handleSubmit","row","md","placeholder","onChange","onBlur","className","color","onClick","disabled","width","src","LoadAnimationWhite","alt","LoadAnimationBlue","DetailSK","modalDetail","setModalDetail","id_riwayat_sk","no_sk","penetap_sk","format","Date","tgl_penetapan_sk","tgl_mulai_tugas","nama_jabatan","gaji_pokok","toLocaleString","style","currency","href","target","rel","getRiwayatMasaKerja","printRiwayatMK","RiwayatMasaKerja","match","pegawai","setPegawai","alertSuccess","setAlertSuccess","alertSuccessDelete","setAlertSuccessDelete","goToDetailPegawai","columns","selector","sortable","wrap","cell","tanggal","data-tag","size","handleDelete","id_riwayat_mk","content","cilTrash","customStyles","headCells","fontSize","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","idRiwayatMasaKerja","delete","deleteRiwayatMasaKerja","SubHeaderComponentMemo","cilUser","cilPrint","nama","height","goBack","show","closeButton","onShowChange","e","preventDefault","responsive","pagination","subHeader","subHeaderComponent","noHeader","onClose"],"mappings":"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","file":"static/js/20.7639a9e7.chunk.js","sourcesContent":["const exportExcel = (data, request = null, type = \"\") => {\r\n  if (!type) {\r\n    window.open(`${localStorage.baseURL}${data}/export`, \"_self\");\r\n  } else if (type === \"filter_tanggal\") {\r\n    let params = `first_date=${request.startDate}&last_date=${request.endDate}`;\r\n    window.open(`${localStorage.baseURL}${data}/export/?${params}`, \"_self\");\r\n  } else if (type === \"filter_tahun\") {\r\n    let params = `tahun=${request}`;\r\n    window.open(`${localStorage.baseURL}${data}/export/?${params}`, \"_self\");\r\n  } else if (type === \"filter_bulan_tahun\") {\r\n    let params = `bulan=${request.bulan}&tahun=${request.tahun}`;\r\n    window.open(`${localStorage.baseURL}${data}/export?${params}`, \"_self\");\r\n  }\r\n};\r\n\r\nexport default exportExcel;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","const getFilename = (value) => {\r\n  const arr = value.split(\"/\");\r\n  const arr_name = arr[arr.length - 1];\r\n\r\n  return arr_name;\r\n};\r\n\r\nexport default getFilename;\r\n","const getSK = (file) => {\r\n  let arr_file = file.split(\"/\");\r\n  let name = arr_file[arr_file.length - 1];\r\n\r\n  return `${localStorage.baseURL}sk/${name}`;\r\n};\r\n\r\nexport default getSK;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatSKById = (id_pegawai, id_kgb, setData) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/pembaruan-sk/${id_kgb}`)\r\n    .then((res) => {\r\n      setData(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getMasaKerjaById = (id, setMasaKerja) => {\r\n  axiosInstance\r\n    .get(`admin/masa-kerja/${id}`)\r\n    .then((res) => {\r\n      setMasaKerja(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const editMasaKerja = (\r\n  id,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .put(`admin/masa-kerja/${id}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import { ERROR, LOADING, SUCCESS } from \"src/context/actionTypes\";\r\nimport axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getMasaKerja = (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n\r\n  axiosInstance\r\n    .get(\"admin/masa-kerja\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SUCCESS,\r\n        payload: res.data.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: err.response.data.message,\r\n      });\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","export const splitMasaKerja = (mk) => {\r\n  let arr_mk = mk.split(\" \");\r\n  let tahun = arr_mk[0];\r\n  let bulan = arr_mk[2];\r\n\r\n  return { tahun: tahun, bulan: bulan };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationBlue, LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CCol,\r\n  CLabel,\r\n  CInput,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CForm,\r\n  CButton,\r\n  CFormText,\r\n  CRow,\r\n} from \"@coreui/react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { splitMasaKerja } from \"./functions\";\r\nimport { getMasaKerjaById } from \"src/context/actions/MasaKerja/getMasaKerjaById\";\r\nimport { editMasaKerja } from \"src/context/actions/MasaKerja/editMasaKerja\";\r\nimport { getMasaKerja } from \"src/context/actions/MasaKerja/getMasaKerja\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst PerbaruiMasaKerja = ({\r\n  modalTambah,\r\n  setModalTambah,\r\n  id_pegawai,\r\n  masaKerjaDispatch,\r\n}) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n\r\n  // Get Riwayat Terakhir Masa Kerja\r\n  useEffect(() => {\r\n    console.log(id_pegawai);\r\n    if (id_pegawai && modalTambah.modal) {\r\n      getMasaKerjaById(id_pegawai, setData);\r\n    }\r\n\r\n    return () => setData(\"\");\r\n  }, [id_pegawai, modalTambah]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    mk_golongan_tahun: data ? splitMasaKerja(data.mk_golongan).tahun : \"\",\r\n    mk_golongan_bulan: data ? splitMasaKerja(data.mk_golongan).bulan : \"\",\r\n    mk_jabatan_tahun: data ? splitMasaKerja(data.mk_jabatan).tahun : \"\",\r\n    mk_jabatan_bulan: data ? splitMasaKerja(data.mk_jabatan).bulan : \"\",\r\n    mk_cpns_tahun: data ? splitMasaKerja(data.mk_sebelum_cpns).tahun : \"\",\r\n    mk_cpns_bulan: data ? splitMasaKerja(data.mk_sebelum_cpns).bulan : \"\",\r\n    mk_seluruhnya_tahun: data ? splitMasaKerja(data.mk_seluruhnya).tahun : \"\",\r\n    mk_seluruhnya_bulan: data ? splitMasaKerja(data.mk_seluruhnya).bulan : \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Masa Kerja Berhasil Diperbarui\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      getMasaKerja(masaKerjaDispatch);\r\n      setModalTambah({ ...modalTambah, modal: false, id: null });\r\n      history.push(`/epekerja/admin/masa-kerja`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Masa Kerja Gagal Diperbarui\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    mk_golongan_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    mk_golongan_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n    mk_jabatan_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    mk_jabatan_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n    mk_cpns_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    mk_cpns_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n    mk_seluruhnya_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    mk_seluruhnya_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const mkGolongan = `${values.mk_golongan_tahun} Tahun ${values.mk_golongan_bulan} Bulan`;\r\n    const mkJabatan = `${values.mk_jabatan_tahun} Tahun ${values.mk_jabatan_bulan} Bulan`;\r\n    const mkCpns = `${values.mk_cpns_tahun} Tahun ${values.mk_cpns_bulan} Bulan`;\r\n    const mkSeluruhnya = `${values.mk_seluruhnya_tahun} Tahun ${values.mk_seluruhnya_bulan} Bulan`;\r\n\r\n    const newVal = {\r\n      mk_golongan: mkGolongan,\r\n      mk_jabatan: mkJabatan,\r\n      mk_sebelum_cpns: mkCpns,\r\n      mk_seluruhnya: mkSeluruhnya,\r\n    };\r\n\r\n    editMasaKerja(\r\n      id_pegawai,\r\n      newVal,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {data ? (\r\n        <Formik\r\n          initialValues={initState}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={(values) => handleFormSubmit(values)}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          }) => (\r\n            <CForm onSubmit={handleSubmit}>\r\n              <CModalBody>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Masa Kerja Golongan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_golongan_tahun\"\r\n                      id=\"mk_golongan_tahun\"\r\n                      placeholder=\"Tahun\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_golongan_tahun}\r\n                      className={\r\n                        errors.mk_golongan_tahun && touched.mk_golongan_tahun\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_golongan_tahun && touched.mk_golongan_tahun && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_golongan_tahun}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Tahun</CFormText>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_golongan_bulan\"\r\n                      id=\"mk_golongan_bulan\"\r\n                      placeholder=\"Bulan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_golongan_bulan}\r\n                      className={\r\n                        errors.mk_golongan_bulan && touched.mk_golongan_bulan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_golongan_bulan && touched.mk_golongan_bulan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_golongan_bulan}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Bulan</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Masa Kerja Jabatan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_jabatan_tahun\"\r\n                      id=\"mk_jabatan_tahun\"\r\n                      placeholder=\"Tahun\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_jabatan_tahun}\r\n                      className={\r\n                        errors.mk_jabatan_tahun && touched.mk_jabatan_tahun\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_jabatan_tahun && touched.mk_jabatan_tahun && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_jabatan_tahun}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Tahun</CFormText>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_jabatan_bulan\"\r\n                      id=\"mk_jabatan_bulan\"\r\n                      placeholder=\"Bulan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_jabatan_bulan}\r\n                      className={\r\n                        errors.mk_jabatan_bulan && touched.mk_jabatan_bulan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_jabatan_bulan && touched.mk_jabatan_bulan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_jabatan_bulan}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Bulan</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Masa Kerja Sebelum CPNS</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_cpns_tahun\"\r\n                      id=\"mk_cpns_tahun\"\r\n                      placeholder=\"Tahun\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_cpns_tahun}\r\n                      className={\r\n                        errors.mk_cpns_tahun && touched.mk_cpns_tahun\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_cpns_tahun && touched.mk_cpns_tahun && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_cpns_tahun}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Tahun</CFormText>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_cpns_bulan\"\r\n                      id=\"mk_cpns_bulan\"\r\n                      placeholder=\"Bulan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_cpns_bulan}\r\n                      className={\r\n                        errors.mk_cpns_bulan && touched.mk_cpns_bulan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_cpns_bulan && touched.mk_cpns_bulan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.mk_cpns_bulan}\r\n                      </div>\r\n                    )}\r\n                    <CFormText>Bulan</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Masa Kerja Seluruhnya</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_seluruhnya_tahun\"\r\n                      id=\"mk_seluruhnya_tahun\"\r\n                      placeholder=\"Tahun\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_seluruhnya_tahun}\r\n                      className={\r\n                        errors.mk_seluruhnya_tahun &&\r\n                        touched.mk_seluruhnya_tahun\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_seluruhnya_tahun &&\r\n                      touched.mk_seluruhnya_tahun && (\r\n                        <div className=\"invalid-feedback\">\r\n                          {errors.mk_seluruhnya_tahun}\r\n                        </div>\r\n                      )}\r\n                    <CFormText>Tahun</CFormText>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"mk_seluruhnya_bulan\"\r\n                      id=\"mk_seluruhnya_bulan\"\r\n                      placeholder=\"Bulan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.mk_seluruhnya_bulan}\r\n                      className={\r\n                        errors.mk_seluruhnya_bulan &&\r\n                        touched.mk_seluruhnya_bulan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.mk_seluruhnya_bulan &&\r\n                      touched.mk_seluruhnya_bulan && (\r\n                        <div className=\"invalid-feedback\">\r\n                          {errors.mk_seluruhnya_bulan}\r\n                        </div>\r\n                      )}\r\n                    <CFormText>Bulan</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CModalBody>\r\n              <CModalFooter>\r\n                <CButton\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  onClick={() => handleFormSubmit(values)}\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  {loading ? (\r\n                    <img\r\n                      width={21}\r\n                      src={LoadAnimationWhite}\r\n                      alt=\"load-animation\"\r\n                    />\r\n                  ) : (\r\n                    \"Simpan\"\r\n                  )}\r\n                </CButton>{\" \"}\r\n                {/* <CButton\r\n                type=\"submit\"\r\n                color=\"warning\"\r\n                onClick={(e) => {\r\n                  handleReset(e);\r\n                  setFieldValue(\"tugas\", \"\");\r\n                }}\r\n              >\r\n                Reset\r\n              </CButton>{\" \"} */}\r\n                <CButton\r\n                  type=\"button\"\r\n                  color=\"secondary\"\r\n                  onClick={() =>\r\n                    setModalTambah({ ...modalTambah, modal: false })\r\n                  }\r\n                >\r\n                  Batal\r\n                </CButton>\r\n              </CModalFooter>\r\n            </CForm>\r\n          )}\r\n        </Formik>\r\n      ) : (\r\n        <CRow className=\"mb-3\">\r\n          <CCol className=\"text-center\">\r\n            <img\r\n              className=\"mt-4 ml-3\"\r\n              width={30}\r\n              src={LoadAnimationBlue}\r\n              alt=\"load-animation\"\r\n            />\r\n          </CCol>\r\n        </CRow>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PerbaruiMasaKerja;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\n\r\nimport { CCol, CModalBody, CModalFooter, CButton, CRow } from \"@coreui/react\";\r\n\r\nimport { getRiwayatSKById } from \"src/context/actions/PembaruanSK/getRiwayatSKById\";\r\nimport { format } from \"date-fns\";\r\nimport getSK from \"src/context/actions/DownloadFile/getSK\";\r\nimport getFilename from \"src/helpers/getFilename\";\r\n\r\nconst DetailSK = ({\r\n  modalDetail,\r\n  setModalDetail,\r\n  id_pegawai,\r\n  id_riwayat_sk,\r\n}) => {\r\n  const [data, setData] = useState(\"\");\r\n\r\n  // Get Riwayat SK By ID\r\n  useEffect(() => {\r\n    if (id_riwayat_sk) {\r\n      getRiwayatSKById(id_pegawai, id_riwayat_sk, setData);\r\n    }\r\n\r\n    return () => setData(\"\");\r\n  }, [id_pegawai, id_riwayat_sk]);\r\n\r\n  return (\r\n    <>\r\n      <CModalBody>\r\n        {data ? (\r\n          <>\r\n            <table className=\"table table-striped table-borderless\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>No. SK</th>\r\n                  <td>{data.no_sk}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Penetap SK</th>\r\n                  <td>{data.penetap_sk}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tgl. Penetapan SK</th>\r\n                  <td>{format(new Date(data.tgl_penetapan_sk), \"dd/MM/y\")}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tgl. Mulai Tugas</th>\r\n                  <td>{format(new Date(data.tgl_mulai_tugas), \"dd/MM/y\")}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tugas Pokok (Jabatan)</th>\r\n                  <td>{data.nama_jabatan}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Gaji Pokok</th>\r\n                  <td>\r\n                    {data.gaji_pokok.toLocaleString(\"id\", {\r\n                      style: \"currency\",\r\n                      currency: \"IDR\",\r\n                    })}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>File SK</th>\r\n                  <td>\r\n                    <a href={getSK(data.file)} target=\"_blank\" rel=\"noreferrer\">\r\n                      {getFilename(data.file)}\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </>\r\n        ) : (\r\n          <CRow>\r\n            <CCol className=\"text-center\">\r\n              <img\r\n                className=\"mt-4 ml-3 mb-4\"\r\n                width={30}\r\n                src={LoadAnimationBlue}\r\n                alt=\"load-animation\"\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        )}\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"secondary\"\r\n          onClick={() =>\r\n            setModalDetail({\r\n              ...modalDetail,\r\n              modal: false,\r\n              id: null,\r\n            })\r\n          }\r\n        >\r\n          Tutup\r\n        </CButton>\r\n      </CModalFooter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailSK;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatMasaKerja = (id_pegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/masa-kerja/riwayat`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","const printRiwayatMK = (id) => {\r\n  window.open(`${localStorage.baseURL}riwayat-mk-cetak/${id}`, \"_blank\");\r\n};\r\n\r\nexport default printRiwayatMK;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CCol,\r\n  CButtonGroup,\r\n  CAlert,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilTrash, cilPrint, cilUser } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport { format } from \"date-fns\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\nimport PerbaruiMasaKerja from \"./PerbaruiMasaKerja\";\r\nimport DetailSK from \"./DetailSK\";\r\nimport { getRiwayatMasaKerja } from \"src/context/actions/MasaKerja/getRiwayatMasaKerja\";\r\nimport { deleteRiwayatMasaKerja } from \"src/context/actions/MasaKerja/deleteRiwayatMasaKerja\";\r\nimport printRiwayatMK from \"src/context/actions/DownloadFile/printRiwayatMK\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatMasaKerja = ({ match }) => {\r\n  const params = match.params;\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const [alertSuccess, setAlertSuccess] = useState(false);\r\n  const [alertSuccessDelete, setAlertSuccessDelete] = useState(false);\r\n\r\n  const [modalDetail, setModalDetail] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goToDetailPegawai = (id) => {\r\n    history.push(`/epekerja/admin/pegawai-detail/${id}`);\r\n  };\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  // Get Pegawai by Id Pegawai\r\n  useEffect(() => {\r\n    getPNSById(params.id, setPegawai);\r\n\r\n    // Unmount\r\n    return () => {\r\n      setPegawai(\"\");\r\n    };\r\n  }, [params]);\r\n\r\n  // Get Riwayat Masa Kerja\r\n  useEffect(() => {\r\n    getRiwayatMasaKerja(params.id, setLoading, setData);\r\n  }, [params]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Tgl. Pembaruan\",\r\n      selector: \"tanggal\",\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => <div>{format(new Date(row.tanggal), \"dd/MM/y\")}</div>,\r\n    },\r\n    {\r\n      name: \"MK. Golongan\",\r\n      selector: \"mk_golongan\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"MK. Jabatan\",\r\n      selector: \"mk_jabatan\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"MK. Sebelum CPNS\",\r\n      selector: \"mk_sebelum_cpns\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"MK. Seluruhnya\",\r\n      selector: \"mk_seluruhnya\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      // maxWidth: \"150px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => {\r\n        return (\r\n          <div data-tag=\"allowRowEvents\">\r\n            <CButtonGroup>\r\n              <CButton\r\n                color=\"danger\"\r\n                size=\"sm\"\r\n                onClick={() => handleDelete(row.id_riwayat_mk)}\r\n              >\r\n                <CIcon content={cilTrash} />\r\n              </CButton>\r\n            </CButtonGroup>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_riwayat_mk) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteRiwayatMasaKerja(\r\n          params.id,\r\n          id_riwayat_mk,\r\n          setLoading,\r\n          setData,\r\n          setAlertSuccessDelete\r\n        );\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"secondary\"\r\n          className=\"ml-2\"\r\n          onClick={() => goToDetailPegawai(params.id)}\r\n        >\r\n          Detail Pegawai <CIcon content={cilUser} />\r\n        </CButton>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"info\"\r\n          className=\"ml-2\"\r\n          onClick={() => printRiwayatMK(params.id)}\r\n        >\r\n          PDF <CIcon content={cilPrint} />\r\n        </CButton>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"success\"\r\n          className=\"ml-2\"\r\n          onClick={() => exportExcel(`riwayat-mk/${params.id}`)}\r\n        >\r\n          Excel <CIcon content={cilPrint} />\r\n        </CButton>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Pembaruan Masa Kerja Pegawai</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          {/* Alert Success Perbarui Masa Kerja */}\r\n          <CAlert\r\n            show={alertSuccess}\r\n            color=\"success\"\r\n            closeButton\r\n            onShowChange={(show) => setAlertSuccess(show)}\r\n          >\r\n            Masa Kerja berhasil diperbarui. Silahkan cek di{\" \"}\r\n            <a\r\n              href=\".\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                goToDetailPegawai(params.id);\r\n              }}\r\n            >\r\n              Detail Pegawai\r\n            </a>\r\n          </CAlert>\r\n          {/* End of Alert Success Perbarui Masa Kerja */}\r\n\r\n          {/* Alert Success Delete Riwayat Masa Kerja */}\r\n          <CAlert\r\n            show={alertSuccessDelete}\r\n            color=\"success\"\r\n            closeButton\r\n            onShowChange={(show) => setAlertSuccessDelete(show)}\r\n          >\r\n            Riwayat Masa Kerja berhasil dihapus.\r\n          </CAlert>\r\n          {/* End of Alert Success Delete Riwayat Masa Kerja */}\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Perbarui Masa Kerja\r\n          </CButton>\r\n          <h3 className=\"font-weight-normal text-center\">\r\n            Riwayat Masa Kerja Pegawai\r\n          </h3>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Perbarui Masa Kerja</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <PerbaruiMasaKerja\r\n          modalTambah={modalTambah}\r\n          setModalTambah={setModalTambah}\r\n          id_pegawai={params.id}\r\n          setAlertSuccess={setAlertSuccess}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Detail Riwayat SK */}\r\n      <CModal\r\n        show={modalDetail.modal}\r\n        onClose={() => {\r\n          setModalDetail({\r\n            ...modalDetail,\r\n            modal: !modalDetail.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Detail Riwayat SK</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <DetailSK\r\n          id_riwayat_sk={modalDetail.id}\r\n          id_pegawai={params.id}\r\n          modalDetail={modalDetail}\r\n          setModalDetail={setModalDetail}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RiwayatMasaKerja;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRiwayatMasaKerja } from \"./getRiwayatMasaKerja\";\r\n\r\nexport const deleteRiwayatMasaKerja = (\r\n  id_pegawai,\r\n  idRiwayatMasaKerja,\r\n  setLoading,\r\n  setData,\r\n  setAlertSuccess\r\n) => {\r\n  axiosInstance\r\n    .delete(\r\n      `admin/pegawai/${id_pegawai}/masa-kerja/riwayat/${idRiwayatMasaKerja}`\r\n    )\r\n    .then((res) => {\r\n      setAlertSuccess(true);\r\n      getRiwayatMasaKerja(id_pegawai, setLoading, setData);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n"],"sourceRoot":""}