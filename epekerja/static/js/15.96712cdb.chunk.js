(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{1014:function(e,a,n){"use strict";n.r(a);var t=n(2),i=n(9),c=n(1),s=n.n(c),l=n(631),r=n.n(l),o=n(632),j=n.n(o),d=n(628),u=n(641),b=n.n(u),h=n(637),k=n(673),p=n(656),m=n(587),_=n(589),O=n(571),x=n(20),g=n(650),f=n(629),v=n(748),y=n(645),w=n(638),N=n(635),S=n(634),C=n(649),K=n(646),B=n(695),M=n(17),T=j()(r.a),E=function(e){var a=e.modalTambah,n=e.setModalTambah,l=e.id_pegawai,r=e.setData,o=Object(c.useState)(!1),j=Object(i.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(""),k=Object(i.a)(h,2),p=k[0],m=k[1],_=Object(c.useState)([]),O=Object(i.a)(_,2),x=O[0],g=O[1],v=Object(c.useState)(!1),y=Object(i.a)(v,2),E=y[0],P=y[1];Object(c.useEffect)((function(){a&&Object(K.a)(g)}),[a]);var R=s.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(x)}),[x]),L={no_sk:"",penetap_sk:"",tgl_penetapan_sk:"",tgl_mulai_tugas:"",tugas:"",kontrak_ke:"",masa_kerja_tahun:"",masa_kerja_bulan:"",gaji_pokok:"",file:void 0},D=function(){T.fire({icon:"success",title:"SK Berhasil Diperbarui",showConfirmButton:!1,timer:1500}).then((function(e){n(!a)}))},q=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");T.fire({icon:"error",title:"SK Gagal Diperbarui",text:a}).then((function(e){b(!1)}))},F=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],z=N.c().shape({no_sk:N.e().required("No. SK baru harus diisi!"),penetap_sk:N.e().required("Penetap SK"),tgl_penetapan_sk:N.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:N.e().required("Tgl mulai tugas harus diisi!"),tugas:N.e().required("Tugas pokok (jabatan) harus diisi!"),kontrak_ke:N.e().required("Kontrak baru harus diisi!"),masa_kerja_tahun:N.e().required("Tahun harus diisi!"),masa_kerja_bulan:N.e().required("Bulan harus diisi!"),gaji_pokok:N.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:N.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&F.includes(e.type)}))}),H={control:function(e,a){return Object(t.a)(Object(t.a)({},e),{},{border:E?"1px solid #e55353":e.border})}};return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(S.a,{initialValues:L,validationSchema:z,enableReinitialize:!0,onSubmit:function(e){return function(e){var a=new FormData,n="".concat(e.masa_kerja_tahun," Tahun ").concat(e.masa_kerja_bulan," Bulan");for(var t in e)"file"!==t?a.append(t,e[t]):e.file&&a.append("file",e.file);a.append("sk_terkini",1),a.append("masa_kerja",n);var i,c=Object(w.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(o){c.e(o)}finally{c.f()}Object(B.a)(l,a,b,r,D,q),m("")}(e)},children:function(e){var t=e.values,i=e.errors,c=e.touched,s=e.handleChange,l=e.handleBlur,r=e.handleSubmit,o=e.handleReset,j=e.setFieldValue;return Object(M.jsxs)(d.x,{onSubmit:r,children:[Object(M.jsxs)(d.O,{children:[Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"No. SK Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:s,onBlur:l,value:t.no_sk,className:i.no_sk&&c.no_sk?"is-invalid":null}),i.no_sk&&c.no_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Penetap SK"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:s,onBlur:l,value:t.penetap_sk,className:i.penetap_sk&&c.penetap_sk?"is-invalid":null}),i.penetap_sk&&c.penetap_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.penetap_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tgl. Penetapan SK"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:s,onBlur:l,value:t.tgl_penetapan_sk,className:i.tgl_penetapan_sk&&c.tgl_penetapan_sk?"is-invalid":null}),i.tgl_penetapan_sk&&c.tgl_penetapan_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.tgl_penetapan_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tgl. Mulai Tugas"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 01 Januari s/d 31 Desember 2021",onChange:s,onBlur:l,value:t.tgl_mulai_tugas,className:i.tgl_mulai_tugas&&c.tgl_mulai_tugas?"is-invalid":null}),i.tgl_mulai_tugas&&c.tgl_mulai_tugas&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.tgl_mulai_tugas})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tugas Pokok (Jabatan)"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(C.a,{styles:H,name:"tugas",id:"tugas",onChange:function(e){P(!1),j("tugas",e?e.value:"")},onBlur:function(){return t.tugas?P(!1):P(!0)},onFocus:function(){return P(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:R}),!t.tugas&&E&&Object(M.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Kontrak Ke"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"kontrak_ke",id:"kontrak_ke",placeholder:"Masukkan kontrak baru",min:"0",onChange:s,onBlur:l,value:t.kontrak_ke||0,className:i.kontrak_ke&&c.kontrak_ke?"is-invalid":null}),i.kontrak_ke&&c.kontrak_ke&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.kontrak_ke})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Masa Kerja"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"masa_kerja_tahun",id:"masa_kerja_tahun",min:"0",placeholder:"Masukkan tahun",onChange:s,onBlur:l,value:t.masa_kerja_tahun||0,className:i.masa_kerja_tahun&&c.masa_kerja_tahun?"is-invalid":null}),i.masa_kerja_tahun&&c.masa_kerja_tahun&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_tahun})]}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"masa_kerja_bulan",id:"masa_kerja_bulan",min:"0",placeholder:"Masukkan bulan",onChange:s,onBlur:l,value:t.masa_kerja_bulan||0,className:i.masa_kerja_bulan&&c.masa_kerja_bulan?"is-invalid":null}),i.masa_kerja_bulan&&c.masa_kerja_bulan&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_bulan})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Gaji Pokok Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:s,onBlur:l,onKeyUp:function(e){return function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});m("RpNaN"!==a?a:"")}(e.target.value)},value:t.gaji_pokok,className:i.gaji_pokok&&c.gaji_pokok?"is-invalid":null}),Object(M.jsx)("div",{className:"mt-1",children:p}),i.gaji_pokok&&c.gaji_pokok&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.gaji_pokok})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"File SK Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK baru",onChange:function(e){return j("file",e.target.files[0])},onBlur:l,className:i.file&&c.file?"is-invalid":null}),i.file&&c.file&&Object(M.jsx)("div",{className:"invalid-feedback",children:i.file})]})]})]}),Object(M.jsxs)(d.P,{children:[Object(M.jsx)(d.f,{type:"submit",color:"primary",disabled:!!u,onClick:function(){t.tugas?P(!1):P(!0)},children:u?Object(M.jsx)("img",{width:21,src:f.d,alt:"load-animation"}):"Simpan"})," ",Object(M.jsx)(d.f,{type:"submit",color:"warning",onClick:function(e){o(e),j("tugas","")},children:"Reset"})," ",Object(M.jsx)(d.f,{type:"button",color:"secondary",onClick:function(){return n(!a)},children:"Batal"})]})]})}})})},P=n(657),R=n(662),L=n(666),D=n(694),q=j()(r.a),F=function(e){var a=e.modalEdit,n=e.setModalEdit,l=e.id_pegawai,r=e.id_riwayat_sk,o=e.setDataRiwayat,j=Object(c.useState)(!1),u=Object(i.a)(j,2),b=u[0],h=u[1],k=Object(c.useState)(""),p=Object(i.a)(k,2),m=p[0],_=p[1],O=Object(c.useState)([]),x=Object(i.a)(O,2),g=x[0],v=x[1],y=Object(c.useState)(!1),B=Object(i.a)(y,2),T=B[0],E=B[1],P=Object(c.useState)(""),R=Object(i.a)(P,2),F=R[0],z=R[1];Object(c.useEffect)((function(){return r&&Object(L.a)(l,r,z),function(){return z("")}}),[l,r]),Object(c.useEffect)((function(){a.modal&&Object(K.a)(v)}),[a]),Object(c.useEffect)((function(){F&&J(F.gaji_pokok)}),[F]);var H=s.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(g)}),[g]),A=function(e){var a=e.split(" ");return{tahun:a[0],bulan:a[2]}},G={no_sk:F?F.no_sk:"",penetap_sk:F?F.penetap_sk:"",tgl_penetapan_sk:F?F.tgl_penetapan_sk:"",tgl_mulai_tugas:F?F.tgl_mulai_tugas:"",tugas:F?F.tugas:"",kontrak_ke:F?F.kontrak_ke:"",masa_kerja_tahun:F?A(F.masa_kerja).tahun:"",masa_kerja_bulan:F?A(F.masa_kerja).bulan:"",gaji_pokok:F?F.gaji_pokok:"",sk_terkini:F?F.sk_terkini:"",file:void 0},J=function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});_("RpNaN"!==a?a:"")},X=function(){q.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(Object(t.a)(Object(t.a)({},a),{},{modal:!a.modal,id:null}))}))},V=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");q.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){h(!1)}))},I=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Z=N.c().shape({no_sk:N.e().required("No. SK baru harus diisi!"),penetap_sk:N.e().required("Penetap SK"),tgl_penetapan_sk:N.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:N.e().required("Tgl mulai tugas harus diisi!"),tugas:N.e().required("Tugas pokok (jabatan) harus diisi!"),kontrak_ke:N.e().required("Kontrak ke harus diisi!"),masa_kerja_tahun:N.e().required("Tahun harus diisi!"),masa_kerja_bulan:N.e().required("Bulan harus diisi!"),gaji_pokok:N.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:N.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&I.includes(e.type)}))}),U={control:function(e,a){return Object(t.a)(Object(t.a)({},e),{},{border:T?"1px solid #e55353":e.border})}},Q=s.a.memo((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("input",{type:"checkbox",name:"sk_terkini",checked:1===a.sk_terkini||"on"===a.sk_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(M.jsx)(M.Fragment,{children:F?Object(M.jsx)(S.a,{initialValues:G,validationSchema:Z,enableReinitialize:!0,onSubmit:function(e){var a=new FormData,n="".concat(e.masa_kerja_tahun," Tahun ").concat(e.masa_kerja_bulan," Bulan"),t=1===e.sk_terkini||"on"===e.sk_terkini[0]?1:0;a.append("no_sk",e.no_sk),a.append("penetap_sk",e.penetap_sk),a.append("tgl_penetapan_sk",e.tgl_penetapan_sk),a.append("tgl_mulai_tugas",e.tgl_mulai_tugas),a.append("tugas",e.tugas),a.append("kontrak_ke",e.kontrak_ke),a.append("masa_kerja",n),a.append("gaji_pokok",e.gaji_pokok),a.append("sk_terkini",t),e.file&&a.append("file",e.file);var i,c=Object(w.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(j){c.e(j)}finally{c.f()}Object(D.a)(l,r,a,h,o,X,V),_("")},children:function(e){var i=e.values,c=e.errors,s=e.touched,l=e.handleChange,r=e.handleBlur,o=e.handleSubmit,j=e.handleReset,u=e.setFieldValue;return Object(M.jsxs)(d.x,{onSubmit:o,children:[Object(M.jsxs)(d.O,{children:[Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"No. SK Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:l,onBlur:r,value:i.no_sk,className:c.no_sk&&s.no_sk?"is-invalid":null}),c.no_sk&&s.no_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.no_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Penetap SK"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:l,onBlur:r,value:i.penetap_sk,className:c.penetap_sk&&s.penetap_sk?"is-invalid":null}),c.penetap_sk&&s.penetap_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.penetap_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tgl. Penetapan SK"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:l,onBlur:r,value:i.tgl_penetapan_sk,className:c.tgl_penetapan_sk&&s.tgl_penetapan_sk?"is-invalid":null}),c.tgl_penetapan_sk&&s.tgl_penetapan_sk&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.tgl_penetapan_sk})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tgl. Mulai Tugas"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 01 Januari s/d 31 Desember 2021",onChange:l,onBlur:r,value:i.tgl_mulai_tugas,className:c.tgl_mulai_tugas&&s.tgl_mulai_tugas?"is-invalid":null}),c.tgl_mulai_tugas&&s.tgl_mulai_tugas&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.tgl_mulai_tugas})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Tugas Pokok (Jabatan)"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(C.a,{styles:U,name:"tugas",id:"tugas",onChange:function(e){E(!1),u("tugas",e?e.value:"")},onFocus:function(){return E(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:H,defaultValue:{value:F?F.id_jabatan:"",label:F?F.nama_jabatan:""}}),!i.tugas&&T&&Object(M.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Kontrak Ke"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"kontrak_ke",id:"kontrak_ke",placeholder:"Masukkan kontrak baru",min:"0",onChange:l,onBlur:r,value:i.kontrak_ke||0,className:c.kontrak_ke&&s.kontrak_ke?"is-invalid":null}),c.kontrak_ke&&s.kontrak_ke&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.kontrak_ke})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Masa Kerja"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"masa_kerja_tahun",id:"masa_kerja_tahun",min:"0",placeholder:"Masukkan tahun",onChange:l,onBlur:r,value:i.masa_kerja_tahun||0,className:c.masa_kerja_tahun&&s.masa_kerja_tahun?"is-invalid":null}),c.masa_kerja_tahun&&s.masa_kerja_tahun&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.masa_kerja_tahun})]}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"number",name:"masa_kerja_bulan",id:"masa_kerja_bulan",min:"0",placeholder:"Masukkan bulan",onChange:l,onBlur:r,value:i.masa_kerja_bulan||0,className:c.masa_kerja_bulan&&s.masa_kerja_bulan?"is-invalid":null}),c.masa_kerja_bulan&&s.masa_kerja_bulan&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.masa_kerja_bulan})]})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"Gaji Pokok Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:l,onBlur:r,onKeyUp:function(e){return J(e.target.value)},value:i.gaji_pokok,className:c.gaji_pokok&&s.gaji_pokok?"is-invalid":null}),Object(M.jsx)("div",{className:"mt-1",children:m}),c.gaji_pokok&&s.gaji_pokok&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.gaji_pokok})]})]}),Object(M.jsxs)(d.y,{children:[Object(M.jsx)(d.L,{children:"SK Terkini"}),Object(M.jsx)(Q,{values:i,handleChange:l,handleBlur:r}),Object(M.jsx)(d.z,{children:"Cek apabila merupakan SK Anda saat ini"})]}),Object(M.jsxs)(d.y,{row:!0,children:[Object(M.jsx)(d.n,{md:"3",children:Object(M.jsx)(d.L,{children:"File SK Baru"})}),Object(M.jsxs)(d.n,{children:[Object(M.jsx)(d.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK baru",onChange:function(e){return u("file",e.target.files[0])},onBlur:r,className:c.file&&s.file?"is-invalid":null}),c.file&&s.file&&Object(M.jsx)("div",{className:"invalid-feedback",children:c.file})]})]})]}),Object(M.jsxs)(d.P,{children:[Object(M.jsx)(d.f,{type:"submit",color:"primary",disabled:!!b,onClick:function(){i.tugas?E(!1):E(!0)},children:b?Object(M.jsx)("img",{width:21,src:f.d,alt:"load-animation"}):"Simpan"})," ",Object(M.jsx)(d.f,{type:"submit",color:"warning",onClick:function(e){j(e),u("tugas","")},children:"Reset"})," ",Object(M.jsx)(d.f,{type:"button",color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},a),{},{modal:!1,id:null}))},children:"Batal"})]})]})}}):Object(M.jsx)(d.X,{children:Object(M.jsx)(d.n,{className:"text-center",children:Object(M.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:f.c,alt:"load-animation"})})})})},z=n(651),H=function(e){var a=e.modalDetail,n=e.setModalDetail,s=e.id_pegawai,l=e.id_riwayat_sk,r=Object(c.useState)(""),o=Object(i.a)(r,2),j=o[0],u=o[1];return Object(c.useEffect)((function(){return l&&Object(L.a)(s,l,u),function(){return u("")}}),[s,l]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(d.O,{children:j?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("table",{className:"table table-striped table-borderless",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"No. SK"}),Object(M.jsx)("td",{children:j.no_sk})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Penetap SK"}),Object(M.jsx)("td",{children:j.penetap_sk})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(M.jsx)("td",{children:Object(v.a)(new Date(j.tgl_penetapan_sk),"dd/MM/y")})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(M.jsx)("td",{children:j.tgl_mulai_tugas})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Tugas Pokok (Jabatan)"}),Object(M.jsx)("td",{children:j.nama_jabatan})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Gaji Pokok"}),Object(M.jsx)("td",{children:j.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"File SK"}),Object(M.jsx)("td",{children:Object(M.jsx)("a",{href:Object(R.a)(j.file),target:"_blank",rel:"noreferrer",children:Object(z.a)(j.file)})})]})]})})}):Object(M.jsx)(d.X,{children:Object(M.jsx)(d.n,{className:"text-center",children:Object(M.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:f.c,alt:"load-animation"})})})}),Object(M.jsx)(d.P,{children:Object(M.jsx)(d.f,{type:"button",color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},a),{},{modal:!1,id:null}))},children:"Tutup"})})]})},A=n(704),G=n(683),J=j()(r.a);a.default=function(e){var a=e.match.params,n=Object(c.useState)(!1),s=Object(i.a)(n,2),l=s[0],r=s[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),u=j[0],w=j[1],N=Object(c.useState)(""),S=Object(i.a)(N,2),C=S[0],K=S[1],B=Object(c.useState)(!1),T=Object(i.a)(B,2),L=T[0],D=T[1],q=Object(x.g)(),X=Object(c.useState)({modal:!1,id:null}),V=Object(i.a)(X,2),I=V[0],Z=V[1],U=Object(c.useState)({modal:!1,id:null}),Q=Object(i.a)(U,2),Y=Q[0],W=Q[1];Object(c.useEffect)((function(){return Object(g.a)(a.id,K),function(){K("")}}),[a]),Object(c.useEffect)((function(){Object(P.a)(a.id,D,w)}),[a]);var $=[{name:"No. SK",selector:function(e){return e.no_sk},sortable:!0,wrap:!0},{name:"Penetap SK",selector:function(e){return e.penetap_sk},sortable:!0,wrap:!0},{name:"Tgl. Penetapan SK",selector:function(e){return e.tgl_penetapan_sk},sortable:!0,wrap:!0,cell:function(e){return Object(M.jsx)("div",{children:Object(v.a)(new Date(e.tgl_penetapan_sk),"dd/MM/y")})}},{name:"Tgl. Mulai Tugas",selector:function(e){return e.tgl_mulai_tugas},sortable:!0,wrap:!0,cell:function(e){return Object(M.jsx)("div",{children:e.tgl_mulai_tugas})}},{name:"Status",selector:function(e){return e.sk_terkini},sortable:!0,wrap:!0,cell:function(e){return Object(M.jsx)("div",{children:1===e.sk_terkini?Object(M.jsx)(d.b,{className:"p-1",color:"success",children:"SK Terkini"}):""})}},{name:"Action",sortable:!0,cell:function(e){return Object(M.jsx)("div",{"data-tag":"allowRowEvents",children:Object(M.jsxs)(d.g,{children:[Object(M.jsx)(d.f,{color:"info",size:"sm",onClick:function(){W(Object(t.a)(Object(t.a)({},Y),{},{modal:!Y.modal,id:e.id_riwayat_sk}))},className:"text-white",children:Object(M.jsx)(h.a,{content:k.a})}),Object(M.jsx)(d.f,{color:"warning",size:"sm",onClick:function(){Z(Object(t.a)(Object(t.a)({},I),{},{modal:!I.modal,id:e.id_riwayat_sk}))},className:"text-white",children:Object(M.jsx)(h.a,{content:p.a})}),Object(M.jsx)(d.f,{disabled:1===e.sk_terkini,color:"danger",size:"sm",onClick:function(){return ae(e.id_riwayat_sk)},children:Object(M.jsx)(h.a,{content:m.a})})]})})}}],ee={headCells:{style:{fontSize:"1.15em"}}},ae=function(e){J.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(Object(A.a)(a.id,e,D,w),J.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}))}))},ne=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(d.f,{type:"button",color:"secondary",className:"ml-2",onClick:function(){return e=a.id,void q.push("/epekerja/admin/pegawai-detail/".concat(e));var e},children:["Detail Pegawai ",Object(M.jsx)(h.a,{content:_.a})]}),Object(M.jsxs)(d.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return Object(G.a)(a.id)},children:["PDF ",Object(M.jsx)(h.a,{content:O.a})]}),Object(M.jsxs)(d.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(y.a)("riwayat-sk/"+a.id)},children:["Excel ",Object(M.jsx)(h.a,{content:O.a})]})]})},te=function(e){var a=e.data;return Object(M.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(M.jsxs)(d.X,{className:"mb-1",children:[Object(M.jsx)(d.n,{md:"2",children:Object(M.jsx)("strong",{children:"Gaji Pokok"})}),Object(M.jsx)(d.n,{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]}),Object(M.jsxs)(d.X,{className:"mb-1",children:[Object(M.jsx)(d.n,{md:"2",children:Object(M.jsx)("strong",{children:"Tugas"})}),Object(M.jsx)(d.n,{children:a.nama_jabatan})]}),Object(M.jsxs)(d.X,{className:"mb-1",children:[Object(M.jsx)(d.n,{md:"2",children:Object(M.jsx)("strong",{children:"Kontrak Ke"})}),Object(M.jsx)(d.n,{children:a.kontrak_ke})]}),Object(M.jsxs)(d.X,{className:"mb-1",children:[Object(M.jsx)(d.n,{md:"2",children:Object(M.jsx)("strong",{children:"Masa Kerja"})}),Object(M.jsx)(d.n,{children:a.masa_kerja})]}),Object(M.jsxs)(d.X,{className:"mb-1",children:[Object(M.jsx)(d.n,{md:"2",children:Object(M.jsx)("strong",{children:"File SK"})}),Object(M.jsx)(d.n,{children:a.file?Object(M.jsx)("a",{href:Object(R.a)(a.file),target:"_blank",rel:"noreferrer",children:Object(z.a)(a.file)}):"Belum ada file"})]})]})};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(d.h,{children:[Object(M.jsxs)(d.l,{className:"d-flex justify-content-between my-card-header",children:[Object(M.jsxs)("div",{className:"title mb-2",children:[Object(M.jsx)("h3",{children:"Pembaruan SK Pegawai"}),Object(M.jsx)("h5",{className:"font-weight-normal",children:C.nama})]}),Object(M.jsx)(d.f,{color:"warning",className:"text-white",style:{height:"40px",width:"100px"},onClick:function(){q.goBack()},children:"Kembali"})]}),Object(M.jsxs)(d.i,{children:[Object(M.jsx)(d.f,{color:"primary",className:"btn btn-md",onClick:function(){return r(!l)},children:"Perbarui SK"}),Object(M.jsx)("h3",{className:"font-weight-normal text-center",children:"Riwayat SK Pegawai"}),u.length>0?Object(M.jsx)(b.a,{columns:$,data:u,responsive:!0,customStyles:ee,pagination:!0,subHeader:!0,subHeaderComponent:Object(M.jsx)(ne,{}),highlightOnHover:!0,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(M.jsx)(te,{})}):L?Object(M.jsx)("div",{children:Object(M.jsx)(d.X,{children:Object(M.jsx)(d.n,{className:"text-center",children:Object(M.jsx)("img",{className:"mt-4 ml-3",width:30,src:f.c,alt:"load-animation"})})})}):Object(M.jsx)(b.a,{columns:$,data:u,noHeader:!0,responsive:!0,customStyles:ee,pagination:!0,subHeader:!0,subHeaderComponent:Object(M.jsx)(ne,{}),highlightOnHover:!0,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(M.jsx)(te,{})})]})]}),Object(M.jsxs)(d.N,{show:l,onClose:function(){return r(!l)},size:"lg",children:[Object(M.jsx)(d.Q,{closeButton:!0,children:Object(M.jsx)(d.R,{children:"Perbarui SK"})}),Object(M.jsx)(E,{modalTambah:l,setModalTambah:r,id_pegawai:a.id,setData:w})]}),Object(M.jsxs)(d.N,{show:I.modal,onClose:function(){Z(Object(t.a)(Object(t.a)({},I),{},{modal:!I.modal,id:null}))},size:"lg",children:[Object(M.jsx)(d.Q,{closeButton:!0,children:Object(M.jsx)(d.R,{children:"Edit Riwayat SK"})}),Object(M.jsx)(F,{id_riwayat_sk:I.id,id_pegawai:a.id,modalEdit:I,setModalEdit:Z,setDataRiwayat:w})]}),Object(M.jsxs)(d.N,{show:Y.modal,onClose:function(){W(Object(t.a)(Object(t.a)({},Y),{},{modal:!Y.modal,id:null}))},size:"lg",children:[Object(M.jsx)(d.Q,{closeButton:!0,children:Object(M.jsx)(d.R,{children:"Detail Riwayat SK"})}),Object(M.jsx)(H,{id_riwayat_sk:Y.id,id_pegawai:a.id,modalDetail:Y,setModalDetail:W})]})]})}},646:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e){t.a.get("jabatan").then((function(a){e(a.data.data)})).catch((function(e){}))}},650:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a){t.a.get("admin/pegawai/pns/".concat(e)).then((function(e){a(e.data.data)})).catch((function(e){}))}},651:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/");return a[a.length-1]}},656:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},657:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a,n){a(!0),t.a.get("admin/pegawai/".concat(e,"/pembaruan-sk")).then((function(e){console.log(e.data),n(e.data.data),a(!1)})).catch((function(e){console.log(e.response.data),a(!1)}))}},662:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"sk/").concat(n)}},666:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a,n){t.a.get("admin/pegawai/".concat(e,"/pembaruan-sk/").concat(a)).then((function(e){n(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}},673:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},683:function(e,a,n){"use strict";a.a=function(e){window.open("".concat(localStorage.baseURL,"print-riwayat-sk/").concat(e),"_blank")}},694:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=n(626),i=n(657),c=function(e,a,n,c,s,l,r){c(!0),t.a.post("admin/pegawai/".concat(e,"/pembaruan-sk/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){console.log(a.data),Object(i.a)(e,c,s),c(!1),l()})).catch((function(e){console.log(e.response.data),r(e.response.data.errors)}))}},695:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=n(626),i=n(657),c=function(e,a,n,c,s,l){n(!0),t.a.post("admin/pegawai/".concat(e,"/pembaruan-sk"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){console.log(a.data),Object(i.a)(e,n,c),n(!1),s()})).catch((function(e){console.log(e.response.data),l(e.response.data.errors)}))}},704:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=n(626),i=n(657),c=function(e,a,n,c){t.a.delete("admin/pegawai/".concat(e,"/pembaruan-sk/").concat(a)).then((function(a){Object(i.a)(e,n,c),console.log(a.data)})).catch((function(e){console.log(e.response.data)}))}}}]);
//# sourceMappingURL=15.96712cdb.chunk.js.map