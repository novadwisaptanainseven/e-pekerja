(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[28],{1e3:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(10),i=a(571),s=a(639),r=a(628),l=a(738),o=a(1),d=a(641),u=a.n(d),j=a(20),b=a(630),h=a(626),O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(!0);var n="";n=a?"admin/pegawai/pegawai-status-cuti?bulan=".concat(a.bulan,"&tahun=").concat(a.tahun):"admin/pegawai/pegawai-status-cuti",h.a.get(n).then((function(a){console.log(a.data),t(a.data),e(!1)})).catch((function(t){console.log(t.response.data),e(!1)}))},x=a(640),p=function(e){var t=e.bulan||"",a=e.tahun||"";window.open("".concat(localStorage.baseURL,"print-pegawai-status-cuti?bulan=").concat(t,"&tahun=").concat(a),"_blank")},m=a(675),g=a(645),f=a(733),w=a(17),k=function(e){var t=e.modal,a=e.setModal,i=Object(o.useState)(""),d=Object(c.a)(i,2),u=d[0],j=d[1];Object(o.useEffect)((function(){var e="";return t.data&&("akan-cuti"===t.data.status_cuti?e="Kepada Yth. ".concat(t.data.nama,", Anda akan cuti mulai tanggal ").concat(Object(l.a)(new Date(t.data.tgl_mulai),"dd/MM/y")," s/d ").concat(Object(l.a)(new Date(t.data.tgl_selesai),"dd/MM/y")," dengan jenis cuti ").concat(t.data.jenis_cuti,". Terimakasih"):"sedang-cuti"===t.data.status_cuti?e="Kepada Yth. ".concat(t.data.nama,", Anda sedang cuti sampai tanggal ").concat(Object(l.a)(new Date(t.data.tgl_selesai),"dd/MM/y"),". Terimakasih"):"masa-cuti-hampir-selesai"===t.data.status_cuti?e="Kepada Yth. ".concat(t.data.nama,", Masa cuti Anda akan segera berakhir pada tanggal ").concat(Object(l.a)(new Date(t.data.tgl_selesai),"dd/MM/y"),". Terimakasih"):"masa-cuti-selesai"===t.data.status_cuti&&(e="Kepada Yth. ".concat(t.data.nama,", Masa cuti Anda sudah berakhir. Terimakasih")),j(e)),function(){return j("")}}),[t]);return Object(w.jsx)("div",{children:Object(w.jsxs)(r.M,{show:t.modal,onClose:function(){return a(Object(n.a)(Object(n.a)({},t),{},{modal:!1}))},children:[Object(w.jsx)(r.P,{closeButton:!0,children:"Kirim Pemberitahuan via WhatsApp"}),Object(w.jsx)(r.N,{children:t.data&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(r.x,{children:[Object(w.jsx)(r.K,{children:"No. HP"}),Object(w.jsx)(r.D,{type:"text",name:"no_hp",value:t.data.no_hp,readOnly:!0})]}),Object(w.jsxs)(r.x,{children:[Object(w.jsx)(r.K,{children:"Pesan"}),Object(w.jsx)(r.kb,{name:"pesan",rows:5,readOnly:!0,value:u})]})]})}),Object(w.jsxs)(r.O,{children:[Object(w.jsxs)(r.f,{color:"primary",onClick:function(){var e=t.data.no_hp.replace("0","62"),a=u;window.open("https://api.whatsapp.com/send?phone=".concat(e,"&text=").concat(a),"blank")},children:["Kirim ",Object(w.jsx)(s.a,{content:f.a})]}),Object(w.jsx)(r.f,{color:"secondary",onClick:function(){return a(Object(n.a)(Object(n.a)({},t),{},{modal:!1}))},children:"Tutup"})]})]})})};t.default=function(){var e=Object(j.g)(),t=Object(o.useState)(""),a=Object(c.a)(t,2),d=a[0],h=a[1],f=Object(o.useState)(!1),v=Object(c.a)(f,2),y=v[0],C=v[1],_=Object(o.useState)([]),M=Object(c.a)(_,2),N=M[0],S=M[1],P=Object(o.useState)(!1),F=Object(c.a)(P,2),D=F[0],K=F[1],L=Object(o.useState)({bulan:"",tahun:""}),R=Object(c.a)(L,2),A=R[0],T=R[1],W=Object(o.useState)({data:null,modal:!1}),B=Object(c.a)(W,2),J=B[0],H=B[1];Object(o.useEffect)((function(){O(C,S)}),[]);var U=N.filter((function(e){return e.nik?!(!e.nik.toLowerCase().includes(d.toLowerCase())&&!e.nama.toLowerCase().includes(d.toLowerCase())):!(!e.nip.toLowerCase().includes(d.toLowerCase())&&!e.nama.toLowerCase().includes(d.toLowerCase()))})),Y=[{name:"Nama/NIP/NIPB/NIK",selector:"nama",sortable:!0,wrap:!0,cell:function(e){return Object(w.jsxs)("div",{children:[e.nama," ",Object(w.jsx)("br",{}),2===e.id_status_pegawai?e.nik:e.nip]})}},{name:"Status Cuti",selector:"status_cuti",sortable:!0,wrap:!0,cell:function(e){return Object(w.jsxs)("div",{children:["sedang-cuti"===e.status_cuti&&Object(w.jsx)(r.b,{className:"py-2 px-3",color:"success",shape:"pill",children:"Sedang Cuti"}),"akan-cuti"===e.status_cuti&&Object(w.jsx)(r.b,{className:"py-2 px-3",color:"info",shape:"pill",children:"Akan Cuti"}),"masa-cuti-hampir-selesai"===e.status_cuti&&Object(w.jsx)(r.b,{className:"py-2 px-3",color:"warning",shape:"pill",children:"Cuti Akan Berakhir"}),"masa-cuti-selesai"===e.status_cuti&&Object(w.jsx)(r.b,{className:"py-2 px-3",color:"dark",shape:"pill",children:"Masa Cuti Selesai"})]})}},{name:"Pemberitahuan",width:"450px",wrap:!0,cell:function(e){return Object(w.jsxs)("div",{children:["akan-cuti"===e.status_cuti&&Object(w.jsxs)("span",{className:"text-info font-weight-bold",children:["Pegawai ini akan cuti dari tanggal"," ",Object(l.a)(new Date(e.tgl_mulai),"dd/MM/y")," s/d"," ",Object(l.a)(new Date(e.tgl_selesai),"dd/MM/y")]}),"sedang-cuti"===e.status_cuti&&Object(w.jsxs)("span",{className:"text-success font-weight-bold",children:["Pegawai ini sedang cuti sampai tanggal"," ",Object(l.a)(new Date(e.tgl_selesai),"dd/MM/y")]}),"masa-cuti-hampir-selesai"===e.status_cuti&&Object(w.jsxs)("span",{className:"text-warning font-weight-bold",children:["Masa cuti pegawai ini akan berakhir pada tanggal"," ",Object(l.a)(new Date(e.tgl_selesai),"dd/MM/y")]}),"masa-cuti-selesai"===e.status_cuti&&Object(w.jsx)("span",{className:"text-dark font-weight-bold",children:"Masa cuti pegawai ini telah berakhir"})]})}},{name:"Aksi",wrap:!0,cell:function(t){return Object(w.jsxs)("div",{"data-tag":"allowRowEvents",className:"my-1",children:[Object(w.jsx)(r.f,{className:"mb-1",color:"success",onClick:function(){return H(Object(n.a)(Object(n.a)({},J),{},{data:t,modal:!0}))},children:"Kirim (WA)"}),Object(w.jsx)("br",{}),Object(w.jsx)(r.f,{color:"info",onClick:function(){return a=t.id_pegawai,void e.push("/epekerja/admin/cuti/riwayat/".concat(a));var a},children:"Riwayat Cuti"})]})}}],E=Object(o.useMemo)((function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(g.a,{onFilter:function(e){return h(e.target.value)},onClear:function(){d&&(K(!D),h(""))},filterText:d}),Object(w.jsxs)(r.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return p(A)},children:["PDF ",Object(w.jsx)(s.a,{content:i.a})]}),Object(w.jsxs)(r.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(x.a)("pegawai-status-cuti",A,"filter_bulan_tahun")},children:["Excel ",Object(w.jsx)(s.a,{content:i.a})]})]})}),[d,D,A]),I=function(e){var t=e.data;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(w.jsxs)(r.W,{className:"mb-1",children:[Object(w.jsx)(r.m,{md:"3",children:Object(w.jsx)("strong",{children:"Jenis Cuti"})}),Object(w.jsx)(r.m,{children:t.jenis_cuti})]}),Object(w.jsxs)(r.W,{className:"mb-1",children:[Object(w.jsx)(r.m,{md:"3",children:Object(w.jsx)("strong",{children:"Tgl. Mulai Cuti"})}),Object(w.jsx)(r.m,{children:Object(l.a)(new Date(t.tgl_mulai),"dd/MM/yyyy")})]}),Object(w.jsxs)(r.W,{className:"mb-1",children:[Object(w.jsx)(r.m,{md:"3",children:Object(w.jsx)("strong",{children:"Tgl. Selesai Cuti"})}),Object(w.jsx)(r.m,{children:Object(l.a)(new Date(t.tgl_selesai),"dd/MM/yyyy")})]}),Object(w.jsxs)(r.W,{className:"mb-1",children:[Object(w.jsx)(r.m,{md:"3",children:Object(w.jsx)("strong",{children:"Keterangan"})}),Object(w.jsx)(r.m,{children:t.keterangan})]})]})})};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(r.h,{children:[Object(w.jsxs)(r.l,{className:"d-flex justify-content-between my-card-header",children:[Object(w.jsx)("div",{className:"title mb-2",children:Object(w.jsx)("h3",{children:"Semua Cuti Pegawai"})}),Object(w.jsx)(r.f,{color:"warning",className:"text-white",style:{height:"40px",width:"100px"},onClick:function(){e.push("/epekerja/admin/cuti")},children:"Kembali"})]}),Object(w.jsxs)(r.i,{children:[Object(w.jsxs)(r.W,{children:[Object(w.jsx)(r.m,{md:"6",children:Object(w.jsx)(m.a,{paramsFilter:A,setParamsFilter:T,handleResetFilter:function(){O(C,S)},handleFilterCari:function(e){e.preventDefault(),O(C,S,A)}})}),Object(w.jsx)(r.m,{children:Object(w.jsxs)(r.a,{color:"info",children:[Object(w.jsx)("h4",{children:"Keterangan Status Cuti"}),Object(w.jsx)("hr",{}),Object(w.jsxs)("table",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{valign:"top",width:"150px",children:"Sedang Cuti"}),Object(w.jsxs)("th",{valign:"top",width:"30px",children:[" ",":"," "]}),Object(w.jsx)("td",{children:"Pegawai tersebut sedang dalam masa cuti"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{valign:"top",children:"Akan Cuti"}),Object(w.jsxs)("th",{valign:"top",width:"30px",children:[" ",":"," "]}),Object(w.jsx)("td",{children:"Pegawai tersebut akan cuti pada tanggal yang telah ditentukan"})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{valign:"top",children:"Masa Cuti Selesai"}),Object(w.jsxs)("th",{valign:"top",width:"30px",children:[" ",":"," "]}),Object(w.jsx)("td",{children:"Masa cuti pegawai tersebut telah habis"})]})]})]})})]}),Object(w.jsx)(r.W,{children:Object(w.jsx)(r.m,{children:y?Object(w.jsx)(r.W,{children:Object(w.jsx)(r.m,{className:"text-center",children:Object(w.jsx)("img",{className:"mt-4 ml-3",width:30,src:b.c,alt:"load-animation"})})}):Object(w.jsx)(u.a,{columns:Y,data:U,noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1em"}}},pagination:!0,paginationResetDefaultPage:D,subHeader:!0,subHeaderComponent:E,expandableRows:!0,expandableRowsComponent:Object(w.jsx)(I,{}),expandOnRowClicked:!0,highlightOnHover:!0})})})]})]}),Object(w.jsx)(k,{modal:J,setModal:H})]})}},638:function(e,t,a){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return n}))},640:function(e,t,a){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(a){if("filter_tanggal"===a){var n="first_date=".concat(t.startDate,"&last_date=").concat(t.endDate);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(n),"_self")}else if("filter_tahun"===a){var c="tahun=".concat(t);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(c),"_self")}else if("filter_bulan_tahun"===a){var i="bulan=".concat(t.bulan,"&tahun=").concat(t.tahun);window.open("".concat(localStorage.baseURL).concat(e,"/export?").concat(i),"_self")}}else window.open("".concat(localStorage.baseURL).concat(e,"/export"),"_self")}},644:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},645:function(e,t,a){"use strict";a(1);var n,c,i=a(638),s=a(643),r=s.default.button(n||(n=Object(i.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),l=s.default.input(c||(c=Object(i.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),o=a(17);t.a=function(e){var t=e.filterText,a=e.onFilter,n=e.onClear;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:t,onChange:a}),Object(o.jsx)(r,{type:"button",onClick:n,children:"Reset"})]})}},665:function(e,t,a){"use strict";var n=a(1),c=a.n(n),i=a(17),s=function(){return Object(i.jsx)(i.Fragment,{children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((function(e,t){return Object(i.jsx)("option",{value:t+1,children:e},t)}))})};t.a=c.a.memo(s)},675:function(e,t,a){"use strict";var n=a(168),c=a(2),i=a(10),s=a(628),r=a(1),l=a(665),o=a(17);t.a=function(e){var t=e.paramsFilter,a=e.setParamsFilter,d=e.handleFilterCari,u=e.handleResetFilter,j=Object(r.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1];return Object(o.jsxs)(s.h,{children:[Object(o.jsx)(s.l,{className:"bg-dark",children:Object(o.jsx)("h5",{className:"mb-0",children:"Filter Pencarian Berdasarkan Bulan dan Tahun"})}),Object(o.jsxs)(s.w,{children:[Object(o.jsx)(s.n,{show:h,children:Object(o.jsx)(s.i,{children:Object(o.jsxs)(s.W,{children:[Object(o.jsx)(s.m,{children:Object(o.jsxs)(s.x,{children:[Object(o.jsx)(s.K,{children:"Bulan"}),Object(o.jsxs)(s.X,{required:!0,name:"bulan",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},Object(n.a)({},e.target.name,e.target.value)))},children:[Object(o.jsx)("option",{value:"",children:"-- Pilih Bulan --"}),Object(o.jsx)(l.a,{})]})]})}),Object(o.jsx)(s.m,{children:Object(o.jsxs)(s.x,{children:[Object(o.jsx)(s.K,{children:"Tahun"}),Object(o.jsx)(s.D,{required:!0,type:"number",name:"tahun",placeholder:"Masukkan Tahun, exp: ".concat((new Date).getFullYear()),onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},Object(n.a)({},e.target.name,e.target.value)))}})]})})]})})}),Object(o.jsxs)(s.j,{className:"text-right",children:[Object(o.jsx)(s.f,{type:"submit",color:"primary",className:"mr-2",onClick:function(e){return d(e)},disabled:!t.bulan||!t.tahun,children:"Cari"}),Object(o.jsx)(s.f,{color:"warning",className:"mr-2",onClick:u,children:"Reset"}),Object(o.jsx)(s.f,{color:"secondary",onClick:function(){return O(!h)},children:h?"Tutup":"Klik untuk melihat"})]})]})]})}},733:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=28.f9342433.chunk.js.map