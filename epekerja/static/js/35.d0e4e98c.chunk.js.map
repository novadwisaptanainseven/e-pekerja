{"version":3,"sources":["context/actions/DownloadFile/Excel/Pegawai/exportExcel.js","context/actions/Pegawai/PNS/getPNSById.js","../node_modules/@coreui/icons/js/free/cil-pen.js","views/pages/Admin/Cuti/EditCuti.js","context/actions/Cuti/getCutiById.js","context/actions/Cuti/editCuti.js","views/pages/Admin/Cuti/TambahCuti.js","context/actions/Cuti/insertCuti.js","context/actions/Cuti/getCuti.js","context/actions/DownloadFile/printRiwayatCuti.js","views/pages/Admin/Cuti/RiwayatCuti.js","context/actions/Cuti/deleteCuti.js"],"names":["exportExcel","data","request","type","params","startDate","endDate","window","open","localStorage","baseURL","bulan","tahun","getPNSById","id","setPNS","axiosInstance","get","then","res","catch","err","cilPen","MySwal","withReactContent","swal2","EditCuti","modalEdit","setModalEdit","id_pegawai","history","useHistory","useState","loading","setLoading","setData","useEffect","id_cuti","setCuti","console","log","response","getCutiById","initState","tgl_mulai","tgl_selesai","jenis_cuti","keterangan","showAlertSuccess","fire","icon","title","showConfirmButton","timer","modal","push","showAlertError","message","err_message","key","text","result","validationSchema","Yup","shape","required","handleFormSubmit","values","put","errors","editCuti","initialValues","enableReinitialize","onSubmit","touched","handleChange","handleBlur","handleSubmit","row","md","name","value","onChange","onBlur","className","placeholder","min","disabled","color","width","src","LoadAnimationWhite","alt","onClick","TambahCuti","modalTambah","setModalTambah","formData","FormData","item","append","entries","pair","post","header","_boundary","insertCuti","format","Date","getCuti","printRiwayatCuti","RiwayatCuti","match","pegawai","setPegawai","columns","selector","sortable","wrap","maxWidth","cell","currentDate","getTime","tglMulaiCuti","tglSelesaiCuti","status","data-tag","content","handleDelete","cilTrash","customStyles","headCells","style","fontSize","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","deleteCuti","SubHeaderComponentMemo","cilPrint","ExpandableComponent","padding","created_at","nama","height","length","noHeader","responsive","pagination","subHeader","subHeaderComponent","highlightOnHover","expandableRows","expandOnRowClicked","expandableRowsComponent","LoadAnimationBlue","show","onClose","size","closeButton"],"mappings":"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","file":"static/js/35.d0e4e98c.chunk.js","sourcesContent":["const exportExcel = (data, request = null, type = \"\") => {\r\n  if (!type) {\r\n    window.open(`${localStorage.baseURL}${data}/export`, \"_self\");\r\n  } else if (type === \"filter_tanggal\") {\r\n    let params = `first_date=${request.startDate}&last_date=${request.endDate}`;\r\n    window.open(`${localStorage.baseURL}${data}/export/?${params}`, \"_self\");\r\n  } else if (type === \"filter_tahun\") {\r\n    let params = `tahun=${request}`;\r\n    window.open(`${localStorage.baseURL}${data}/export/?${params}`, \"_self\");\r\n  } else if (type === \"filter_bulan_tahun\") {\r\n    let params = `bulan=${request.bulan}&tahun=${request.tahun}`;\r\n    window.open(`${localStorage.baseURL}${data}/export?${params}`, \"_self\");\r\n  }\r\n};\r\n\r\nexport default exportExcel;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CForm,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n  CFormText,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { getCutiById } from \"src/context/actions/Cuti/getCutiById\";\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\nimport { editCuti } from \"src/context/actions/Cuti/editCuti\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditCuti = ({ modalEdit, setModalEdit, id_pegawai }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Get Cuti by ID\r\n    if (modalEdit.id) {\r\n      getCutiById(id_pegawai, modalEdit.id, setData);\r\n    }\r\n\r\n    return () => {\r\n      setData(null);\r\n    };\r\n  }, [modalEdit, id_pegawai]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    tgl_mulai: data ? data.tgl_mulai : \"\",\r\n    tgl_selesai: data ? data.tgl_selesai : \"\",\r\n    jenis_cuti: data ? data.jenis_cuti : \"\",\r\n    keterangan: data ? data.keterangan : \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success edit data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Cuti Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalEdit({\r\n        ...modalEdit,\r\n        modal: !modalEdit.modal,\r\n        id: null,\r\n      });\r\n      history.push(`/epekerja/admin/cuti/riwayat/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error edit data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Cuti Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    tgl_mulai: Yup.string().required(\"Tanggal mulai cuti harus diisi!\"),\r\n    tgl_selesai: Yup.string().required(\"Tanggal selesai cuti harus diisi!\"),\r\n    jenis_cuti: Yup.string().required(\"Jenis cuti harus dipilih!\"),\r\n    keterangan: Yup.string().required(\"Keterangan/alasan cuti harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    editCuti(\r\n      id_pegawai,\r\n      modalEdit.id,\r\n      values,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={initState}\r\n        validationSchema={validationSchema}\r\n        enableReinitialize={true}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n        }) => (\r\n          <CForm onSubmit={handleSubmit}>\r\n            <CModalBody>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Jenis Cuti</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CSelect\r\n                    name=\"jenis_cuti\"\r\n                    value={values.jenis_cuti || \"\"}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={\r\n                      errors.jenis_cuti && touched.jenis_cuti\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  >\r\n                    <option value=\"\">-- Jenis Cuti --</option>\r\n                    <option value=\"Cuti Tahunan\">Cuti Tahunan</option>\r\n                    <option value=\"Cuti Bulanan\">Cuti Bulanan</option>\r\n                    <option value=\"Cuti Harian\">Cuti Harian</option>\r\n                  </CSelect>\r\n                  {errors.jenis_cuti && touched.jenis_cuti && (\r\n                    <div className=\"invalid-feedback\">{errors.jenis_cuti}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Mulai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_mulai\"\r\n                    id=\"tgl_mulai\"\r\n                    placeholder=\"Masukkan tgl mulai cuti\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_mulai}\r\n                    className={\r\n                      errors.tgl_mulai && touched.tgl_mulai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_mulai && touched.tgl_mulai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_mulai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Selesai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_selesai\"\r\n                    id=\"tgl_selesai\"\r\n                    placeholder=\"Masukkan tgl selesai cuti\"\r\n                    min={values.tgl_mulai}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_selesai}\r\n                    className={\r\n                      errors.tgl_selesai && touched.tgl_selesai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  <CFormText>\r\n                    <b>Format: </b> Bulan / Tanggal / Tahun\r\n                  </CFormText>\r\n                  {errors.tgl_selesai && touched.tgl_selesai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_selesai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Keterangan</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"keterangan\"\r\n                    id=\"keterangan\"\r\n                    placeholder=\"Masukkan keterangan / alasan cuti\"\r\n                    onBlur={handleBlur}\r\n                    value={values.keterangan}\r\n                    disabled={!values.tgl_mulai ? true : false}\r\n                    onChange={handleChange}\r\n                    className={\r\n                      errors.keterangan && touched.keterangan\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.keterangan && touched.keterangan && (\r\n                    <div className=\"invalid-feedback\">{errors.keterangan}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                disabled={loading ? true : false}\r\n              >\r\n                {loading ? (\r\n                  <img\r\n                    width={21}\r\n                    src={LoadAnimationWhite}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                ) : (\r\n                  \"Simpan\"\r\n                )}\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"button\"\r\n                color=\"secondary\"\r\n                onClick={() =>\r\n                  setModalEdit({\r\n                    ...modalEdit,\r\n                    modal: !modalEdit.modal,\r\n                    id: null,\r\n                  })\r\n                }\r\n              >\r\n                Batal\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CForm>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getCutiById = (id_pegawai, id_cuti, setCuti) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`)\r\n    .then((res) => {\r\n      setCuti(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const editCuti = (\r\n  id_pegawai,\r\n  id_cuti,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .put(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CModalBody,\r\n  CForm,\r\n  CModalFooter,\r\n  CButton,\r\n  CFormText,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { format } from \"date-fns\";\r\nimport { insertCuti } from \"src/context/actions/Cuti/insertCuti\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst TambahCuti = ({ modalTambah, setModalTambah, id_pegawai }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    tgl_mulai: \"\",\r\n    tgl_selesai: \"\",\r\n    jenis_cuti: \"\",\r\n    keterangan: \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Pembuatan Cuti Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalTambah(!modalTambah);\r\n      history.push(`/epekerja/admin/cuti/riwayat/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Pembuatan Cuti Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    jenis_cuti: Yup.string().required(\"Jenis cuti harus dipilih!\"),\r\n    tgl_mulai: Yup.string().required(\"Tanggal mulai cuti harus diisi!\"),\r\n    tgl_selesai: Yup.string().required(\"Tanggal selesai cuti harus diisi!\"),\r\n    keterangan: Yup.string().required(\"Keterangan/alasan cuti harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const formData = new FormData();\r\n    for (const item in values) {\r\n      formData.append(item, values[item]);\r\n    }\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair);\r\n    }\r\n\r\n    // Memanggil method Insert Cuti untuk menambah data Cuti ke database\r\n    insertCuti(\r\n      id_pegawai,\r\n      formData,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={initState}\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n        }) => (\r\n          <CForm onSubmit={handleSubmit}>\r\n            <CModalBody>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Jenis Cuti</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CSelect\r\n                    name=\"jenis_cuti\"\r\n                    value={values.jenis_cuti}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={\r\n                      errors.jenis_cuti && touched.jenis_cuti\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  >\r\n                    <option value=\"\">-- Jenis Cuti --</option>\r\n                    <option value=\"Cuti Tahunan\">Cuti Tahunan</option>\r\n                    <option value=\"Cuti Bulanan\">Cuti Bulanan</option>\r\n                    <option value=\"Cuti Harian\">Cuti Harian</option>\r\n                  </CSelect>\r\n                  {errors.jenis_cuti && touched.jenis_cuti && (\r\n                    <div className=\"invalid-feedback\">{errors.jenis_cuti}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Mulai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_mulai\"\r\n                    id=\"tgl_mulai\"\r\n                    placeholder=\"Masukkan tgl mulai cuti\"\r\n                    min={format(new Date(), \"yyyy-MM-dd\")}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_mulai}\r\n                    className={\r\n                      errors.tgl_mulai && touched.tgl_mulai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_mulai && touched.tgl_mulai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_mulai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Selesai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_selesai\"\r\n                    id=\"tgl_selesai\"\r\n                    placeholder=\"Masukkan tgl selesai cuti\"\r\n                    min={values.tgl_mulai}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_selesai}\r\n                    className={\r\n                      errors.tgl_selesai && touched.tgl_selesai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  <CFormText>\r\n                    <b>Format: </b> Bulan / Tanggal / Tahun\r\n                  </CFormText>\r\n                  {errors.tgl_selesai && touched.tgl_selesai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_selesai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Keterangan</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"keterangan\"\r\n                    id=\"keterangan\"\r\n                    placeholder=\"Masukkan keterangan / alasan cuti\"\r\n                    onBlur={handleBlur}\r\n                    value={values.keterangan}\r\n                    disabled={!values.tgl_mulai ? true : false}\r\n                    onChange={handleChange}\r\n                    className={\r\n                      errors.keterangan && touched.keterangan\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.keterangan && touched.keterangan && (\r\n                    <div className=\"invalid-feedback\">{errors.keterangan}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                disabled={loading ? true : false}\r\n              >\r\n                {loading ? (\r\n                  <img\r\n                    width={21}\r\n                    src={LoadAnimationWhite}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                ) : (\r\n                  \"Simpan\"\r\n                )}\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"button\"\r\n                color=\"secondary\"\r\n                onClick={() => setModalTambah(!modalTambah)}\r\n              >\r\n                Batal\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CForm>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TambahCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const insertCuti = (\r\n  id_pegawai,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/cuti`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getCuti = (id_pegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/cuti`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","const printRiwayatCuti = (id) => {\r\n  window.open(`${localStorage.baseURL}print-riwayat-cuti/${id}`, \"_blank\");\r\n};\r\n\r\nexport default printRiwayatCuti;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CCol,\r\n  CBadge,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPen, cilTrash, cilPrint } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TambahCuti from \"./TambahCuti\";\r\nimport EditCuti from \"./EditCuti\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport { getCuti } from \"src/context/actions/Cuti/getCuti\";\r\nimport { deleteCuti } from \"src/context/actions/Cuti/deleteCuti\";\r\nimport { format } from \"date-fns\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport printRiwayatCuti from \"src/context/actions/DownloadFile/printRiwayatCuti\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatCuti = ({ match }) => {\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const params = match.params;\r\n  const history = useHistory();\r\n  const [data, setData] = useState([]);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [modalEdit, setModalEdit] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goBackToParent = () => {\r\n    history.push(`/epekerja/admin/cuti`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Get Pegawai by Id Pegawai\r\n    getPNSById(params.id, setPegawai);\r\n\r\n    // Get Riwayat Cuti by ID Pegawai\r\n    getCuti(params.id, setLoading, setData);\r\n\r\n    // Unmount\r\n    return () => {\r\n      setPegawai(\"\");\r\n      setData([]);\r\n    };\r\n  }, [params]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No\",\r\n      selector: \"no\",\r\n      sortable: true,\r\n      wrap: true,\r\n      width: \"50px\",\r\n    },\r\n    {\r\n      name: \"Jenis Cuti\",\r\n      selector: \"jenis_cuti\",\r\n      sortable: true,\r\n      maxWidth: \"150px\",\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Tgl. Mulai Cuti\",\r\n      selector: \"tgl_mulai\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (item) => (\r\n        <div>{format(new Date(item.tgl_mulai), \"dd/MM/yyyy\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Tgl. Selesai Cuti\",\r\n      selector: \"tgl_selesai\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (item) => (\r\n        <div>{format(new Date(item.tgl_selesai), \"dd/MM/yyyy\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Status Cuti\",\r\n      selector: \"status_cuti\",\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => {\r\n        // Get timestamp in miliseconds from current date\r\n        let currentDate = new Date().getTime();\r\n        // Get timestamp in miliseconds from tglMulaiCuti\r\n        let tglMulaiCuti = new Date(row.tgl_mulai).getTime();\r\n        // Get timestamp in miliseconds from tglSelesai\r\n        let tglSelesaiCuti = new Date(row.tgl_selesai).getTime();\r\n        let status = \"\";\r\n\r\n        if (currentDate < tglMulaiCuti) {\r\n          status = \"akan-cuti\";\r\n        } else if (currentDate <= tglSelesaiCuti) {\r\n          status = \"cuti\";\r\n        } else {\r\n          status = \"cuti-selesai\";\r\n        }\r\n\r\n        return (\r\n          <div>\r\n            {status === \"akan-cuti\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"info\" shape=\"pill\">\r\n                Akan Cuti\r\n              </CBadge>\r\n            )}\r\n            {status === \"cuti\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"success\" shape=\"pill\">\r\n                Sedang Cuti\r\n              </CBadge>\r\n            )}\r\n            {status === \"cuti-selesai\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"dark\" shape=\"pill\">\r\n                Masa Cuti Selesai\r\n              </CBadge>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      maxWidth: \"180px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => {\r\n        // Get timestamp in miliseconds from current date\r\n        let currentDate = new Date().getTime();\r\n        // Get timestamp in miliseconds from tglMulaiCuti\r\n        let tglMulaiCuti = new Date(row.tgl_mulai).getTime();\r\n        // Get timestamp in miliseconds from tglSelesai\r\n        let tglSelesaiCuti = new Date(row.tgl_selesai).getTime();\r\n        let status = \"\";\r\n\r\n        if (currentDate < tglMulaiCuti) {\r\n          status = \"akan-cuti\";\r\n        } else if (currentDate <= tglSelesaiCuti) {\r\n          status = \"cuti\";\r\n        } else {\r\n          status = \"cuti-selesai\";\r\n        }\r\n        return (\r\n          <div data-tag=\"allowRowEvents\">\r\n            {/* <CButton\r\n              className=\"mr-1\"\r\n              color=\"info\"\r\n              disabled={status === \"cuti-selesai\" ? true : false}\r\n            >\r\n              <CIcon content={cilPrint} />\r\n            </CButton> */}\r\n            <CButton\r\n              color=\"warning\"\r\n              onClick={() => {\r\n                setModalEdit({\r\n                  ...modalEdit,\r\n                  modal: !modalEdit.modal,\r\n                  id: row.id_cuti,\r\n                });\r\n              }}\r\n              className=\"text-white mr-1\"\r\n            >\r\n              <CIcon content={cilPen} />\r\n            </CButton>\r\n            <CButton\r\n              color=\"danger\"\r\n              onClick={() => handleDelete(row.id_cuti)}\r\n              disabled={status === \"cuti\" ? true : false}\r\n            >\r\n              <CIcon content={cilTrash} />\r\n            </CButton>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1.15em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_cuti) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteCuti(params.id, id_cuti, setLoading, setData);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"d-flex justify-content-between\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Tambah Cuti Baru\r\n          </CButton>\r\n          <div className=\"d-flex\">\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"info\"\r\n              className=\"ml-2\"\r\n              onClick={() => printRiwayatCuti(params.id)}\r\n            >\r\n              PDF <CIcon content={cilPrint} />\r\n            </CButton>\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"success\"\r\n              className=\"ml-2\"\r\n              onClick={() => exportExcel(\"cuti-pegawai/\" + params.id)}\r\n            >\r\n              Excel <CIcon content={cilPrint} />\r\n            </CButton>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Expandable Component\r\n  const ExpandableComponent = ({ data }) => (\r\n    <div style={{ padding: \"10px 63px\" }}>\r\n      <CRow className=\"mb-1\">\r\n        <CCol md=\"3\">\r\n          <strong>Tgl. Pembuatan Cuti</strong>\r\n        </CCol>\r\n        <CCol>{format(new Date(data.created_at), \"dd/MM/y\")}</CCol>\r\n      </CRow>\r\n      <CRow className=\"mb-1\">\r\n        <CCol md=\"3\">\r\n          <strong>Keterangan</strong>\r\n        </CCol>\r\n        <CCol>{data.keterangan}</CCol>\r\n      </CRow>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Riwayat Cuti</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Buat Cuti Pegawai</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <TambahCuti\r\n          id_pegawai={params.id}\r\n          modalTambah={modalTambah}\r\n          setModalTambah={setModalTambah}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Modal Edit Cuti */}\r\n      <CModal\r\n        show={modalEdit.modal}\r\n        onClose={() => {\r\n          setModalEdit({\r\n            ...modalEdit,\r\n            modal: !modalEdit.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Edit Cuti</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <EditCuti\r\n          id_pegawai={params.id}\r\n          modalEdit={modalEdit}\r\n          setModalEdit={setModalEdit}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RiwayatCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getCuti } from \"./getCuti\";\r\n\r\nexport const deleteCuti = (id_pegawai, id_cuti, setLoading, setCuti) => {\r\n  axiosInstance\r\n    .delete(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`)\r\n    .then((res) => {\r\n      getCuti(id_pegawai, setLoading, setCuti);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n"],"sourceRoot":""}