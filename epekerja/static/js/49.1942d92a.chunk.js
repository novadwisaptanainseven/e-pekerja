(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[49],{1009:function(a,e,n){"use strict";n.r(e);var t=n(9),i=n(627),s=n(749),c=n(1),l=n(20),r=n(629),d=n(626),j=function(a,e,n){n(!0),d.a.get("admin/pegawai/".concat(a,"/berkas-kp")).then((function(a){console.log(a.data),e(a.data.data),n(!1)})).catch((function(a){console.log(a.response.data),n(!1)}))},o=function(a,e,n,t,i,s){var c="";c=1===n.status_validasi?"Berkas Kenaikan Pangkat Tervalidasi":"Berkas Kenaikan Pangkat Tidak Disetujui",d.a.put("admin/kenaikan-pangkat/".concat(e,"/validasi"),n).then((function(e){console.log(e.data),j(a,t,i),s.fire({icon:"success",title:"Sukses",text:c})})).catch((function(a){console.log(a.response.data),s.fire({icon:"error",title:"Gagal",text:"Berkas Kenaikan Pangkat Gagal Tervalidasi. Ada Kesalahan Server"})}))},b=n(642),h=n(738),u=n(649),O=function(a){return a.substring(0,10)},x=n(646),g=n(631),k=n.n(g),p=n(632),m=n.n(p),f=n(634),w=n(635),v=n(17),_=m()(k.a),N=function(a){var e=a.idPegawai,n=a.namaPegawai,t=a.modal,s=a.setModal,c=a.setData,l=a.setLoading,r=a.idKp,d={nama_pegawai:n,pesan:""},j=w.c().shape({nama_pegawai:w.e().required("Nama pegawai harus diisi"),pesan:w.e().required("Pesan tidak persetujuan harus diisi")});return Object(v.jsx)("div",{children:Object(v.jsxs)(i.N,{show:t,onClose:function(){return s(!1)},children:[Object(v.jsx)(i.Q,{closeButton:!0,children:Object(v.jsx)(i.R,{children:"Dialog Pesan Tidak Persetujuan"})}),Object(v.jsx)(f.a,{initialValues:d,validationSchema:j,onSubmit:function(a){var n={status_validasi:2,pesan:a.pesan};o(e,r,n,c,l,_),s(!1)},enableReinitialize:!0,children:function(a){var e=a.values,n=a.errors,t=a.touched,c=a.handleChange,l=a.handleBlur,r=a.handleSubmit;return Object(v.jsxs)(i.x,{onSubmit:r,children:[Object(v.jsxs)(i.O,{children:[Object(v.jsxs)(i.y,{children:[Object(v.jsx)(i.L,{children:"Nama Pegawai"}),Object(v.jsx)(i.E,{readOnly:!0,name:"nama_pegawai",placeholder:"Nama Pegawai",onChange:c,onBlur:l,value:e.nama_pegawai,className:n.nama_pegawai&&t.nama_pegawai?"is-invalid":null}),n.nama_pegawai&&t.nama_pegawai&&Object(v.jsx)("div",{className:"invalid-feedback",children:n.nama_pegawai})]}),Object(v.jsxs)(i.y,{children:[Object(v.jsx)(i.L,{children:"Pesan"}),Object(v.jsx)(i.lb,{name:"pesan",rows:5,placeholder:"Masukkan pesan tidak persetujuan",onChange:c,onBlur:l,value:e.pesan,className:n.pesan&&t.pesan?"is-invalid":null}),n.pesan&&t.pesan&&Object(v.jsx)("div",{className:"invalid-feedback",children:n.pesan})]})]}),Object(v.jsxs)(i.P,{children:[Object(v.jsx)(i.f,{type:"submit",color:"primary",children:"Kirim"}),Object(v.jsx)(i.f,{color:"secondary",onClick:function(){return s(!1)},children:"Tutup"})]})]})}})]})})},P=m()(k.a);e.default=function(){var a=Object(l.g)(),e=Object(l.i)().params,n=Object(c.useState)(!1),d=Object(t.a)(n,2),g=d[0],k=d[1],p=Object(c.useState)(""),m=Object(t.a)(p,2),f=m[0],w=m[1],_=Object(c.useState)(!1),y=Object(t.a)(_,2),B=y[0],K=y[1];Object(c.useEffect)((function(){j(e.id_pegawai,w,K)}),[e]);return Object(v.jsxs)("div",{children:[Object(v.jsxs)(i.h,{children:[Object(v.jsxs)(i.l,{className:"d-flex justify-content-between",children:[Object(v.jsx)("h3",{children:"Berkas Kenaikan Pangkat PNS"}),Object(v.jsx)(i.f,{color:"warning",onClick:function(){a.goBack()},children:"Kembali"})]}),Object(v.jsx)(i.i,{children:B||!f?Object(v.jsx)(x.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(i.X,{children:[Object(v.jsx)(i.n,{md:"4",children:Object(v.jsx)("img",{src:Object(b.d)(f.pegawai.foto),alt:"foto-pegawai",style:{width:"100%"}})}),Object(v.jsx)(i.n,{children:Object(v.jsx)("table",{className:"table",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Nama"}),Object(v.jsx)("td",{children:f.pegawai.nama})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"NIP"}),Object(v.jsx)("td",{children:f.pegawai.nip})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Golongan Sekarang"}),Object(v.jsxs)("td",{children:[f.pegawai.ket_golongan," (",f.pegawai.golongan,")"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No. HP"}),Object(v.jsx)("td",{children:f.pegawai.no_hp})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Email"}),Object(v.jsx)("td",{children:f.pegawai.email})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Golongan yg akan datang"}),Object(v.jsx)("td",{children:f.kenaikan_pangkat.pangkat_baru})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Jenis Kenaikan Pangkat"}),Object(v.jsx)("td",{children:f.kenaikan_pangkat.jenis_kp})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Status Validasi"}),Object(v.jsxs)("td",{children:[0===f.kenaikan_pangkat.status_validasi&&Object(v.jsx)(i.b,{color:"danger",children:"Belum Divalidasi"}),1===f.kenaikan_pangkat.status_validasi&&Object(v.jsx)(i.b,{color:"success",children:"Tervalidasi"}),2===f.kenaikan_pangkat.status_validasi&&Object(v.jsx)(i.b,{color:"danger",children:"Tidak Disetujui"})]})]}),2===f.kenaikan_pangkat.status_validasi&&Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Keterangan Validasi"}),Object(v.jsx)("td",{children:f.kenaikan_pangkat.ket_status_validasi})]})]})})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(i.X,{className:"mb-3",children:Object(v.jsxs)(i.n,{className:"d-flex justify-content-between",children:[Object(v.jsx)("h2",{children:"Kelengkapan Berkas"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(i.f,{className:"mr-2",color:"success",onClick:function(){P.fire({icon:"warning",title:"Validasi Kelengkapan Berkas Kenaikan Pangkat ?",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(a){a.isConfirmed&&o(e.id_pegawai,f.kenaikan_pangkat.id,{status_validasi:1},w,K,P)}))},disabled:1===f.kenaikan_pangkat.status_validasi,children:"Validasi"}),Object(v.jsx)(i.f,{color:"danger",onClick:function(){return k(!0)},disabled:2===f.kenaikan_pangkat.status_validasi,children:"Tidak Disetujui"})]})]})}),Object(v.jsxs)(i.X,{children:[0===f.berkas_kp.length&&Object(v.jsx)(i.n,{className:"text-center",children:"Belum Ada Berkas yang Diupload"}),f.berkas_kp.map((function(a,e){return Object(v.jsx)(i.n,{md:"3",children:Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("div",{className:"bg-secondary d-flex py-3",children:Object(v.jsx)("img",{src:r.b,style:{width:"40%",margin:"auto"},className:"card-img-top",alt:"icon-excel"})}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:Object(u.a)(a.file)}),Object(v.jsxs)("p",{className:"text-muted",children:["Diupload pada"," ",Object(s.a)(new Date(O(a.created_at)),"dd/MM/y")]}),Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)("a",{href:Object(h.a)(a.file),target:"_blank",rel:"noreferrer",className:"btn btn-primary mr-2",children:"Download File"})})]})]})},e)}))]})]})})]}),f&&Object(v.jsx)(N,{idPegawai:e.id_pegawai,namaPegawai:f.pegawai.nama,modal:g,setModal:k,setData:w,setLoading:K,idKp:f.kenaikan_pangkat.id})]})}},646:function(a,e,n){"use strict";var t=n(627),i=(n(1),n(629)),s=n(17);e.a=function(){return Object(s.jsx)(t.X,{className:"mb-3",children:Object(s.jsx)(t.n,{className:"text-center",children:Object(s.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.d,alt:"load-animation"})})})}},649:function(a,e,n){"use strict";e.a=function(a){var e=a.split("/");return e[e.length-1]}},738:function(a,e,n){"use strict";e.a=function(a){var e=a.split("/"),n=e[e.length-1];return"".concat(localStorage.baseURL,"berkas-kp/").concat(n)}}}]);
//# sourceMappingURL=49.1942d92a.chunk.js.map