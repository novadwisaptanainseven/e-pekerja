(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{1005:function(a,e,n){"use strict";n.r(e);var t=n(2),i=n(9),c=n(571),s=n(743),l=n(637),r=n(627),o=n(1),d=n.n(o),j=n(641),u=n.n(j),b=n(676),p=n(648),g=n(646),k=n(638),h=n(634),m=n(682),O=n(653),x=n(631),f=n.n(x),_=n(632),v=n.n(_),y=n(635),w=n(626),C=n(40),N=function(a){a({type:C.LOADING});w.a.get("admin/kenaikan-pangkat").then((function(e){a({type:C.SUCCESS,payload:e.data.data})})).catch((function(e){a({type:C.ERROR,payload:e.response.data.message}),console.log(e.response.data)}))},P=n(17),S=v()(f.a),B=function(a){var e=a.modal,n=a.setModal,c=a.dispatch,s=Object(o.useState)(!1),l=Object(i.a)(s,2),d=l[0],j=l[1],u=Object(o.useState)([]),b=Object(i.a)(u,2),p=b[0],g=b[1],x=Object(o.useState)(""),f=Object(i.a)(x,2),_=f[0],v=f[1];Object(o.useEffect)((function(){e.modal&&(Object(m.a)(g),console.log(e.data))}),[e]),Object(o.useEffect)((function(){e.modal&&function(a,e){w.a.get("admin/kenaikan-pangkat/".concat(a)).then((function(a){console.log(a.data),e(a.data.data)})).catch((function(a){console.log(a.response.data)}))}(e.id,v)}),[e]);var C={jenis_kp:_?_.jenis_kp:"",pangkat_baru:_?_.id_golongan:"",no_sk:_?_.no_sk:"",tanggal:_?_.tanggal:"",mk_tahun:"",mk_bulan:"",pejabat_penetap:"",tmt_kenaikan_pangkat:"",file:void 0},B=function(){S.fire({icon:"success",title:"Update Pangkat Golongan Pegawai di Sistem Berhasil",showConfirmButton:!1,timer:1500}).then((function(a){n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))}))},M=function(a){S.fire({icon:"error",title:"Update Pangkat Golongan Pegawai di Sistem Gagal",text:a}).then((function(a){}))},T=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],L=y.c().shape({jenis_kp:y.e().required("Jenis kenaikan pangkat harus diisi"),pangkat_baru:y.e().required("Pangkat golongan harus diisi"),no_sk:y.e().required("No. SK harus diisi"),tanggal:y.e().required("Tanggal kenaikan pangkat harus diisi"),tmt_kenaikan_pangkat:y.e().required("TMT. Kenaikan pangkat harus diisi"),pejabat_penetap:y.e().required("Pejabata penetap harus diisi"),mk_tahun:y.e().required("Tahun harus diisi"),mk_bulan:y.e().required("Bulan harus diisi"),file:y.a().test("size","Kapasitas file maksimal 5 mb",(function(a){return!a||a&&a.size<=5048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, doc, dan docx",(function(a){return!a||a&&T.includes(a.type)}))});return Object(P.jsxs)(r.N,{show:e.modal,onClose:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1,id:null}))},children:[Object(P.jsx)(r.Q,{closeButton:!0,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:e.data&&e.data.nama}),Object(P.jsx)("h5",{className:"font-weight-normal",children:e.data&&e.data.nip})]})}),Object(P.jsx)(h.a,{initialValues:C,validationSchema:L,enableReinitialize:!0,onSubmit:function(a){var n=new FormData,t=a.mk_tahun+" Tahun "+a.mk_bulan+" Bulan";n.append("id_golongan",a.pangkat_baru),n.append("jenis_kp",a.jenis_kp),n.append("no_sk",a.no_sk),n.append("tanggal",a.tanggal),n.append("tmt_kenaikan_pangkat",a.tmt_kenaikan_pangkat),n.append("pejabat_penetap",a.pejabat_penetap),n.append("masa_kerja",t),a.file&&n.append("file",a.file);var i,s=Object(k.a)(n.entries());try{for(s.s();!(i=s.n()).done;){var l=i.value;console.log(l)}}catch(r){s.e(r)}finally{s.f()}!function(a,e,n,t,i,c){t(!0),w.a.post("admin/kenaikan-pangkat-update/".concat(a),e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(a){console.log(a.data),N(n),i(),t(!1)})).catch((function(a){console.log(a.response.data),c(a.response.data.message),t(!1)}))}(e.id,n,c,j,B,M)},children:function(a){var i=a.values,c=a.errors,s=a.touched,l=a.handleChange,o=a.handleBlur,j=a.handleSubmit,u=a.setFieldValue;return Object(P.jsxs)(r.x,{onSubmit:j,children:[Object(P.jsxs)(r.O,{children:[Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Jenis Kenaikan Pangkat"}),Object(P.jsxs)(r.Y,{disabled:!0,name:"jenis_kp",onChange:l,onBlur:o,value:i.jenis_kp,className:c.jenis_kp&&s.jenis_kp?"is-invalid":null,children:[Object(P.jsx)("option",{children:"-- Pilih Jenis Kenaikan Pangkat --"}),Object(P.jsx)("option",{value:"Reguler",children:"Reguler"}),Object(P.jsx)("option",{value:"Jabatan Struktural",children:"Jabatan Struktural"}),Object(P.jsx)("option",{value:"Jabatan Fungsional",children:"Jabatan Fungsional"}),Object(P.jsx)("option",{value:"Penyesuaian Ijazah",children:"Penyesuaian Ijazah"})]}),c.jenis_kp&&s.jenis_kp&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.jenis_kp})]}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Pangkat / Golongan Baru"}),Object(P.jsxs)(r.Y,{disabled:!0,name:"pangkat_baru",onChange:l,onBlur:o,value:i.pangkat_baru,className:c.pangkat_baru&&s.pangkat_baru?"is-invalid":null,children:[Object(P.jsx)("option",{children:"-- Pilih Pangkat --"}),p.map((function(a,e){return Object(P.jsxs)("option",{value:a.id_pangkat_golongan,children:[a.keterangan," (",a.golongan,")"]},e)}))]}),c.pangkat_baru&&s.pangkat_baru&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.pangkat_baru})]}),Object(P.jsx)(r.y,{children:Object(P.jsxs)(r.X,{children:[Object(P.jsxs)(r.n,{children:[Object(P.jsx)(r.L,{children:"No. SK"}),Object(P.jsx)(r.E,{type:"text",name:"no_sk",onChange:l,onBlur:o,value:i.no_sk,className:c.no_sk&&s.no_sk?"is-invalid":null}),c.no_sk&&s.no_sk&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.no_sk})]}),Object(P.jsxs)(r.n,{children:[Object(P.jsx)(r.L,{children:"Tgl. Kenaikan Pangkat"}),Object(P.jsx)(r.E,{type:"date",name:"tanggal",onChange:l,onBlur:o,value:i.tanggal,className:c.tanggal&&s.tanggal?"is-invalid":null}),c.tanggal&&s.tanggal&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.tanggal})]})]})}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"TMT. Kenaikan Pangkat"}),Object(P.jsx)(r.E,{type:"date",name:"tmt_kenaikan_pangkat",onChange:l,onBlur:o,min:i.tanggal,value:i.tmt_kenaikan_pangkat,className:c.tmt_kenaikan_pangkat&&s.tmt_kenaikan_pangkat?"is-invalid":null}),c.tmt_kenaikan_pangkat&&s.tmt_kenaikan_pangkat&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.tmt_kenaikan_pangkat})]}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Pejabat Penetap"}),Object(P.jsx)(r.E,{type:"text",name:"pejabat_penetap",onChange:l,onBlur:o,value:i.pejabat_penetap,className:c.pejabat_penetap&&s.pejabat_penetap?"is-invalid":null}),c.pejabat_penetap&&s.pejabat_penetap&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.pejabat_penetap})]}),Object(P.jsx)(r.y,{children:Object(P.jsxs)(r.X,{children:[Object(P.jsxs)(r.n,{children:[Object(P.jsx)(r.L,{children:"Masa Kerja Golongan"}),Object(P.jsx)(r.E,{type:"number",name:"mk_tahun",min:"0",onChange:l,onBlur:o,placeholder:"Tahun",value:i.mk_tahun,className:c.mk_tahun&&s.mk_tahun?"is-invalid":null}),Object(P.jsx)(r.z,{children:"Tahun"}),c.mk_tahun&&s.mk_tahun&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.mk_tahun})]}),Object(P.jsxs)(r.n,{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start"},children:[Object(P.jsx)(r.E,{type:"number",name:"mk_bulan",min:"0",onChange:l,onBlur:o,value:i.mk_bulan,placeholder:"Bulan",className:c.mk_bulan&&s.mk_bulan?"is-invalid":null}),Object(P.jsx)(r.z,{children:"Bulan"}),c.mk_bulan&&s.mk_bulan&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.mk_bulan})]})]})}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"File"}),Object(P.jsx)(r.E,{type:"file",name:"file",onChange:function(a){return u("file",a.target.files[0])},onBlur:o,className:c.file&&s.file?"is-invalid":null}),c.file&&s.file&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.file})]})]}),Object(P.jsxs)(r.P,{children:[Object(P.jsx)(r.f,{type:"submit",color:"primary",disabled:!!d,children:d?Object(P.jsx)(O.a,{}):"Simpan"}),Object(P.jsx)(r.f,{color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1,id:null}))},children:"Close"})]})]})}})]})},M=n(749),T=function(a){var e=a.modal,n=a.setModal,c=Object(o.useState)(""),d=Object(i.a)(c,2),j=d[0],u=d[1];Object(o.useEffect)((function(){if(e.data)if(console.log(e.data),"pangkat-updated"===e.type){var a="Kepada Yth. ".concat(e.data.nama,", pangkat Anda telah diperbarui menjadi ").concat(e.data.pangkat_baru," terhitung mulai tanggal ").concat(Object(M.a)(new Date(e.data.tanggal),"dd/MM/y"),". Terimakasih");u(a.replace(/\r?\n|\r/,""))}else if("akan-naik-pangkat"===e.type){var n="Kepada Yth. ".concat(e.data.nama,", Anda akan mengalami kenaikan pangkat (").concat(e.data.jenis_kp,") pada tanggal ").concat(Object(M.a)(new Date(e.data.tanggal),"dd/MM/y"),". Silahkan untuk melengkapi berkas - berkasnya. Terimakasih");u(n.replace(/\r?\n|\r/,""))}return function(){return u("")}}),[e]);return Object(P.jsx)("div",{children:Object(P.jsxs)(r.N,{show:e.modal,onClose:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))},children:[Object(P.jsx)(r.Q,{closeButton:!0,children:"Kirim Pemberitahuan via WhatsApp"}),Object(P.jsx)(r.O,{children:e.data&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"No. HP"}),Object(P.jsx)(r.E,{type:"text",name:"no_hp",value:e.data.no_hp,readOnly:!0})]}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Pesan"}),Object(P.jsx)(r.lb,{name:"pesan",rows:5,onChange:function(a){return u(a.target.value)},value:j})]})]})}),Object(P.jsxs)(r.P,{children:[Object(P.jsxs)(r.f,{color:"primary",onClick:function(){var a=e.data.no_hp.replace("0","62"),n=j;window.open("https://api.whatsapp.com/send?phone=".concat(a,"&text=").concat(n),"blank")},children:["Kirim ",Object(P.jsx)(l.a,{content:s.a})]}),Object(P.jsx)(r.f,{color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))},children:"Tutup"})]})]})})},L=n(163),K=function(){window.open("".concat(localStorage.baseURL,"print-kenaikan-pangkat"),"_blank")},E=n(645),F=n(20),D=v()(f.a),A=function(a){var e=a.modal,n=a.setModal,c=Object(o.useState)(""),d=Object(i.a)(c,2),j=d[0],u=d[1],b=Object(o.useState)(!1),p=Object(i.a)(b,2),g=p[0],k=p[1];Object(o.useEffect)((function(){if(e.data)if(console.log(e.data),"pangkat-updated"===e.type){var a="Kepada Yth. ".concat(e.data.nama,", pangkat Anda telah diperbarui menjadi ").concat(e.data.pangkat_baru," terhitung mulai tanggal ").concat(Object(M.a)(new Date(e.data.tanggal),"dd/MM/y"),". Terimakasih");u(a.replace(/\r?\n|\r/,""))}else if("akan-naik-pangkat"===e.type){var n="Kepada Yth. ".concat(e.data.nama,", Anda akan mengalami kenaikan pangkat (").concat(e.data.jenis_kp,") pada tanggal ").concat(Object(M.a)(new Date(e.data.tanggal),"dd/MM/y"),". Silahkan untuk melengkapi berkas - berkasnya. Terimakasih");u(n.replace(/\r?\n|\r/,""))}return function(){return u("")}}),[e]);return Object(P.jsx)("div",{children:Object(P.jsxs)(r.N,{show:e.modal,onClose:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))},children:[Object(P.jsx)(r.Q,{closeButton:!0,children:"Kirim Pemberitahuan via GMAIL"}),Object(P.jsx)(r.O,{children:e.data&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Email"}),Object(P.jsx)(r.E,{type:"text",name:"email",value:e.data.email,readOnly:!0})]}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Pesan"}),Object(P.jsx)(r.lb,{name:"pesan",rows:5,onChange:function(a){return u(a.target.value)},value:j})]})]})}),Object(P.jsxs)(r.P,{children:[Object(P.jsx)(r.f,{color:"primary",onClick:function(){var a=e.data.email;!function(a,e,n){e(!0),w.a.post("admin/kp-send-email",a).then((function(a){console.log(a.data),e(!1),n.fire({icon:"success",title:"Notifikasi Via Email Berhasil"})})).catch((function(a){console.log(a.response.data),e(!1),n.fire({icon:"error",title:"Notifikasi Via Email Gagal",text:a.response.data.message})}))}({nama:e.data.nama,email:a,pesan:j},k,D)},disabled:!!g,children:g?Object(P.jsx)(O.a,{}):Object(P.jsxs)(P.Fragment,{children:["Kirim ",Object(P.jsx)(l.a,{content:s.a})]})}),Object(P.jsx)(r.f,{color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))},children:"Tutup"})]})]})})},J=v()(f.a),R=function(a){var e=a.modal,n=a.setModal,c=a.dispatch,s=Object(o.useState)(!1),l=Object(i.a)(s,2),d=l[0],j=l[1],u=Object(o.useState)([]),b=Object(i.a)(u,2),p=b[0],g=b[1];Object(o.useEffect)((function(){e.modal&&Object(m.a)(g)}),[e]);var x=function(){J.fire({icon:"success",title:"Tambah Kenaikan Pangkat Berhasil",showConfirmButton:!1,timer:1500}).then((function(a){n(Object(t.a)(Object(t.a)({},e),{},{modal:!1}))}))},f=function(a){var e="";for(var n in a)e+="".concat(a[n],", ");J.fire({icon:"error",title:"Tambah Kenaikan Pangkat Gagal",text:e}).then((function(a){j(!1)}))},_=y.c().shape({jenis_kp:y.e().required("Jenis kenaikan pangkat harus diisi"),pangkat_baru:y.e().required("Pangkat golongan harus diisi"),tanggal:y.e().required("Tanggal kenaikan pangkat harus diisi")});return Object(P.jsxs)(r.N,{show:e.modal,onClose:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1,id:null}))},children:[Object(P.jsx)(r.Q,{closeButton:!0,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:e.data&&e.data.nama}),Object(P.jsx)("h5",{className:"font-weight-normal",children:e.data&&e.data.nip})]})}),Object(P.jsx)(h.a,{initialValues:{jenis_kp:"",tanggal:"",pangkat_baru:""},validationSchema:_,onSubmit:function(a){var n=new FormData,t=a.pangkat_baru.split("-"),i=t[0],s=t[1];n.append("id_golongan",i),n.append("pangkat_baru",s),n.append("jenis_kp",a.jenis_kp),n.append("tanggal",a.tanggal);var l,r=Object(k.a)(n.entries());try{for(r.s();!(l=r.n()).done;){var o=l.value;console.log(o)}}catch(d){r.e(d)}finally{r.f()}!function(a,e,n,t,i,c){n(!0),w.a.post("admin/kenaikan-pangkat/".concat(a),e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(a){console.log(a.data),n(!1),t(),N(c)})).catch((function(a){console.log(a.response.data),i(a.response.data.errors)}))}(e.id,n,j,x,f,c)},children:function(a){var i=a.values,c=a.errors,s=a.touched,l=a.handleChange,o=a.handleBlur,j=a.handleSubmit;return Object(P.jsxs)(r.x,{onSubmit:j,children:[Object(P.jsxs)(r.O,{children:[Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Jenis Kenaikan Pangkat"}),Object(P.jsxs)(r.Y,{name:"jenis_kp",onChange:l,onBlur:o,className:c.jenis_kp&&s.jenis_kp?"is-invalid":null,children:[Object(P.jsx)("option",{value:i.jenis_kp,children:"-- Pilih Jenis Kenaikan Pangkat --"}),Object(P.jsx)("option",{value:"Reguler",children:"Reguler"}),Object(P.jsx)("option",{value:"Jabatan Struktural",children:"Jabatan Struktural"}),Object(P.jsx)("option",{value:"Jabatan Fungsional",children:"Jabatan Fungsional"}),Object(P.jsx)("option",{value:"Penyesuaian Ijazah",children:"Penyesuaian Ijazah"})]}),c.jenis_kp&&s.jenis_kp&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.jenis_kp})]}),Object(P.jsxs)(r.y,{children:[Object(P.jsx)(r.L,{children:"Pangkat / Golongan Baru"}),Object(P.jsxs)(r.Y,{name:"pangkat_baru",onChange:l,onBlur:o,className:c.pangkat_baru&&s.pangkat_baru?"is-invalid":null,children:[Object(P.jsx)("option",{value:i.pangkat_baru,children:"-- Pilih Pangkat --"}),p.map((function(a,e){return Object(P.jsxs)("option",{value:"".concat(a.id_pangkat_golongan,"-").concat(a.keterangan," (").concat(a.golongan,")"),children:[a.keterangan," (",a.golongan,")"]},e)}))]}),c.pangkat_baru&&s.pangkat_baru&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.pangkat_baru})]}),Object(P.jsx)(r.y,{children:Object(P.jsx)(r.X,{children:Object(P.jsxs)(r.n,{children:[Object(P.jsx)(r.L,{children:"Tgl. Kenaikan Pangkat"}),Object(P.jsx)(r.E,{type:"date",name:"tanggal",onChange:l,onBlur:o,className:c.tanggal&&s.tanggal?"is-invalid":null}),c.tanggal&&s.tanggal&&Object(P.jsx)("div",{className:"invalid-feedback",children:c.tanggal})]})})})]}),Object(P.jsxs)(r.P,{children:[Object(P.jsx)(r.f,{type:"submit",color:"primary",disabled:!!d,children:d?Object(P.jsx)(O.a,{}):"Simpan"}),Object(P.jsx)(r.f,{color:"secondary",onClick:function(){return n(Object(t.a)(Object(t.a)({},e),{},{modal:!1,id:null}))},children:"Close"})]})]})}})]})},z=v()(f.a);e.default=function(){var a=Object(F.g)(),e=Object(F.i)().path,n=Object(o.useState)(""),j=Object(i.a)(n,2),k=j[0],h=j[1],m=Object(o.useState)(!1),O=Object(i.a)(m,2),x=O[0],f=O[1],_=Object(o.useContext)(L.a),v=_.kenaikanPangkatState,y=_.kenaikanPangkatDispatch,C=v.data,S=v.loading,D=Object(o.useState)({modal:!1,data:null,type:null}),J=Object(i.a)(D,2),G=J[0],q=J[1],I=Object(o.useState)({modal:!1,data:null,type:null}),Y=Object(i.a)(I,2),X=Y[0],H=Y[1],U=Object(o.useState)({modal:!1}),V=Object(i.a)(U,2),Q=V[0],W=V[1],Z=Object(o.useState)({modal:!1,data:"",type:""}),$=Object(i.a)(Z,2),aa=$[0],ea=$[1],na=function(n,t){n.preventDefault(),a.push("".concat(e,"/pegawai/").concat(t,"/berkas"))};Object(o.useEffect)((function(){N(y)}),[y]);var ta=C.filter((function(a){return a.nip.toLowerCase().includes(k.toLowerCase())||a.nama.toLowerCase().includes(k.toLowerCase())})),ia=[{name:"No",selector:"no",sortable:!0,wrap:!0,width:"80px"},{name:"NIP",selector:"nip",sortable:!0,wrap:!0},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Pangkat / Gol",wrap:!0,cell:function(a){return Object(P.jsxs)("span",{children:[a.keterangan," (",a.golongan,")"]})}},{name:"Kenaikan Pangkat",selector:"pangkat_baru",wrap:!0,cell:function(a){return Object(P.jsxs)("div",{className:"text-center",children:[a.pangkat_baru&&Object(P.jsxs)("span",{children:[a.pangkat_baru," ",Object(P.jsx)("br",{}),"Tgl. ",Object(M.a)(new Date(a.tanggal),"dd/MM/y")," ",Object(P.jsx)("br",{}),"(",a.jenis_kp,")"]}),!a.pangkat_baru&&Object(P.jsx)(r.f,{className:"my-1",color:"danger",onClick:function(){return H(Object(t.a)(Object(t.a)({},X),{},{modal:!0,id:a.id,data:a}))},children:"Tidak ada kenaikan pangkat"})]})}},{name:"Aksi",cell:function(a){return Object(P.jsx)("div",{"data-tag":"allowRowEvents",className:"my-1",children:a.pangkat_baru&&Object(P.jsx)(r.f,{color:"dark",onClick:function(){return ca(a.id)},disabled:!a.pangkat_baru,children:0===a.status_updated?"Batalkan KP":"Reset"})})}}],ca=function(a){z.fire({icon:"warning",title:"Anda yakin ingin membatalkan kenaikan pangkat untuk pegawai ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(e){e.isConfirmed&&(!function(a,e){w.a.delete("admin/kenaikan-pangkat-batal/".concat(a)).then((function(a){console.log(a.data),N(e)})).catch((function(a){console.log(a.response.data)}))}(a,y),z.fire({icon:"success",title:"Sukses",text:"Kenaikan Pangkat Berhasil Dibatalkan"}))}))},sa=d.a.useMemo((function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(p.a,{onFilter:function(a){return h(a.target.value)},onClear:function(){k&&(f(!x),h(""))},filterText:k}),Object(P.jsxs)(r.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return K()},children:["PDF ",Object(P.jsx)(l.a,{content:c.a})]}),Object(P.jsxs)(r.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(E.a)("kenaikan-pangkat")},children:["Excel ",Object(P.jsx)(l.a,{content:c.a})]})]})}),[k,x]),la=function(n){var i=n.data,c="",o=Date.parse(new Date),d=i.tanggal?Date.parse(new Date(i.tanggal)):"";return d&&(c=o<d?"akan-naik-pangkat":"naik-pangkat"),Object(P.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(P.jsxs)(r.X,{className:"mb-1",children:[Object(P.jsx)(r.n,{md:"3",children:Object(P.jsx)("strong",{children:"Status Kenaikan Pangkat"})}),Object(P.jsx)(r.n,{children:0===i.status_updated?Object(P.jsxs)(P.Fragment,{children:["akan-naik-pangkat"===c&&Object(P.jsx)(r.b,{color:"primary",children:"Akan Naik Pangkat"}),"naik-pangkat"===c&&Object(P.jsx)(r.f,{disabled:0===i.status_validasi,color:"info",onClick:function(){return q(Object(t.a)(Object(t.a)({},G),{},{modal:!0,id:i.id,data:i}))},children:"Update Pangkat"}),!c&&Object(P.jsx)(r.b,{color:"danger",children:"Tidak ada kenaikan pangkat"})]}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(r.b,{color:"success",children:"Pangkat telah diperbarui"})})})]}),c&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(r.X,{className:"mb-1",children:[Object(P.jsx)(r.n,{md:"3",children:Object(P.jsx)("strong",{children:"Pemberitahuan"})}),Object(P.jsx)(r.n,{children:0===i.status_updated?Object(P.jsxs)(P.Fragment,{children:["akan-naik-pangkat"===c&&Object(P.jsxs)("span",{children:["Pegawai ini akan mengalami kenaikan pangkat menjadi"," ",i.pangkat_baru," pada tanggal"," ",Object(M.a)(new Date(i.tanggal),"dd/MM/y")," ",Object(P.jsx)("br",{}),Object(P.jsxs)(r.f,{color:"warning",className:"mt-1",size:"sm",onClick:function(){return W(Object(t.a)(Object(t.a)({},Q),{},{modal:!0,data:i,type:"akan-naik-pangkat"}))},children:["Notifikasi WA ",Object(P.jsx)(l.a,{content:s.a})]}),Object(P.jsxs)(r.f,{color:"warning",className:"mt-1 ml-1",size:"sm",onClick:function(){return ea(Object(t.a)(Object(t.a)({},aa),{},{modal:!0,data:i,type:"akan-naik-pangkat"}))},children:["GMAIL ",Object(P.jsx)(l.a,{content:s.a})]})]}),"naik-pangkat"===c&&Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("span",{children:["Pegawai ini pangkat golongannya sudah bisa diupdate."," ",Object(P.jsx)("b",{children:"Note: "})," harus sudah"," ",Object(P.jsx)("span",{style:{textDecoration:"underline"},children:"tervalidasi"})]})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("span",{className:"mr-2",children:"Pegawai ini pangkat golongannya telah diperbarui"})," ",Object(P.jsxs)(r.f,{color:"warning",size:"sm",className:"mt-1",onClick:function(){return W(Object(t.a)(Object(t.a)({},Q),{},{modal:!0,data:i,type:"pangkat-updated"}))},children:["Notifikasi WA ",Object(P.jsx)(l.a,{content:s.a})]}),Object(P.jsxs)(r.f,{color:"warning",size:"sm",className:"mt-1 ml-1",onClick:function(){return ea(Object(t.a)(Object(t.a)({},aa),{},{modal:!0,data:i,type:"pangkat-updated"}))},children:["GMAIL ",Object(P.jsx)(l.a,{content:s.a})]}),Object(P.jsx)("br",{})]})})]}),Object(P.jsxs)(r.X,{className:"mb-1",children:[Object(P.jsx)(r.n,{md:"3",children:Object(P.jsx)("strong",{children:"Status"})}),Object(P.jsx)(r.n,{children:1===i.status_validasi?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(r.b,{className:"mr-2",color:"success",children:"Tervalidasi"}),Object(P.jsx)("a",{href:".",onClick:function(a){return na(a,i.id_pegawai)},children:"Cek Berkas"})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(r.b,{className:"mr-2",color:"danger",children:"Belum Divalidasi"}),Object(P.jsx)("a",{href:".",onClick:function(a){return na(a,i.id_pegawai)},children:"Cek Berkas"})]})})]})]}),Object(P.jsxs)(r.X,{className:"mb-1",children:[Object(P.jsx)(r.n,{md:"3",children:Object(P.jsx)("strong",{children:"Riwayat Golongan"})}),Object(P.jsx)(r.n,{children:Object(P.jsx)(r.f,{color:"primary",onClick:function(){return n=i.id_pegawai,void a.push("".concat(e,"/riwayat/").concat(n));var n},children:"Lihat"})})]})]})};return Object(P.jsxs)("div",{children:[Object(P.jsxs)(r.h,{children:[Object(P.jsx)(r.l,{children:Object(P.jsx)("h3",{children:"Kenaikan Pangkat PNS"})}),Object(P.jsx)(r.i,{children:C.length>0?Object(P.jsx)(u.a,{columns:ia,data:ta,noHeader:!0,responsive:!0,customStyles:b.a,pagination:!0,paginationResetDefaultPage:x,subHeader:!0,subHeaderComponent:sa,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(P.jsx)(la,{}),highlightOnHover:!0}):S?Object(P.jsx)(g.a,{}):Object(P.jsx)(u.a,{columns:ia,data:ta,noHeader:!0,responsive:!0,customStyles:b.a})})]}),Object(P.jsx)(R,{modal:X,setModal:H,dispatch:y}),Object(P.jsx)(B,{modal:G,setModal:q,dispatch:y}),Object(P.jsx)(T,{modal:Q,setModal:W}),Object(P.jsx)(A,{modal:aa,setModal:ea})]})}},640:function(a,e,n){"use strict";function t(a,e){return e||(e=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",(function(){return t}))},646:function(a,e,n){"use strict";var t=n(627),i=(n(1),n(629)),c=n(17);e.a=function(){return Object(c.jsx)(t.X,{className:"mb-3",children:Object(c.jsx)(t.n,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.d,alt:"load-animation"})})})}},648:function(a,e,n){"use strict";n(1);var t,i,c=n(640),s=n(643),l=s.default.button(t||(t=Object(c.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),r=s.default.input(i||(i=Object(c.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),o=n(17);e.a=function(a){var e=a.filterText,n=a.onFilter,t=a.onClear;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(r,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:e,onChange:n}),Object(o.jsx)(l,{type:"button",onClick:t,children:"Reset"})]})}},653:function(a,e,n){"use strict";n(1);var t=n(629),i=n(17);e.a=function(){return Object(i.jsx)("img",{width:21,src:t.e,alt:"load-animation"})}},676:function(a,e,n){"use strict";e.a={headCells:{style:{fontSize:"1.15em"}}}},682:function(a,e,n){"use strict";n.d(e,"a",(function(){return i}));var t=n(626),i=function(a){t.a.get("admin/master-data/pangkat-golongan").then((function(e){a(e.data.data)})).catch((function(a){}))}},743:function(a,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=27.730e6067.chunk.js.map