(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[80],{794:function(e,a,i){"use strict";i.r(a);var t=i(2),n=i(10),l=i(1),c=i(628),s=i(20),r=i(626),u=i(632),d=i.n(u),j=i(633),o=i.n(j),h=i(636),g=i(635),m=i(630),b=i(17),O=o()(d.a);a.default=function(e){var a=e.modalEdit,i=e.setModalEdit,u=e.id_pegawai,d=Object(s.g)(),j=Object(l.useState)(!1),o=Object(n.a)(j,2),x=o[0],_=o[1],f=Object(l.useState)(""),p=Object(n.a)(f,2),v=p[0],k=p[1];Object(l.useEffect)((function(){return a.id&&function(e,a,i){r.a.get("admin/pegawai/".concat(e,"/cuti/").concat(a)).then((function(e){i(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}(u,a.id,k),function(){k(null)}}),[a,u]);var C={tgl_mulai:v?v.tgl_mulai:"",tgl_selesai:v?v.tgl_selesai:"",jenis_cuti:v?v.jenis_cuti:"",keterangan:v?v.keterangan:""},w=function(){O.fire({icon:"success",title:"Edit Cuti Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){i(Object(t.a)(Object(t.a)({},a),{},{modal:!a.modal,id:null})),d.push("/epekerja/admin/cuti/riwayat/".concat(u))}))},B=function(e){var a="";for(var i in e)a+="".concat(e[i],", ");O.fire({icon:"error",title:"Edit Cuti Gagal",text:a}).then((function(e){_(!1)}))},y=h.c().shape({tgl_mulai:h.e().required("Tanggal mulai cuti harus diisi!"),tgl_selesai:h.e().required("Tanggal selesai cuti harus diisi!"),jenis_cuti:h.e().required("Jenis cuti harus dipilih!"),keterangan:h.e().required("Keterangan/alasan cuti harus diisi!")}),N=function(e){!function(e,a,i,t,n,l){t(!0),r.a.put("admin/pegawai/".concat(e,"/cuti/").concat(a),i).then((function(e){console.log(e.data),t(!1),n()})).catch((function(e){console.log(e.response.data),l(e.response.data.errors)}))}(u,a.id,e,_,w,B)};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(g.a,{initialValues:C,validationSchema:y,enableReinitialize:!0,onSubmit:function(e){return N(e)},children:function(e){var n=e.values,l=e.errors,s=e.touched,r=e.handleChange,u=e.handleBlur,d=e.handleSubmit;return Object(b.jsxs)(c.w,{onSubmit:d,children:[Object(b.jsxs)(c.N,{children:[Object(b.jsxs)(c.x,{row:!0,children:[Object(b.jsx)(c.m,{md:"3",children:Object(b.jsx)(c.K,{children:"Jenis Cuti"})}),Object(b.jsxs)(c.m,{children:[Object(b.jsxs)(c.X,{name:"jenis_cuti",value:n.jenis_cuti||"",onChange:r,onBlur:u,className:l.jenis_cuti&&s.jenis_cuti?"is-invalid":null,children:[Object(b.jsx)("option",{value:"",children:"-- Jenis Cuti --"}),Object(b.jsx)("option",{value:"Cuti Tahunan",children:"Cuti Tahunan"}),Object(b.jsx)("option",{value:"Cuti Bulanan",children:"Cuti Bulanan"}),Object(b.jsx)("option",{value:"Cuti Harian",children:"Cuti Harian"})]}),l.jenis_cuti&&s.jenis_cuti&&Object(b.jsx)("div",{className:"invalid-feedback",children:l.jenis_cuti})]})]}),Object(b.jsxs)(c.x,{row:!0,children:[Object(b.jsx)(c.m,{md:"3",children:Object(b.jsx)(c.K,{children:"Tgl. Mulai"})}),Object(b.jsxs)(c.m,{children:[Object(b.jsx)(c.D,{type:"date",name:"tgl_mulai",id:"tgl_mulai",placeholder:"Masukkan tgl mulai cuti",onChange:r,onBlur:u,value:n.tgl_mulai,className:l.tgl_mulai&&s.tgl_mulai?"is-invalid":null}),l.tgl_mulai&&s.tgl_mulai&&Object(b.jsx)("div",{className:"invalid-feedback",children:l.tgl_mulai})]})]}),Object(b.jsxs)(c.x,{row:!0,children:[Object(b.jsx)(c.m,{md:"3",children:Object(b.jsx)(c.K,{children:"Tgl. Selesai"})}),Object(b.jsxs)(c.m,{children:[Object(b.jsx)(c.D,{type:"date",name:"tgl_selesai",id:"tgl_selesai",placeholder:"Masukkan tgl selesai cuti",min:n.tgl_mulai,onChange:r,onBlur:u,value:n.tgl_selesai,className:l.tgl_selesai&&s.tgl_selesai?"is-invalid":null}),Object(b.jsxs)(c.y,{children:[Object(b.jsx)("b",{children:"Format: "})," Bulan / Tanggal / Tahun"]}),l.tgl_selesai&&s.tgl_selesai&&Object(b.jsx)("div",{className:"invalid-feedback",children:l.tgl_selesai})]})]}),Object(b.jsxs)(c.x,{row:!0,children:[Object(b.jsx)(c.m,{md:"3",children:Object(b.jsx)(c.K,{children:"Keterangan"})}),Object(b.jsxs)(c.m,{children:[Object(b.jsx)(c.D,{type:"text",name:"keterangan",id:"keterangan",placeholder:"Masukkan keterangan / alasan cuti",onBlur:u,value:n.keterangan,disabled:!n.tgl_mulai,onChange:r,className:l.keterangan&&s.keterangan?"is-invalid":null}),l.keterangan&&s.keterangan&&Object(b.jsx)("div",{className:"invalid-feedback",children:l.keterangan})]})]})]}),Object(b.jsxs)(c.O,{children:[Object(b.jsx)(c.f,{type:"submit",color:"primary",disabled:!!x,children:x?Object(b.jsx)("img",{width:21,src:m.d,alt:"load-animation"}):"Simpan"})," ",Object(b.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return i(Object(t.a)(Object(t.a)({},a),{},{modal:!a.modal,id:null}))},children:"Batal"})]})]})}})})}}}]);
//# sourceMappingURL=80.16c47b43.chunk.js.map