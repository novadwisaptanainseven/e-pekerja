{"version":3,"sources":["context/actions/Cuti/getCuti.js","context/actions/DownloadFile/printRiwayatCuti.js","views/pages/Admin/Cuti/RiwayatCuti.js","context/actions/Cuti/deleteCuti.js","context/actions/Pegawai/PNS/getPNSById.js","../node_modules/@coreui/icons/js/free/cil-pen.js","views/pages/Admin/Cuti/EditCuti.js","context/actions/Cuti/getCutiById.js","context/actions/Cuti/editCuti.js","views/pages/Admin/Cuti/TambahCuti.js","context/actions/Cuti/insertCuti.js"],"names":["getCuti","id_pegawai","setLoading","setData","axiosInstance","get","then","res","console","log","data","catch","err","response","printRiwayatCuti","id","window","open","localStorage","baseURL","MySwal","withReactContent","swal2","RiwayatCuti","match","useState","modalTambah","setModalTambah","params","history","useHistory","pegawai","setPegawai","loading","modal","modalEdit","setModalEdit","useEffect","getPNSById","columns","name","selector","sortable","wrap","width","maxWidth","cell","item","format","Date","tgl_mulai","tgl_selesai","row","currentDate","getTime","tglMulaiCuti","tglSelesaiCuti","status","className","color","shape","data-tag","onClick","id_cuti","content","cilPen","handleDelete","disabled","cilTrash","customStyles","headCells","style","fontSize","fire","icon","title","text","showConfirmButton","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","setCuti","delete","deleteCuti","SubHeaderComponentMemo","type","cilPrint","exportExcel","ExpandableComponent","padding","md","created_at","keterangan","nama","height","push","length","noHeader","responsive","pagination","subHeader","subHeaderComponent","highlightOnHover","expandableRows","expandOnRowClicked","expandableRowsComponent","src","LoadAnimationBlue","alt","show","onClose","size","closeButton","TambahCuti","EditCuti","setPNS","getCutiById","initState","jenis_cuti","showAlertSuccess","timer","showAlertError","message","err_message","key","result","validationSchema","Yup","required","handleFormSubmit","values","put","errors","editCuti","initialValues","enableReinitialize","onSubmit","touched","handleChange","handleBlur","handleSubmit","value","onChange","onBlur","placeholder","min","LoadAnimationWhite","formData","FormData","append","entries","pair","post","header","_boundary","insertCuti"],"mappings":"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","file":"static/js/46.dc8b291e.chunk.js","sourcesContent":["import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getCuti = (id_pegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/cuti`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","const printRiwayatCuti = (id) => {\r\n  window.open(`${localStorage.baseURL}print-riwayat-cuti/${id}`, \"_blank\");\r\n};\r\n\r\nexport default printRiwayatCuti;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CCol,\r\n  CBadge,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPen, cilTrash, cilPrint } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TambahCuti from \"./TambahCuti\";\r\nimport EditCuti from \"./EditCuti\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport { getCuti } from \"src/context/actions/Cuti/getCuti\";\r\nimport { deleteCuti } from \"src/context/actions/Cuti/deleteCuti\";\r\nimport { format } from \"date-fns\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport printRiwayatCuti from \"src/context/actions/DownloadFile/printRiwayatCuti\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatCuti = ({ match }) => {\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const params = match.params;\r\n  const history = useHistory();\r\n  const [data, setData] = useState([]);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [modalEdit, setModalEdit] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goBackToParent = () => {\r\n    history.push(`/epekerja/admin/cuti`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Get Pegawai by Id Pegawai\r\n    getPNSById(params.id, setPegawai);\r\n\r\n    // Get Riwayat Cuti by ID Pegawai\r\n    getCuti(params.id, setLoading, setData);\r\n\r\n    // Unmount\r\n    return () => {\r\n      setPegawai(\"\");\r\n      setData([]);\r\n    };\r\n  }, [params]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No\",\r\n      selector: \"no\",\r\n      sortable: true,\r\n      wrap: true,\r\n      width: \"50px\",\r\n    },\r\n    {\r\n      name: \"Jenis Cuti\",\r\n      selector: \"jenis_cuti\",\r\n      sortable: true,\r\n      maxWidth: \"150px\",\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Tgl. Mulai Cuti\",\r\n      selector: \"tgl_mulai\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (item) => (\r\n        <div>{format(new Date(item.tgl_mulai), \"dd/MM/yyyy\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Tgl. Selesai Cuti\",\r\n      selector: \"tgl_selesai\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (item) => (\r\n        <div>{format(new Date(item.tgl_selesai), \"dd/MM/yyyy\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Status Cuti\",\r\n      selector: \"status_cuti\",\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => {\r\n        // Get timestamp in miliseconds from current date\r\n        let currentDate = new Date().getTime();\r\n        // Get timestamp in miliseconds from tglMulaiCuti\r\n        let tglMulaiCuti = new Date(row.tgl_mulai).getTime();\r\n        // Get timestamp in miliseconds from tglSelesai\r\n        let tglSelesaiCuti = new Date(row.tgl_selesai).getTime();\r\n        let status = \"\";\r\n\r\n        if (currentDate < tglMulaiCuti) {\r\n          status = \"akan-cuti\";\r\n        } else if (currentDate <= tglSelesaiCuti) {\r\n          status = \"cuti\";\r\n        } else {\r\n          status = \"cuti-selesai\";\r\n        }\r\n\r\n        return (\r\n          <div>\r\n            {status === \"akan-cuti\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"info\" shape=\"pill\">\r\n                Akan Cuti\r\n              </CBadge>\r\n            )}\r\n            {status === \"cuti\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"success\" shape=\"pill\">\r\n                Sedang Cuti\r\n              </CBadge>\r\n            )}\r\n            {status === \"cuti-selesai\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"dark\" shape=\"pill\">\r\n                Masa Cuti Selesai\r\n              </CBadge>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      maxWidth: \"180px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => {\r\n        // Get timestamp in miliseconds from current date\r\n        let currentDate = new Date().getTime();\r\n        // Get timestamp in miliseconds from tglMulaiCuti\r\n        let tglMulaiCuti = new Date(row.tgl_mulai).getTime();\r\n        // Get timestamp in miliseconds from tglSelesai\r\n        let tglSelesaiCuti = new Date(row.tgl_selesai).getTime();\r\n        let status = \"\";\r\n\r\n        if (currentDate < tglMulaiCuti) {\r\n          status = \"akan-cuti\";\r\n        } else if (currentDate <= tglSelesaiCuti) {\r\n          status = \"cuti\";\r\n        } else {\r\n          status = \"cuti-selesai\";\r\n        }\r\n        return (\r\n          <div data-tag=\"allowRowEvents\">\r\n            {/* <CButton\r\n              className=\"mr-1\"\r\n              color=\"info\"\r\n              disabled={status === \"cuti-selesai\" ? true : false}\r\n            >\r\n              <CIcon content={cilPrint} />\r\n            </CButton> */}\r\n            <CButton\r\n              color=\"warning\"\r\n              onClick={() => {\r\n                setModalEdit({\r\n                  ...modalEdit,\r\n                  modal: !modalEdit.modal,\r\n                  id: row.id_cuti,\r\n                });\r\n              }}\r\n              className=\"text-white mr-1\"\r\n            >\r\n              <CIcon content={cilPen} />\r\n            </CButton>\r\n            <CButton\r\n              color=\"danger\"\r\n              onClick={() => handleDelete(row.id_cuti)}\r\n              disabled={status === \"cuti\" ? true : false}\r\n            >\r\n              <CIcon content={cilTrash} />\r\n            </CButton>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1.15em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_cuti) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteCuti(params.id, id_cuti, setLoading, setData);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"d-flex justify-content-between\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Tambah Cuti Baru\r\n          </CButton>\r\n          <div className=\"d-flex\">\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"info\"\r\n              className=\"ml-2\"\r\n              onClick={() => printRiwayatCuti(params.id)}\r\n            >\r\n              PDF <CIcon content={cilPrint} />\r\n            </CButton>\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"success\"\r\n              className=\"ml-2\"\r\n              onClick={() => exportExcel(\"cuti-pegawai/\" + params.id)}\r\n            >\r\n              Excel <CIcon content={cilPrint} />\r\n            </CButton>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Expandable Component\r\n  const ExpandableComponent = ({ data }) => (\r\n    <div style={{ padding: \"10px 63px\" }}>\r\n      <CRow className=\"mb-1\">\r\n        <CCol md=\"3\">\r\n          <strong>Tgl. Pembuatan Cuti</strong>\r\n        </CCol>\r\n        <CCol>{format(new Date(data.created_at), \"dd/MM/y\")}</CCol>\r\n      </CRow>\r\n      <CRow className=\"mb-1\">\r\n        <CCol md=\"3\">\r\n          <strong>Keterangan</strong>\r\n        </CCol>\r\n        <CCol>{data.keterangan}</CCol>\r\n      </CRow>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Riwayat Cuti</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Buat Cuti Pegawai</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <TambahCuti\r\n          id_pegawai={params.id}\r\n          modalTambah={modalTambah}\r\n          setModalTambah={setModalTambah}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Modal Edit Cuti */}\r\n      <CModal\r\n        show={modalEdit.modal}\r\n        onClose={() => {\r\n          setModalEdit({\r\n            ...modalEdit,\r\n            modal: !modalEdit.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Edit Cuti</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <EditCuti\r\n          id_pegawai={params.id}\r\n          modalEdit={modalEdit}\r\n          setModalEdit={setModalEdit}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RiwayatCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getCuti } from \"./getCuti\";\r\n\r\nexport const deleteCuti = (id_pegawai, id_cuti, setLoading, setCuti) => {\r\n  axiosInstance\r\n    .delete(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`)\r\n    .then((res) => {\r\n      getCuti(id_pegawai, setLoading, setCuti);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CForm,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n  CFormText,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { getCutiById } from \"src/context/actions/Cuti/getCutiById\";\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\nimport { editCuti } from \"src/context/actions/Cuti/editCuti\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditCuti = ({ modalEdit, setModalEdit, id_pegawai }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Get Cuti by ID\r\n    if (modalEdit.id) {\r\n      getCutiById(id_pegawai, modalEdit.id, setData);\r\n    }\r\n\r\n    return () => {\r\n      setData(null);\r\n    };\r\n  }, [modalEdit, id_pegawai]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    tgl_mulai: data ? data.tgl_mulai : \"\",\r\n    tgl_selesai: data ? data.tgl_selesai : \"\",\r\n    jenis_cuti: data ? data.jenis_cuti : \"\",\r\n    keterangan: data ? data.keterangan : \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success edit data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Cuti Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalEdit({\r\n        ...modalEdit,\r\n        modal: !modalEdit.modal,\r\n        id: null,\r\n      });\r\n      history.push(`/epekerja/admin/cuti/riwayat/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error edit data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Cuti Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    tgl_mulai: Yup.string().required(\"Tanggal mulai cuti harus diisi!\"),\r\n    tgl_selesai: Yup.string().required(\"Tanggal selesai cuti harus diisi!\"),\r\n    jenis_cuti: Yup.string().required(\"Jenis cuti harus dipilih!\"),\r\n    keterangan: Yup.string().required(\"Keterangan/alasan cuti harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    editCuti(\r\n      id_pegawai,\r\n      modalEdit.id,\r\n      values,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={initState}\r\n        validationSchema={validationSchema}\r\n        enableReinitialize={true}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n        }) => (\r\n          <CForm onSubmit={handleSubmit}>\r\n            <CModalBody>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Jenis Cuti</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CSelect\r\n                    name=\"jenis_cuti\"\r\n                    value={values.jenis_cuti || \"\"}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={\r\n                      errors.jenis_cuti && touched.jenis_cuti\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  >\r\n                    <option value=\"\">-- Jenis Cuti --</option>\r\n                    <option value=\"Cuti Tahunan\">Cuti Tahunan</option>\r\n                    <option value=\"Cuti Bulanan\">Cuti Bulanan</option>\r\n                    <option value=\"Cuti Harian\">Cuti Harian</option>\r\n                  </CSelect>\r\n                  {errors.jenis_cuti && touched.jenis_cuti && (\r\n                    <div className=\"invalid-feedback\">{errors.jenis_cuti}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Mulai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_mulai\"\r\n                    id=\"tgl_mulai\"\r\n                    placeholder=\"Masukkan tgl mulai cuti\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_mulai}\r\n                    className={\r\n                      errors.tgl_mulai && touched.tgl_mulai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_mulai && touched.tgl_mulai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_mulai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Selesai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_selesai\"\r\n                    id=\"tgl_selesai\"\r\n                    placeholder=\"Masukkan tgl selesai cuti\"\r\n                    min={values.tgl_mulai}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_selesai}\r\n                    className={\r\n                      errors.tgl_selesai && touched.tgl_selesai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  <CFormText>\r\n                    <b>Format: </b> Bulan / Tanggal / Tahun\r\n                  </CFormText>\r\n                  {errors.tgl_selesai && touched.tgl_selesai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_selesai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Keterangan</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"keterangan\"\r\n                    id=\"keterangan\"\r\n                    placeholder=\"Masukkan keterangan / alasan cuti\"\r\n                    onBlur={handleBlur}\r\n                    value={values.keterangan}\r\n                    disabled={!values.tgl_mulai ? true : false}\r\n                    onChange={handleChange}\r\n                    className={\r\n                      errors.keterangan && touched.keterangan\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.keterangan && touched.keterangan && (\r\n                    <div className=\"invalid-feedback\">{errors.keterangan}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                disabled={loading ? true : false}\r\n              >\r\n                {loading ? (\r\n                  <img\r\n                    width={21}\r\n                    src={LoadAnimationWhite}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                ) : (\r\n                  \"Simpan\"\r\n                )}\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"button\"\r\n                color=\"secondary\"\r\n                onClick={() =>\r\n                  setModalEdit({\r\n                    ...modalEdit,\r\n                    modal: !modalEdit.modal,\r\n                    id: null,\r\n                  })\r\n                }\r\n              >\r\n                Batal\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CForm>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getCutiById = (id_pegawai, id_cuti, setCuti) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`)\r\n    .then((res) => {\r\n      setCuti(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const editCuti = (\r\n  id_pegawai,\r\n  id_cuti,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .put(`admin/pegawai/${id_pegawai}/cuti/${id_cuti}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CModalBody,\r\n  CForm,\r\n  CModalFooter,\r\n  CButton,\r\n  CFormText,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { format } from \"date-fns\";\r\nimport { insertCuti } from \"src/context/actions/Cuti/insertCuti\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst TambahCuti = ({ modalTambah, setModalTambah, id_pegawai }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    tgl_mulai: \"\",\r\n    tgl_selesai: \"\",\r\n    jenis_cuti: \"\",\r\n    keterangan: \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Pembuatan Cuti Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalTambah(!modalTambah);\r\n      history.push(`/epekerja/admin/cuti/riwayat/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Pembuatan Cuti Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    jenis_cuti: Yup.string().required(\"Jenis cuti harus dipilih!\"),\r\n    tgl_mulai: Yup.string().required(\"Tanggal mulai cuti harus diisi!\"),\r\n    tgl_selesai: Yup.string().required(\"Tanggal selesai cuti harus diisi!\"),\r\n    keterangan: Yup.string().required(\"Keterangan/alasan cuti harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const formData = new FormData();\r\n    for (const item in values) {\r\n      formData.append(item, values[item]);\r\n    }\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair);\r\n    }\r\n\r\n    // Memanggil method Insert Cuti untuk menambah data Cuti ke database\r\n    insertCuti(\r\n      id_pegawai,\r\n      formData,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={initState}\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n        }) => (\r\n          <CForm onSubmit={handleSubmit}>\r\n            <CModalBody>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Jenis Cuti</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CSelect\r\n                    name=\"jenis_cuti\"\r\n                    value={values.jenis_cuti}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={\r\n                      errors.jenis_cuti && touched.jenis_cuti\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  >\r\n                    <option value=\"\">-- Jenis Cuti --</option>\r\n                    <option value=\"Cuti Tahunan\">Cuti Tahunan</option>\r\n                    <option value=\"Cuti Bulanan\">Cuti Bulanan</option>\r\n                    <option value=\"Cuti Harian\">Cuti Harian</option>\r\n                  </CSelect>\r\n                  {errors.jenis_cuti && touched.jenis_cuti && (\r\n                    <div className=\"invalid-feedback\">{errors.jenis_cuti}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Mulai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_mulai\"\r\n                    id=\"tgl_mulai\"\r\n                    placeholder=\"Masukkan tgl mulai cuti\"\r\n                    min={format(new Date(), \"yyyy-MM-dd\")}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_mulai}\r\n                    className={\r\n                      errors.tgl_mulai && touched.tgl_mulai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_mulai && touched.tgl_mulai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_mulai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Selesai</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_selesai\"\r\n                    id=\"tgl_selesai\"\r\n                    placeholder=\"Masukkan tgl selesai cuti\"\r\n                    min={values.tgl_mulai}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_selesai}\r\n                    className={\r\n                      errors.tgl_selesai && touched.tgl_selesai\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  <CFormText>\r\n                    <b>Format: </b> Bulan / Tanggal / Tahun\r\n                  </CFormText>\r\n                  {errors.tgl_selesai && touched.tgl_selesai && (\r\n                    <div className=\"invalid-feedback\">{errors.tgl_selesai}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Keterangan</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"keterangan\"\r\n                    id=\"keterangan\"\r\n                    placeholder=\"Masukkan keterangan / alasan cuti\"\r\n                    onBlur={handleBlur}\r\n                    value={values.keterangan}\r\n                    disabled={!values.tgl_mulai ? true : false}\r\n                    onChange={handleChange}\r\n                    className={\r\n                      errors.keterangan && touched.keterangan\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.keterangan && touched.keterangan && (\r\n                    <div className=\"invalid-feedback\">{errors.keterangan}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                disabled={loading ? true : false}\r\n              >\r\n                {loading ? (\r\n                  <img\r\n                    width={21}\r\n                    src={LoadAnimationWhite}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                ) : (\r\n                  \"Simpan\"\r\n                )}\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"button\"\r\n                color=\"secondary\"\r\n                onClick={() => setModalTambah(!modalTambah)}\r\n              >\r\n                Batal\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CForm>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TambahCuti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const insertCuti = (\r\n  id_pegawai,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/cuti`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n"],"sourceRoot":""}