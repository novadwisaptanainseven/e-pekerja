{"version":3,"sources":["views/pages/Admin/PembaruanSK/PTTB/PerbaruiSK.js","views/pages/Admin/PembaruanSK/PTTB/EditSK.js","views/pages/Admin/PembaruanSK/PTTB/DetailSK.js","views/pages/Admin/PembaruanSK/PTTB/RiwayatSK.js","context/actions/MasterData/Jabatan/getSelectJabatan.js","helpers/getFilename.js","context/actions/Pegawai/PNS/getPNSById.js","../node_modules/@coreui/icons/js/free/cil-pen.js","context/actions/PembaruanSK/getRiwayatSK.js","context/actions/DownloadFile/getSK.js","context/actions/PembaruanSK/getRiwayatSKById.js","../node_modules/@coreui/icons/js/free/cil-info.js","context/actions/DownloadFile/printSK.js","context/actions/PembaruanSK/editRiwayatSK.js","context/actions/PembaruanSK/insertPembaruanSK.js","context/actions/PembaruanSK/deleteRiwayatSK.js"],"names":["MySwal","withReactContent","swal2","PerbaruiSK","modalTambah","setModalTambah","id_pegawai","setData","useState","loading","setLoading","formatGaji","setFormatGaji","jabatan","setJabatan","touchedSelect","setTouchedSelect","useEffect","getSelectJabatan","optionsData","React","useMemo","options","forEach","item","push","value","id_jabatan","label","nama_jabatan","getDataOptions","initState","no_sk","penetap_sk","tgl_penetapan_sk","tgl_mulai_tugas","tugas","kontrak_ke","masa_kerja_tahun","masa_kerja_bulan","gaji_pokok","file","undefined","showAlertSuccess","fire","icon","title","showConfirmButton","timer","then","res","showAlertError","message","err_message","key","text","result","FILE_SK_SUPPORTED_FORMATS","validationSchema","Yup","shape","required","typeError","integer","test","size","includes","type","customStyles","control","provided","state","border","initialValues","enableReinitialize","onSubmit","values","formData","FormData","masaKerja","append","entries","pair","console","log","insertPembaruanSK","handleFormSubmit","errors","touched","handleChange","handleBlur","handleSubmit","handleReset","setFieldValue","row","md","name","id","placeholder","onChange","onBlur","className","styles","opt","onFocus","isSearchable","isClearable","style","fontSize","min","onKeyUp","e","gaji","formattedGaji","parseInt","toLocaleString","currency","convertToCurrency","target","files","color","disabled","onClick","width","src","LoadAnimationWhite","alt","EditSK","modalEdit","setModalEdit","id_riwayat_sk","setDataRiwayat","data","getRiwayatSKById","modal","getMasaKerja","val","val2","split","tahun","bulan","masa_kerja","sk_terkini","InputCheckbox","memo","checked","skTerkini","editRiwayatSK","defaultValue","LoadAnimationBlue","DetailSK","modalDetail","setModalDetail","format","Date","href","getSK","rel","getFilename","RiwayatSK","params","match","pegawai","setPegawai","history","useHistory","getPNSById","getRiwayatSK","columns","selector","sortable","wrap","cell","data-tag","content","cilInfo","cilPen","handleDelete","cilTrash","headCells","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","deleteRiwayatSK","SubHeaderComponentMemo","cilUser","printSK","cilPrint","exportExcel","ExpandableComponent","padding","nama","height","goBack","length","responsive","pagination","subHeader","subHeaderComponent","highlightOnHover","expandableRows","expandOnRowClicked","expandableRowsComponent","noHeader","show","onClose","closeButton","axiosInstance","get","catch","err","arr","setPNS","response","arr_file","localStorage","baseURL","id_kgb","window","open","post","header","_boundary","delete"],"mappings":"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","file":"static/js/15.2e34bb3e.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CCol,\r\n  CLabel,\r\n  CInput,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CForm,\r\n  CButton,\r\n} from \"@coreui/react\";\r\nimport Select from \"react-select\";\r\n\r\nimport { getSelectJabatan } from \"src/context/actions/MasterData/Jabatan/getSelectJabatan\";\r\nimport { insertPembaruanSK } from \"src/context/actions/PembaruanSK/insertPembaruanSK\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst PerbaruiSK = ({ modalTambah, setModalTambah, id_pegawai, setData }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formatGaji, setFormatGaji] = useState(\"\");\r\n  const [jabatan, setJabatan] = useState([]);\r\n  const [touchedSelect, setTouchedSelect] = useState(false);\r\n\r\n  // Get All Jabatan\r\n  useEffect(() => {\r\n    if (modalTambah) {\r\n      getSelectJabatan(setJabatan);\r\n    }\r\n  }, [modalTambah]);\r\n\r\n  const getDataOptions = (jabatan) => {\r\n    let options = [];\r\n\r\n    jabatan.forEach((item) => {\r\n      options.push({\r\n        value: item.id_jabatan,\r\n        label: item.nama_jabatan,\r\n      });\r\n    });\r\n    return options;\r\n  };\r\n\r\n  const optionsData = React.useMemo(() => getDataOptions(jabatan), [jabatan]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    no_sk: \"\",\r\n    penetap_sk: \"\",\r\n    tgl_penetapan_sk: \"\",\r\n    tgl_mulai_tugas: \"\",\r\n    tugas: \"\",\r\n    kontrak_ke: \"\",\r\n    masa_kerja_tahun: \"\",\r\n    masa_kerja_bulan: \"\",\r\n    gaji_pokok: \"\",\r\n    file: undefined,\r\n  };\r\n\r\n  // Mengubah format gaji dari number ke currency\r\n  const convertToCurrency = (gaji) => {\r\n    let formattedGaji = parseInt(gaji).toLocaleString(\"id\", {\r\n      style: \"currency\",\r\n      currency: \"IDR\",\r\n    });\r\n\r\n    if (formattedGaji !== \"RpNaN\") {\r\n      setFormatGaji(formattedGaji);\r\n    } else {\r\n      setFormatGaji(\"\");\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"SK Berhasil Diperbarui\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalTambah(!modalTambah);\r\n      // history.push(`/epekerja/admin/pembaruan-sk/pttb/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"SK Gagal Diperbarui\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const FILE_SK_SIZE = 1048000; // Bytes => 2 mb x 1000 kb x 1000 bytes\r\n  const FILE_SK_SUPPORTED_FORMATS = [\r\n    \"application/pdf\",\r\n    \"application/msword\",\r\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n  ];\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    no_sk: Yup.string().required(\"No. SK baru harus diisi!\"),\r\n    penetap_sk: Yup.string().required(\"Penetap SK\"),\r\n    tgl_penetapan_sk: Yup.string().required(\"Tgl penatapan harus diisi!\"),\r\n    tgl_mulai_tugas: Yup.string().required(\"Tgl mulai tugas harus diisi!\"),\r\n    tugas: Yup.string().required(\"Tugas pokok (jabatan) harus diisi!\"),\r\n    kontrak_ke: Yup.string().required(\"Kontrak baru harus diisi!\"),\r\n    masa_kerja_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    masa_kerja_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n    gaji_pokok: Yup.number()\r\n      .typeError(\"Gaji pokok baru harus berupa bilangan\")\r\n      .integer()\r\n      .required(\"Gaji pokok baru harus diisi!\"),\r\n    file: Yup.mixed()\r\n      // .required(\"File SK belum dipilih\")\r\n      .test(\"size\", \"Kapasitas file maksimal 2 mb\", (value) => {\r\n        if (value) {\r\n          return value && value.size <= FILE_SK_SIZE;\r\n        } else {\r\n          return true;\r\n        }\r\n      })\r\n      .test(\r\n        \"type\",\r\n        \"Ekstensi yang diperbolehkan hanya pdf, docx, atau doc\",\r\n        (value) => {\r\n          if (value) {\r\n            return value && FILE_SK_SUPPORTED_FORMATS.includes(value.type);\r\n          } else {\r\n            return true;\r\n          }\r\n        }\r\n      ),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const formData = new FormData();\r\n    const masaKerja = `${values.masa_kerja_tahun} Tahun ${values.masa_kerja_bulan} Bulan`;\r\n\r\n    for (const item in values) {\r\n      if (item !== \"file\") {\r\n        formData.append(item, values[item]);\r\n      } else {\r\n        if (values.file) {\r\n          formData.append(\"file\", values.file);\r\n        }\r\n      }\r\n    }\r\n    formData.append(\"sk_terkini\", 1);\r\n    formData.append(\"masa_kerja\", masaKerja);\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair);\r\n    }\r\n\r\n    // Memanggil method Insert Pembaruan SK untuk menambah data SK ke database\r\n    insertPembaruanSK(\r\n      id_pegawai,\r\n      formData,\r\n      setLoading,\r\n      setData,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n\r\n    setFormatGaji(\"\");\r\n  };\r\n\r\n  // Costum Styles for Select Data\r\n  const customStyles = {\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      border: !touchedSelect ? provided.border : \"1px solid #e55353\",\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={initState}\r\n        validationSchema={validationSchema}\r\n        enableReinitialize={true}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          handleReset,\r\n          setFieldValue,\r\n        }) => (\r\n          <CForm onSubmit={handleSubmit}>\r\n            <CModalBody>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>No. SK Baru</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"no_sk\"\r\n                    id=\"no_sk\"\r\n                    placeholder=\"Masukkan No. SK baru\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.no_sk}\r\n                    className={\r\n                      errors.no_sk && touched.no_sk ? \"is-invalid\" : null\r\n                    }\r\n                  />\r\n                  {errors.no_sk && touched.no_sk && (\r\n                    <div className=\"invalid-feedback\">{errors.no_sk}</div>\r\n                  )}\r\n                  {/* <div className=\"mt-1\">\r\n                      {values.gaji_pokok_lama.toLocaleString(\"id\", {\r\n                        style: \"currency\",\r\n                        currency: \"IDR\",\r\n                      })}\r\n                    </div> */}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Penetap SK</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"penetap_sk\"\r\n                    id=\"penetap_sk\"\r\n                    placeholder=\"Masukkan penetap SK\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.penetap_sk}\r\n                    className={\r\n                      errors.penetap_sk && touched.penetap_sk\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.penetap_sk && touched.penetap_sk && (\r\n                    <div className=\"invalid-feedback\">{errors.penetap_sk}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Penetapan SK</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    name=\"tgl_penetapan_sk\"\r\n                    id=\"tgl_penetapan_sk\"\r\n                    placeholder=\"Masukkan tgl penetapan SK\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_penetapan_sk}\r\n                    className={\r\n                      errors.tgl_penetapan_sk && touched.tgl_penetapan_sk\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_penetapan_sk && touched.tgl_penetapan_sk && (\r\n                    <div className=\"invalid-feedback\">\r\n                      {errors.tgl_penetapan_sk}\r\n                    </div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tgl. Mulai Tugas</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"tgl_mulai_tugas\"\r\n                    id=\"tgl_mulai_tugas\"\r\n                    placeholder=\"Contoh: 01 Januari s/d 31 Desember 2021\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.tgl_mulai_tugas}\r\n                    className={\r\n                      errors.tgl_mulai_tugas && touched.tgl_mulai_tugas\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.tgl_mulai_tugas && touched.tgl_mulai_tugas && (\r\n                    <div className=\"invalid-feedback\">\r\n                      {errors.tgl_mulai_tugas}\r\n                    </div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Tugas Pokok (Jabatan)</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <Select\r\n                    styles={customStyles}\r\n                    name=\"tugas\"\r\n                    id=\"tugas\"\r\n                    onChange={(opt) => {\r\n                      setTouchedSelect(false);\r\n                      setFieldValue(\"tugas\", opt ? opt.value : \"\");\r\n                    }}\r\n                    onBlur={() =>\r\n                      values.tugas\r\n                        ? setTouchedSelect(false)\r\n                        : setTouchedSelect(true)\r\n                    }\r\n                    onFocus={() => setTouchedSelect(true)}\r\n                    placeholder=\"-- Pilih Tugas --\"\r\n                    isSearchable\r\n                    isClearable\r\n                    options={optionsData}\r\n                  />\r\n                  {!values.tugas && touchedSelect && (\r\n                    <div\r\n                      className=\"text-danger mt-1\"\r\n                      style={{ fontSize: \"0.8em\" }}\r\n                    >\r\n                      Tugas pokok (jabatan) harus diisi\r\n                    </div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Kontrak Ke</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"number\"\r\n                    name=\"kontrak_ke\"\r\n                    id=\"kontrak_ke\"\r\n                    placeholder=\"Masukkan kontrak baru\"\r\n                    min=\"0\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.kontrak_ke || 0}\r\n                    className={\r\n                      errors.kontrak_ke && touched.kontrak_ke\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.kontrak_ke && touched.kontrak_ke && (\r\n                    <div className=\"invalid-feedback\">{errors.kontrak_ke}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Masa Kerja</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"number\"\r\n                    name=\"masa_kerja_tahun\"\r\n                    id=\"masa_kerja_tahun\"\r\n                    min=\"0\"\r\n                    placeholder=\"Masukkan tahun\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.masa_kerja_tahun || 0}\r\n                    className={\r\n                      errors.masa_kerja_tahun && touched.masa_kerja_tahun\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.masa_kerja_tahun && touched.masa_kerja_tahun && (\r\n                    <div className=\"invalid-feedback\">\r\n                      {errors.masa_kerja_tahun}\r\n                    </div>\r\n                  )}\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"number\"\r\n                    name=\"masa_kerja_bulan\"\r\n                    id=\"masa_kerja_bulan\"\r\n                    min=\"0\"\r\n                    placeholder=\"Masukkan bulan\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.masa_kerja_bulan || 0}\r\n                    className={\r\n                      errors.masa_kerja_bulan && touched.masa_kerja_bulan\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  {errors.masa_kerja_bulan && touched.masa_kerja_bulan && (\r\n                    <div className=\"invalid-feedback\">\r\n                      {errors.masa_kerja_bulan}\r\n                    </div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>Gaji Pokok Baru</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    name=\"gaji_pokok\"\r\n                    id=\"gaji_pokok\"\r\n                    placeholder=\"Masukkan gaji pokok\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    onKeyUp={(e) => convertToCurrency(e.target.value)}\r\n                    value={values.gaji_pokok}\r\n                    className={\r\n                      errors.gaji_pokok && touched.gaji_pokok\r\n                        ? \"is-invalid\"\r\n                        : null\r\n                    }\r\n                  />\r\n                  <div className=\"mt-1\">{formatGaji}</div>\r\n                  {errors.gaji_pokok && touched.gaji_pokok && (\r\n                    <div className=\"invalid-feedback\">{errors.gaji_pokok}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n\r\n              <CFormGroup row>\r\n                <CCol md=\"3\">\r\n                  <CLabel>File SK Baru</CLabel>\r\n                </CCol>\r\n                <CCol>\r\n                  <CInput\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    placeholder=\"Masukkan file SK baru\"\r\n                    onChange={(e) => setFieldValue(\"file\", e.target.files[0])}\r\n                    onBlur={handleBlur}\r\n                    className={\r\n                      errors.file && touched.file ? \"is-invalid\" : null\r\n                    }\r\n                  />\r\n                  {errors.file && touched.file && (\r\n                    <div className=\"invalid-feedback\">{errors.file}</div>\r\n                  )}\r\n                </CCol>\r\n              </CFormGroup>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                disabled={loading ? true : false}\r\n                onClick={() => {\r\n                  !values.tugas\r\n                    ? setTouchedSelect(true)\r\n                    : setTouchedSelect(false);\r\n                }}\r\n              >\r\n                {loading ? (\r\n                  <img\r\n                    width={21}\r\n                    src={LoadAnimationWhite}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                ) : (\r\n                  \"Simpan\"\r\n                )}\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"submit\"\r\n                color=\"warning\"\r\n                onClick={(e) => {\r\n                  handleReset(e);\r\n                  setFieldValue(\"tugas\", \"\");\r\n                }}\r\n              >\r\n                Reset\r\n              </CButton>{\" \"}\r\n              <CButton\r\n                type=\"button\"\r\n                color=\"secondary\"\r\n                onClick={() => setModalTambah(!modalTambah)}\r\n              >\r\n                Batal\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CForm>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PerbaruiSK;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationBlue, LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CCol,\r\n  CLabel,\r\n  CInput,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CForm,\r\n  CButton,\r\n  CRow,\r\n  CFormText,\r\n} from \"@coreui/react\";\r\nimport Select from \"react-select\";\r\n\r\nimport { getSelectJabatan } from \"src/context/actions/MasterData/Jabatan/getSelectJabatan\";\r\nimport { getRiwayatSKById } from \"src/context/actions/PembaruanSK/getRiwayatSKById\";\r\nimport { editRiwayatSK } from \"src/context/actions/PembaruanSK/editRiwayatSK\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditSK = ({\r\n  modalEdit,\r\n  setModalEdit,\r\n  id_pegawai,\r\n  id_riwayat_sk,\r\n  setDataRiwayat,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formatGaji, setFormatGaji] = useState(\"\");\r\n  const [jabatan, setJabatan] = useState([]);\r\n  const [touchedSelect, setTouchedSelect] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n\r\n  // Get Riwayat SK By ID\r\n  useEffect(() => {\r\n    if (id_riwayat_sk) {\r\n      getRiwayatSKById(id_pegawai, id_riwayat_sk, setData);\r\n    }\r\n\r\n    return () => setData(\"\");\r\n  }, [id_pegawai, id_riwayat_sk]);\r\n\r\n  // Get All Jabatan\r\n  useEffect(() => {\r\n    if (modalEdit.modal) {\r\n      getSelectJabatan(setJabatan);\r\n    }\r\n  }, [modalEdit]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      convertToCurrency(data.gaji_pokok);\r\n    }\r\n  }, [data]);\r\n\r\n  const getDataOptions = (jabatan) => {\r\n    let options = [];\r\n\r\n    jabatan.forEach((item) => {\r\n      options.push({\r\n        value: item.id_jabatan,\r\n        label: item.nama_jabatan,\r\n      });\r\n    });\r\n    return options;\r\n  };\r\n\r\n  const optionsData = React.useMemo(() => getDataOptions(jabatan), [jabatan]);\r\n\r\n  // Get masa kerja tahun dan bulan\r\n  const getMasaKerja = (val) => {\r\n    let val2 = val.split(\" \");\r\n    let tahun = val2[0];\r\n    let bulan = val2[2];\r\n\r\n    return { tahun: tahun, bulan: bulan };\r\n  };\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    no_sk: data ? data.no_sk : \"\",\r\n    penetap_sk: data ? data.penetap_sk : \"\",\r\n    tgl_penetapan_sk: data ? data.tgl_penetapan_sk : \"\",\r\n    tgl_mulai_tugas: data ? data.tgl_mulai_tugas : \"\",\r\n    tugas: data ? data.tugas : \"\",\r\n    kontrak_ke: data ? data.kontrak_ke : \"\",\r\n    masa_kerja_tahun: data ? getMasaKerja(data.masa_kerja).tahun : \"\",\r\n    masa_kerja_bulan: data ? getMasaKerja(data.masa_kerja).bulan : \"\",\r\n    gaji_pokok: data ? data.gaji_pokok : \"\",\r\n    sk_terkini: data ? data.sk_terkini : \"\",\r\n    file: undefined,\r\n  };\r\n\r\n  // Mengubah format gaji dari number ke currency\r\n  const convertToCurrency = (gaji) => {\r\n    let formattedGaji = parseInt(gaji).toLocaleString(\"id\", {\r\n      style: \"currency\",\r\n      currency: \"IDR\",\r\n    });\r\n\r\n    if (formattedGaji !== \"RpNaN\") {\r\n      setFormatGaji(formattedGaji);\r\n    } else {\r\n      setFormatGaji(\"\");\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Data Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalEdit({\r\n        ...modalEdit,\r\n        modal: !modalEdit.modal,\r\n        id: null,\r\n      });\r\n      // history.push(`/epekerja/admin/pembaruan-sk/ptth/${id_pegawai}`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error edit data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Data Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const FILE_SK_SIZE = 1048000; // Bytes => 2 mb x 1000 kb x 1000 bytes\r\n  const FILE_SK_SUPPORTED_FORMATS = [\r\n    \"application/pdf\",\r\n    \"application/msword\",\r\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n  ];\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    no_sk: Yup.string().required(\"No. SK baru harus diisi!\"),\r\n    penetap_sk: Yup.string().required(\"Penetap SK\"),\r\n    tgl_penetapan_sk: Yup.string().required(\"Tgl penatapan harus diisi!\"),\r\n    tgl_mulai_tugas: Yup.string().required(\"Tgl mulai tugas harus diisi!\"),\r\n    tugas: Yup.string().required(\"Tugas pokok (jabatan) harus diisi!\"),\r\n    kontrak_ke: Yup.string().required(\"Kontrak ke harus diisi!\"),\r\n    masa_kerja_tahun: Yup.string().required(\"Tahun harus diisi!\"),\r\n    masa_kerja_bulan: Yup.string().required(\"Bulan harus diisi!\"),\r\n    gaji_pokok: Yup.number()\r\n      .typeError(\"Gaji pokok baru harus berupa bilangan\")\r\n      .integer()\r\n      .required(\"Gaji pokok baru harus diisi!\"),\r\n    file: Yup.mixed()\r\n      .test(\"size\", \"Kapasitas file maksimal 2 mb\", (value) => {\r\n        if (value) {\r\n          return value && value.size <= FILE_SK_SIZE;\r\n        }\r\n        return true;\r\n      })\r\n      .test(\r\n        \"type\",\r\n        \"Ekstensi yang diperbolehkan hanya pdf, docx, atau doc\",\r\n        (value) => {\r\n          if (value) {\r\n            return value && FILE_SK_SUPPORTED_FORMATS.includes(value.type);\r\n          }\r\n          return true;\r\n        }\r\n      ),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const formData = new FormData();\r\n    const masaKerja = `${values.masa_kerja_tahun} Tahun ${values.masa_kerja_bulan} Bulan`;\r\n    const skTerkini =\r\n      values.sk_terkini === 1 || values.sk_terkini[0] === \"on\" ? 1 : 0;\r\n\r\n    formData.append(\"no_sk\", values.no_sk);\r\n    formData.append(\"penetap_sk\", values.penetap_sk);\r\n    formData.append(\"tgl_penetapan_sk\", values.tgl_penetapan_sk);\r\n    formData.append(\"tgl_mulai_tugas\", values.tgl_mulai_tugas);\r\n    formData.append(\"tugas\", values.tugas);\r\n    formData.append(\"kontrak_ke\", values.kontrak_ke);\r\n    formData.append(\"masa_kerja\", masaKerja);\r\n    formData.append(\"gaji_pokok\", values.gaji_pokok);\r\n    formData.append(\"sk_terkini\", skTerkini);\r\n    if (values.file) {\r\n      formData.append(\"file\", values.file);\r\n    }\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair);\r\n    }\r\n\r\n    // Memanggil method Edit Riwayat SK untuk menambah data SK ke database\r\n    editRiwayatSK(\r\n      id_pegawai,\r\n      id_riwayat_sk,\r\n      formData,\r\n      setLoading,\r\n      setDataRiwayat,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n\r\n    setFormatGaji(\"\");\r\n  };\r\n\r\n  // Costum Styles for Select Data\r\n  const customStyles = {\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      border: !touchedSelect ? provided.border : \"1px solid #e55353\",\r\n    }),\r\n  };\r\n\r\n  // Component Input Checkbox Memo\r\n  const InputCheckbox = React.memo(({ values, handleChange, handleBlur }) => {\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"sk_terkini\"\r\n          checked={\r\n            values.sk_terkini === 1 || values.sk_terkini[0] === \"on\"\r\n              ? true\r\n              : false\r\n          }\r\n          className=\"ml-2\"\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n        />\r\n      </>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {data ? (\r\n        <Formik\r\n          initialValues={initState}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n            handleReset,\r\n            setFieldValue,\r\n          }) => (\r\n            <CForm onSubmit={handleSubmit}>\r\n              <CModalBody>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>No. SK Baru</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"no_sk\"\r\n                      id=\"no_sk\"\r\n                      placeholder=\"Masukkan No. SK baru\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.no_sk}\r\n                      className={\r\n                        errors.no_sk && touched.no_sk ? \"is-invalid\" : null\r\n                      }\r\n                    />\r\n                    {errors.no_sk && touched.no_sk && (\r\n                      <div className=\"invalid-feedback\">{errors.no_sk}</div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Penetap SK</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"penetap_sk\"\r\n                      id=\"penetap_sk\"\r\n                      placeholder=\"Masukkan penetap SK\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.penetap_sk}\r\n                      className={\r\n                        errors.penetap_sk && touched.penetap_sk\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.penetap_sk && touched.penetap_sk && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.penetap_sk}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Tgl. Penetapan SK</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"tgl_penetapan_sk\"\r\n                      id=\"tgl_penetapan_sk\"\r\n                      placeholder=\"Masukkan tgl penetapan SK\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.tgl_penetapan_sk}\r\n                      className={\r\n                        errors.tgl_penetapan_sk && touched.tgl_penetapan_sk\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.tgl_penetapan_sk && touched.tgl_penetapan_sk && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.tgl_penetapan_sk}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Tgl. Mulai Tugas</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"tgl_mulai_tugas\"\r\n                      id=\"tgl_mulai_tugas\"\r\n                      placeholder=\"Contoh: 01 Januari s/d 31 Desember 2021\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.tgl_mulai_tugas}\r\n                      className={\r\n                        errors.tgl_mulai_tugas && touched.tgl_mulai_tugas\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.tgl_mulai_tugas && touched.tgl_mulai_tugas && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.tgl_mulai_tugas}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Tugas Pokok (Jabatan)</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <Select\r\n                      styles={customStyles}\r\n                      name=\"tugas\"\r\n                      id=\"tugas\"\r\n                      onChange={(opt) => {\r\n                        setTouchedSelect(false);\r\n                        setFieldValue(\"tugas\", opt ? opt.value : \"\");\r\n                      }}\r\n                      onFocus={() => setTouchedSelect(true)}\r\n                      placeholder=\"-- Pilih Tugas --\"\r\n                      isSearchable\r\n                      isClearable\r\n                      options={optionsData}\r\n                      defaultValue={{\r\n                        value: data ? data.id_jabatan : \"\",\r\n                        label: data ? data.nama_jabatan : \"\",\r\n                      }}\r\n                    />\r\n                    {!values.tugas && touchedSelect && (\r\n                      <div\r\n                        className=\"text-danger mt-1\"\r\n                        style={{ fontSize: \"0.8em\" }}\r\n                      >\r\n                        Tugas pokok (jabatan) harus diisi\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Kontrak Ke</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"kontrak_ke\"\r\n                      id=\"kontrak_ke\"\r\n                      placeholder=\"Masukkan kontrak baru\"\r\n                      min=\"0\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.kontrak_ke || 0}\r\n                      className={\r\n                        errors.kontrak_ke && touched.kontrak_ke\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.kontrak_ke && touched.kontrak_ke && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.kontrak_ke}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Masa Kerja</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"masa_kerja_tahun\"\r\n                      id=\"masa_kerja_tahun\"\r\n                      min=\"0\"\r\n                      placeholder=\"Masukkan tahun\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.masa_kerja_tahun || 0}\r\n                      className={\r\n                        errors.masa_kerja_tahun && touched.masa_kerja_tahun\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.masa_kerja_tahun && touched.masa_kerja_tahun && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.masa_kerja_tahun}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"number\"\r\n                      name=\"masa_kerja_bulan\"\r\n                      id=\"masa_kerja_bulan\"\r\n                      min=\"0\"\r\n                      placeholder=\"Masukkan bulan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.masa_kerja_bulan || 0}\r\n                      className={\r\n                        errors.masa_kerja_bulan && touched.masa_kerja_bulan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.masa_kerja_bulan && touched.masa_kerja_bulan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.masa_kerja_bulan}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Gaji Pokok Baru</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"gaji_pokok\"\r\n                      id=\"gaji_pokok\"\r\n                      placeholder=\"Masukkan gaji pokok\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      onKeyUp={(e) => convertToCurrency(e.target.value)}\r\n                      value={values.gaji_pokok}\r\n                      className={\r\n                        errors.gaji_pokok && touched.gaji_pokok\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    <div className=\"mt-1\">{formatGaji}</div>\r\n                    {errors.gaji_pokok && touched.gaji_pokok && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.gaji_pokok}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup>\r\n                  <CLabel>SK Terkini</CLabel>\r\n                  <InputCheckbox\r\n                    values={values}\r\n                    handleChange={handleChange}\r\n                    handleBlur={handleBlur}\r\n                  />\r\n                  <CFormText>Cek apabila merupakan SK Anda saat ini</CFormText>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>File SK Baru</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      id=\"file\"\r\n                      placeholder=\"Masukkan file SK baru\"\r\n                      onChange={(e) => setFieldValue(\"file\", e.target.files[0])}\r\n                      onBlur={handleBlur}\r\n                      className={\r\n                        errors.file && touched.file ? \"is-invalid\" : null\r\n                      }\r\n                    />\r\n                    {errors.file && touched.file && (\r\n                      <div className=\"invalid-feedback\">{errors.file}</div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CModalBody>\r\n              <CModalFooter>\r\n                <CButton\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={loading ? true : false}\r\n                  onClick={() => {\r\n                    !values.tugas\r\n                      ? setTouchedSelect(true)\r\n                      : setTouchedSelect(false);\r\n                  }}\r\n                >\r\n                  {loading ? (\r\n                    <img\r\n                      width={21}\r\n                      src={LoadAnimationWhite}\r\n                      alt=\"load-animation\"\r\n                    />\r\n                  ) : (\r\n                    \"Simpan\"\r\n                  )}\r\n                </CButton>{\" \"}\r\n                <CButton\r\n                  type=\"submit\"\r\n                  color=\"warning\"\r\n                  onClick={(e) => {\r\n                    handleReset(e);\r\n                    setFieldValue(\"tugas\", \"\");\r\n                  }}\r\n                >\r\n                  Reset\r\n                </CButton>{\" \"}\r\n                <CButton\r\n                  type=\"button\"\r\n                  color=\"secondary\"\r\n                  onClick={() =>\r\n                    setModalEdit({\r\n                      ...modalEdit,\r\n                      modal: false,\r\n                      id: null,\r\n                    })\r\n                  }\r\n                >\r\n                  Batal\r\n                </CButton>\r\n              </CModalFooter>\r\n            </CForm>\r\n          )}\r\n        </Formik>\r\n      ) : (\r\n        <CRow>\r\n          <CCol className=\"text-center\">\r\n            <img\r\n              className=\"mt-4 ml-3 mb-4\"\r\n              width={30}\r\n              src={LoadAnimationBlue}\r\n              alt=\"load-animation\"\r\n            />\r\n          </CCol>\r\n        </CRow>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditSK;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport { CCol, CModalBody, CModalFooter, CButton, CRow } from \"@coreui/react\";\r\nimport { getRiwayatSKById } from \"src/context/actions/PembaruanSK/getRiwayatSKById\";\r\nimport { format } from \"date-fns\";\r\nimport getSK from \"src/context/actions/DownloadFile/getSK\";\r\nimport getFilename from \"src/helpers/getFilename\";\r\n\r\nconst DetailSK = ({\r\n  modalDetail,\r\n  setModalDetail,\r\n  id_pegawai,\r\n  id_riwayat_sk,\r\n}) => {\r\n  const [data, setData] = useState(\"\");\r\n\r\n  // Get Riwayat SK By ID\r\n  useEffect(() => {\r\n    if (id_riwayat_sk) {\r\n      getRiwayatSKById(id_pegawai, id_riwayat_sk, setData);\r\n    }\r\n\r\n    return () => setData(\"\");\r\n  }, [id_pegawai, id_riwayat_sk]);\r\n\r\n  return (\r\n    <>\r\n      <CModalBody>\r\n        {data ? (\r\n          <>\r\n            <table className=\"table table-striped table-borderless\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>No. SK</th>\r\n                  <td>{data.no_sk}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Penetap SK</th>\r\n                  <td>{data.penetap_sk}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tgl. Penetapan SK</th>\r\n                  <td>{format(new Date(data.tgl_penetapan_sk), \"dd/MM/y\")}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tgl. Mulai Tugas</th>\r\n                  <td>{data.tgl_mulai_tugas}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Tugas Pokok (Jabatan)</th>\r\n                  <td>{data.nama_jabatan}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Gaji Pokok</th>\r\n                  <td>\r\n                    {data.gaji_pokok.toLocaleString(\"id\", {\r\n                      style: \"currency\",\r\n                      currency: \"IDR\",\r\n                    })}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>File SK</th>\r\n                  <td>\r\n                    <a href={getSK(data.file)} target=\"_blank\" rel=\"noreferrer\">\r\n                      {getFilename(data.file)}\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </>\r\n        ) : (\r\n          <CRow>\r\n            <CCol className=\"text-center\">\r\n              <img\r\n                className=\"mt-4 ml-3 mb-4\"\r\n                width={30}\r\n                src={LoadAnimationBlue}\r\n                alt=\"load-animation\"\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        )}\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"secondary\"\r\n          onClick={() =>\r\n            setModalDetail({\r\n              ...modalDetail,\r\n              modal: false,\r\n              id: null,\r\n            })\r\n          }\r\n        >\r\n          Tutup\r\n        </CButton>\r\n      </CModalFooter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailSK;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CCol,\r\n  CButtonGroup,\r\n  CBadge,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPen, cilTrash, cilPrint, cilInfo, cilUser } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport { format } from \"date-fns\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\nimport PerbaruiSK from \"./PerbaruiSK\";\r\nimport { getRiwayatSK } from \"src/context/actions/PembaruanSK/getRiwayatSK\";\r\nimport getSK from \"src/context/actions/DownloadFile/getSK\";\r\nimport EditSK from \"./EditSK\";\r\nimport DetailSK from \"./DetailSK\";\r\nimport getFilename from \"src/helpers/getFilename\";\r\nimport { deleteRiwayatSK } from \"src/context/actions/PembaruanSK/deleteRiwayatSK\";\r\nimport printSK from \"src/context/actions/DownloadFile/printSK\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatSK = ({ match }) => {\r\n  const params = match.params;\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const [modalEdit, setModalEdit] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n  const [modalDetail, setModalDetail] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goToDetailPegawai = (id) => {\r\n    history.push(`/epekerja/admin/pegawai-detail/${id}`);\r\n  };\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  // Get Pegawai by Id Pegawai\r\n  useEffect(() => {\r\n    getPNSById(params.id, setPegawai);\r\n\r\n    // Unmount\r\n    return () => {\r\n      setPegawai(\"\");\r\n    };\r\n  }, [params]);\r\n\r\n  // Get Riwayat SK\r\n  useEffect(() => {\r\n    getRiwayatSK(params.id, setLoading, setData);\r\n  }, [params]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No. SK\",\r\n      selector: (row) => row.no_sk,\r\n      sortable: true,\r\n      // maxWidth: \"200px\",\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Penetap SK\",\r\n      selector: (row) => row.penetap_sk,\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n    },\r\n    {\r\n      name: \"Tgl. Penetapan SK\",\r\n      selector: (row) => row.tgl_penetapan_sk,\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (row) => (\r\n        <div>{format(new Date(row.tgl_penetapan_sk), \"dd/MM/y\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Tgl. Mulai Tugas\",\r\n      selector: (row) => row.tgl_mulai_tugas,\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => <div>{row.tgl_mulai_tugas}</div>,\r\n    },\r\n    {\r\n      name: \"Status\",\r\n      selector: (row) => row.sk_terkini,\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => (\r\n        <div>\r\n          {row.sk_terkini === 1 ? (\r\n            <CBadge className=\"p-1\" color=\"success\">\r\n              SK Terkini\r\n            </CBadge>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      // maxWidth: \"150px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => {\r\n        return (\r\n          <div data-tag=\"allowRowEvents\">\r\n            <CButtonGroup>\r\n              <CButton\r\n                color=\"info\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  setModalDetail({\r\n                    ...modalDetail,\r\n                    modal: !modalDetail.modal,\r\n                    id: row.id_riwayat_sk,\r\n                  });\r\n                }}\r\n                className=\"text-white\"\r\n              >\r\n                <CIcon content={cilInfo} />\r\n              </CButton>\r\n              <CButton\r\n                color=\"warning\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  setModalEdit({\r\n                    ...modalEdit,\r\n                    modal: !modalEdit.modal,\r\n                    id: row.id_riwayat_sk,\r\n                  });\r\n                }}\r\n                className=\"text-white\"\r\n              >\r\n                <CIcon content={cilPen} />\r\n              </CButton>\r\n              <CButton\r\n                disabled={row.sk_terkini === 1 ? true : false}\r\n                color=\"danger\"\r\n                size=\"sm\"\r\n                onClick={() => handleDelete(row.id_riwayat_sk)}\r\n              >\r\n                <CIcon content={cilTrash} />\r\n              </CButton>\r\n            </CButtonGroup>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1.15em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_riwayat_sk) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteRiwayatSK(params.id, id_riwayat_sk, setLoading, setData);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"secondary\"\r\n          className=\"ml-2\"\r\n          onClick={() => goToDetailPegawai(params.id)}\r\n        >\r\n          Detail Pegawai <CIcon content={cilUser} />\r\n        </CButton>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"info\"\r\n          className=\"ml-2\"\r\n          onClick={() => printSK(params.id)}\r\n        >\r\n          PDF <CIcon content={cilPrint} />\r\n        </CButton>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"success\"\r\n          className=\"ml-2\"\r\n          onClick={() => exportExcel(`riwayat-sk/` + params.id)}\r\n        >\r\n          Excel <CIcon content={cilPrint} />\r\n        </CButton>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Expandable Component\r\n  const ExpandableComponent = ({ data }) => {\r\n    return (\r\n      <div style={{ padding: \"10px 63px\" }}>\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"2\">\r\n            <strong>Gaji Pokok</strong>\r\n          </CCol>\r\n          <CCol>\r\n            {data.gaji_pokok.toLocaleString(\"id\", {\r\n              style: \"currency\",\r\n              currency: \"IDR\",\r\n            })}\r\n          </CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"2\">\r\n            <strong>Tugas</strong>\r\n          </CCol>\r\n          <CCol>{data.nama_jabatan}</CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"2\">\r\n            <strong>Kontrak Ke</strong>\r\n          </CCol>\r\n          <CCol>{data.kontrak_ke}</CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"2\">\r\n            <strong>Masa Kerja</strong>\r\n          </CCol>\r\n          <CCol>{data.masa_kerja}</CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"2\">\r\n            <strong>File SK</strong>\r\n          </CCol>\r\n          <CCol>\r\n            {data.file ? (\r\n              <a href={getSK(data.file)} target=\"_blank\" rel=\"noreferrer\">\r\n                {getFilename(data.file)}\r\n              </a>\r\n            ) : (\r\n              \"Belum ada file\"\r\n            )}\r\n          </CCol>\r\n        </CRow>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Pembaruan SK Pegawai</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Perbarui SK\r\n          </CButton>\r\n          <h3 className=\"font-weight-normal text-center\">Riwayat SK Pegawai</h3>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Perbarui SK</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <PerbaruiSK\r\n          modalTambah={modalTambah}\r\n          setModalTambah={setModalTambah}\r\n          id_pegawai={params.id}\r\n          setData={setData}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Modal Edit Riwayat SK */}\r\n      <CModal\r\n        show={modalEdit.modal}\r\n        onClose={() => {\r\n          setModalEdit({\r\n            ...modalEdit,\r\n            modal: !modalEdit.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Edit Riwayat SK</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <EditSK\r\n          id_riwayat_sk={modalEdit.id}\r\n          id_pegawai={params.id}\r\n          modalEdit={modalEdit}\r\n          setModalEdit={setModalEdit}\r\n          setDataRiwayat={setData}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Detail Riwayat SK */}\r\n      <CModal\r\n        show={modalDetail.modal}\r\n        onClose={() => {\r\n          setModalDetail({\r\n            ...modalDetail,\r\n            modal: !modalDetail.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Detail Riwayat SK</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <DetailSK\r\n          id_riwayat_sk={modalDetail.id}\r\n          id_pegawai={params.id}\r\n          modalDetail={modalDetail}\r\n          setModalDetail={setModalDetail}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RiwayatSK;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getSelectJabatan = (setJabatan) => {\r\n  axiosInstance\r\n    .get(\"jabatan\")\r\n    .then((res) => {\r\n      setJabatan(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","const getFilename = (value) => {\r\n  const arr = value.split(\"/\");\r\n  const arr_name = arr[arr.length - 1];\r\n\r\n  return arr_name;\r\n};\r\n\r\nexport default getFilename;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatSK = (id_pegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/pembaruan-sk`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","const getSK = (file) => {\r\n  let arr_file = file.split(\"/\");\r\n  let name = arr_file[arr_file.length - 1];\r\n\r\n  return `${localStorage.baseURL}sk/${name}`;\r\n};\r\n\r\nexport default getSK;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatSKById = (id_pegawai, id_kgb, setData) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/pembaruan-sk/${id_kgb}`)\r\n    .then((res) => {\r\n      setData(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilInfo = [\"512 512\",\"<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>\"]","const printSK = (id) => {\r\n  window.open(`${localStorage.baseURL}print-riwayat-sk/${id}`, \"_blank\");\r\n};\r\n\r\nexport default printSK;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRiwayatSK } from \"./getRiwayatSK\";\r\n\r\nexport const editRiwayatSK = (\r\n  id_pegawai,\r\n  id_riwayat_sk,\r\n  values,\r\n  setLoading,\r\n  setData,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/pembaruan-sk/${id_riwayat_sk}`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      getRiwayatSK(id_pegawai, setLoading, setData);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRiwayatSK } from \"./getRiwayatSK\";\r\n\r\nexport const insertPembaruanSK = (\r\n  id_pegawai,\r\n  values,\r\n  setLoading,\r\n  setData,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/pembaruan-sk`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      getRiwayatSK(id_pegawai, setLoading, setData);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRiwayatSK } from \"./getRiwayatSK\";\r\n\r\nexport const deleteRiwayatSK = (\r\n  id_pegawai,\r\n  id_riwayat_sk,\r\n  setLoading,\r\n  setData\r\n) => {\r\n  axiosInstance\r\n    .delete(`admin/pegawai/${id_pegawai}/pembaruan-sk/${id_riwayat_sk}`)\r\n    .then((res) => {\r\n      getRiwayatSK(id_pegawai, setLoading, setData);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n"],"sourceRoot":""}