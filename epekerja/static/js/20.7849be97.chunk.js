(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{1023:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(673),c=n(657),i=n(571),s=n(637),l=n(627),o=n(749),u=n(1),d=n.n(u),b=n(641),j=n.n(b),h=n(20),m=n(645),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e.bulan||"",n=e.tahun||"";window.open("".concat(localStorage.baseURL,"print-mutasi-pegawai?bulan=").concat(t,"&tahun=").concat(n),"_blank")},f=n(626),x=n(40),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e({type:x.LOADING});var n="";n=t?"admin/mutasi?bulan=".concat(t.bulan,"&tahun=").concat(t.tahun):"admin/mutasi",f.a.get(n).then((function(t){e({type:x.SUCCESS,payload:t.data.data})})).catch((function(t){e({type:x.ERROR,payload:t.response.data.message}),console.log(t.response.data)}))},g=n(163),y=n(676),v=n(687),k=n(648),w=n(646),C=n(631),N=n.n(C),M=n(632),F=n.n(M),S=n(17),D=F()(N.a);t.default=function(){var e=Object(h.g)(),t=Object(u.useState)(""),n=Object(a.a)(t,2),b=n[0],x=n[1],C=Object(u.useState)(!1),N=Object(a.a)(C,2),M=N[0],F=N[1],A=Object(u.useContext)(g.a),P=A.mutasiState,H=A.mutasiDispatch,B=P.data,R=P.loading,T=Object(u.useState)({bulan:"",tahun:""}),_=Object(a.a)(T,2),L=_[0],E=_[1];Object(u.useEffect)((function(){O(H)}),[H]);var J=B.filter((function(e){return e.nama.toLowerCase().includes(b.toLowerCase())})),Z=[{name:"No",selector:"no",sortable:!0,width:"50px"},{name:"NIP/NIK",sortable:!0,wrap:!0,cell:function(e){return e.nip?e.nip:e.nik}},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Tgl. Mutasi",selector:"tgl_mutasi",sortable:!0,wrap:!0,cell:function(e){return Object(o.a)(new Date(e.tgl_mutasi),"dd/MM/yyyy")}},{name:"Status",sortable:!0,wrap:!0,cell:function(e){return Date.parse(new Date)<Date.parse(new Date(e.tgl_mutasi))?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(l.b,{color:"primary",shape:"pill",className:"px-2 py-2",children:"Akan Mutasi"})}):Object(S.jsx)(l.b,{color:"dark",shape:"pill",className:"px-2 py-2",children:"Mutasi"})}},{name:"Keterangan",selector:"keterangan",wrap:!0,width:"250px"},{name:"Action",sortable:!0,cell:function(t){return Object(S.jsxs)("div",{"data-tag":"allowRowEvents",className:"my-1",children:[Object(S.jsxs)(l.g,{className:"mb-1",children:[Object(S.jsx)(l.f,{color:"info",className:"btn btn-sm",onClick:function(){return n=t.id_mutasi,void e.push("/epekerja/admin/mutasi/detail/".concat(n));var n},children:Object(S.jsx)(s.a,{content:r.a,color:"white"})}),Object(S.jsx)(l.f,{color:"success",className:"btn btn-sm",onClick:function(){return n=t.id_mutasi,void e.push("/epekerja/admin/mutasi/edit/".concat(n));var n},children:Object(S.jsx)(s.a,{content:c.a,color:"white"})})]}),Object(S.jsx)(l.f,{color:"dark",className:"btn btn-sm",onClick:function(){return Y(t.id_mutasi)},children:"Batalkan Mutasi"})]})}}],I=d.a.useMemo((function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(S.jsx)(l.f,{type:"button",color:"primary",onClick:function(t){e.push("/epekerja/admin/mutasi/tambah")},children:"Tambah Mutasi"}),Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)(k.a,{onFilter:function(e){return x(e.target.value)},onClear:function(){b&&(F(!M),x(""))},filterText:b}),Object(S.jsxs)(l.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return p(L)},children:["PDF ",Object(S.jsx)(s.a,{content:i.a})]}),Object(S.jsxs)(l.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(m.a)("mutasi-pegawai",L,"filter_bulan_tahun")},children:["Excel ",Object(S.jsx)(s.a,{content:i.a})]})]})]})})}),[b,M,e,L]),Y=function(e){D.fire({icon:"warning",title:"Anda yakin ingin membatalkan mutasi untuk pegawai ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(t){t.isConfirmed&&(!function(e,t){f.a.delete("admin/mutasi-batal/".concat(e)).then((function(e){console.log(e.data),O(t)})).catch((function(e){console.log(e.response.data)}))}(e,H),D.fire({icon:"success",title:"Sukses",text:"Mutasi Berhasil Dibatalkan"}))}))};return Object(S.jsx)("div",{children:Object(S.jsxs)(l.h,{children:[Object(S.jsx)(l.l,{children:Object(S.jsx)("h3",{children:"Data Mutasi"})}),Object(S.jsxs)(l.i,{children:[Object(S.jsx)(l.X,{children:Object(S.jsx)(l.n,{md:"6",children:Object(S.jsx)(v.a,{paramsFilter:L,setParamsFilter:E,handleResetFilter:function(){O(H)},handleFilterCari:function(e){e.preventDefault(),O(H,L)}})})}),B.length>0?Object(S.jsx)(j.a,{columns:Z,data:J,noHeader:!0,responsive:!0,customStyles:y.a,pagination:!0,paginationResetDefaultPage:M,subHeader:!0,subHeaderComponent:I,highlightOnHover:!0}):R?Object(S.jsx)(w.a,{}):Object(S.jsx)(j.a,{columns:Z,data:J,noHeader:!0,responsive:!0,customStyles:y.a,pagination:!0,paginationResetDefaultPage:M,subHeader:!0,subHeaderComponent:I,highlightOnHover:!0})]})]})})}},640:function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return a}))},644:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},646:function(e,t,n){"use strict";var a=n(627),r=(n(1),n(629)),c=n(17);t.a=function(){return Object(c.jsx)(a.X,{className:"mb-3",children:Object(c.jsx)(a.n,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:r.d,alt:"load-animation"})})})}},648:function(e,t,n){"use strict";n(1);var a,r,c=n(640),i=n(643),s=i.default.button(a||(a=Object(c.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),l=i.default.input(r||(r=Object(c.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),o=n(17);t.a=function(e){var t=e.filterText,n=e.onFilter,a=e.onClear;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:t,onChange:n}),Object(o.jsx)(s,{type:"button",onClick:a,children:"Reset"})]})}},657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},676:function(e,t,n){"use strict";t.a={headCells:{style:{fontSize:"1.15em"}}}},677:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(17),i=function(){return Object(c.jsx)(c.Fragment,{children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((function(e,t){return Object(c.jsx)("option",{value:t+1,children:e},t)}))})};t.a=r.a.memo(i)},687:function(e,t,n){"use strict";var a=n(166),r=n(2),c=n(9),i=n(627),s=n(1),l=n(677),o=n(17);t.a=function(e){var t=e.paramsFilter,n=e.setParamsFilter,u=e.handleFilterCari,d=e.handleResetFilter,b=Object(s.useState)(!1),j=Object(c.a)(b,2),h=j[0],m=j[1];return Object(o.jsxs)(i.h,{children:[Object(o.jsx)(i.l,{className:"bg-dark",children:Object(o.jsx)("h5",{className:"mb-0",children:"Filter Pencarian Berdasarkan Bulan dan Tahun"})}),Object(o.jsxs)(i.x,{children:[Object(o.jsx)(i.o,{show:h,children:Object(o.jsx)(i.i,{children:Object(o.jsxs)(i.X,{children:[Object(o.jsx)(i.n,{children:Object(o.jsxs)(i.y,{children:[Object(o.jsx)(i.L,{children:"Bulan"}),Object(o.jsxs)(i.Y,{required:!0,name:"bulan",onChange:function(e){return n(Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value)))},children:[Object(o.jsx)("option",{value:"",children:"-- Pilih Bulan --"}),Object(o.jsx)(l.a,{})]})]})}),Object(o.jsx)(i.n,{children:Object(o.jsxs)(i.y,{children:[Object(o.jsx)(i.L,{children:"Tahun"}),Object(o.jsx)(i.E,{required:!0,type:"number",name:"tahun",placeholder:"Masukkan Tahun, exp: ".concat((new Date).getFullYear()),onChange:function(e){return n(Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value)))}})]})})]})})}),Object(o.jsxs)(i.j,{className:"text-right",children:[Object(o.jsx)(i.f,{type:"submit",color:"primary",className:"mr-2",onClick:function(e){return u(e)},disabled:!t.bulan||!t.tahun,children:"Cari"}),Object(o.jsx)(i.f,{color:"warning",className:"mr-2",onClick:d,children:"Reset"}),Object(o.jsx)(i.f,{color:"secondary",onClick:function(){return m(!h)},children:h?"Tutup":"Klik untuk melihat"})]})]})]})}}}]);
//# sourceMappingURL=20.7849be97.chunk.js.map