(this.webpackJsonpEPekerja=this.webpackJsonpEPekerja||[]).push([[42],{1022:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(7),r=n(1),o=n.n(r),i=n(163),s=n(629),l=n(627),j=n(641),d=n.n(j),u=n(20),b=n(637),O=n(571),p=n(40),h=n(626),g=n(648),m=n(166),x=n(642),f=n(667),w=n(685),v=n(17),k=function(e){var t=e.modal,n=e.setModal,o=Object(r.useState)([]),i=Object(c.a)(o,2),s=i[0],j=i[1],d=Object(r.useState)([]),u=Object(c.a)(d,2),b=u[0],O=u[1],p=Object(r.useState)({kolom:"",order:"asc"}),g=Object(c.a)(p,2),k=g[0],y=g[1],C=Object(r.useState)(""),P=Object(c.a)(C,2),S=P[0],N=P[1],L=Object(r.useState)(""),_=Object(c.a)(L,2),F=_[0],R=_[1];Object(r.useEffect)((function(){t.modal&&Object(w.a)(j)}),[t]),Object(r.useEffect)((function(){var e;t.modal&&(e=O,h.a.get("admin/master-data/status-pegawai").then((function(t){console.log(t.data),e(t.data.data)})).catch((function(e){console.log(e.response.data)})))}),[t]);var E=Object(r.memo)((function(e){var t=e.filter;return"jenjang"!==t.kolom&&N(""),Object(v.jsx)(v.Fragment,{children:"jenjang"===t.kolom&&Object(v.jsxs)(l.y,{children:[Object(v.jsx)(l.L,{children:"Jenjang Pendidikan"}),Object(v.jsxs)(l.Y,{required:!0,value:S,onChange:function(e){return N(e.target.value)},className:S?null:"is-invalid",children:[Object(v.jsx)("option",{value:"",children:"-- Pilih Jenjang --"}),s.map((function(e,t){return Object(v.jsx)("option",{value:e.jenjang,children:e.jenjang},t)}))]}),!S&&Object(v.jsx)("div",{className:"invalid-feedback",children:"Jenjang harus diisi!"})]})})})),J=Object(r.memo)((function(e){var t=e.filter;return"status_pegawai"!==t.kolom&&R(""),Object(v.jsx)(v.Fragment,{children:"status_pegawai"===t.kolom&&Object(v.jsxs)(l.y,{children:[Object(v.jsx)(l.L,{children:"Status Pegawai"}),Object(v.jsxs)(l.Y,{required:!0,value:F,onChange:function(e){return R(e.target.value)},className:F?null:"is-invalid",children:[Object(v.jsx)("option",{value:"",children:"-- Pilih Status Pegawai --"}),b.map((function(e,t){return Object(v.jsx)("option",{value:e.status_pegawai,children:e.status_pegawai},t)}))]}),!F&&Object(v.jsx)("div",{className:"invalid-feedback",children:"Status pegawai harus diisi!"})]})})}));return Object(v.jsxs)(l.N,{show:t.modal,onClose:function(){return n(Object(a.a)(Object(a.a)({},t),{},{type:"",modal:!1}))},children:[Object(v.jsx)(l.Q,{closeButton:!0,children:Object(v.jsx)(l.R,{children:"Filter Print"})}),Object(v.jsxs)(l.x,{children:[Object(v.jsxs)(l.O,{children:[Object(v.jsxs)(l.y,{children:[Object(v.jsx)(l.L,{children:"Urutan"}),Object(v.jsxs)(l.Y,{name:"order",value:k.order,onChange:function(e){return y(Object(a.a)(Object(a.a)({},k),{},Object(m.a)({},e.target.name,e.target.value)))},children:[Object(v.jsx)("option",{value:"asc",children:"A - Z (Ascending)"}),Object(v.jsx)("option",{value:"desc",children:"Z - A (Descending)"})]})]}),Object(v.jsxs)(l.y,{children:[Object(v.jsx)(l.L,{children:"Kolom"}),Object(v.jsxs)(l.Y,{name:"kolom",value:k.kolom,onChange:function(e){return function(e){y(Object(a.a)(Object(a.a)({},k),{},Object(m.a)({},e.target.name,e.target.value)))}(e)},children:[Object(v.jsx)("option",{value:"",children:"Semua"}),Object(v.jsx)("option",{value:"nama",children:"Nama"}),Object(v.jsx)("option",{value:"bidang",children:"Bidang"}),Object(v.jsx)("option",{value:"status_pegawai",children:"Status Pegawai"}),Object(v.jsx)("option",{value:"jabatan",children:"Jabatan"}),Object(v.jsx)("option",{value:"jenjang",children:"Jenjang Pendidikan"})]})]}),Object(v.jsx)(E,{filter:k}),Object(v.jsx)(J,{filter:k})]}),Object(v.jsxs)(l.P,{children:[Object(v.jsx)(l.f,{type:"submit",color:"primary",onClick:function(e){return function(e){e.preventDefault();var c="",r={};S?(r={jenjang:S,order:k.order},k.kolom={jenjang:S},c="semua-pegawai?jenjang=".concat(k.kolom.jenjang,"&order=").concat(k.order)):F?(r={statusPegawai:F,order:k.order},k.kolom={statusPegawai:F},c="semua-pegawai?status_pegawai=".concat(k.kolom.statusPegawai,"&order=").concat(k.order)):(r={kolom:k.kolom,order:k.order},c="semua-pegawai?kolom=".concat(k.kolom,"&order=").concat(k.order)),"print"===t.type?Object(f.a)(c):Object(x.a)("semua-pegawai",r,"filter_pegawai"),n(Object(a.a)(Object(a.a)({},t),{},{type:"",modal:!1}))}(e)},disabled:"jenjang"===k.kolom&&!S||"status_pegawai"===k.kolom&&!F,children:"Print"}),Object(v.jsx)(l.f,{color:"secondary",onClick:function(){return n(Object(a.a)(Object(a.a)({},t),{},{type:"",modal:!1}))},children:"Close"})]})]})]})};t.default=function(){var e=Object(u.g)(),t=Object(r.useState)(""),n=Object(c.a)(t,2),j=n[0],m=n[1],x=Object(r.useState)(!1),f=Object(c.a)(x,2),w=f[0],y=f[1],C=Object(r.useContext)(i.a),P=C.pegawaiState,S=C.pegawaiDispatch,N=P.data,L=P.loading,_=Object(r.useState)({type:"",modal:!1}),F=Object(c.a)(_,2),R=F[0],E=F[1];Object(r.useEffect)((function(){var e;(e=S)({type:p.LOADING}),h.a.get("admin/pegawai/semua-pegawai").then((function(t){e({type:p.SUCCESS,payload:t.data.data}),console.log(t.data)})).catch((function(t){e({type:p.ERROR,payload:t.response.data.message}),console.log(t.response.data)}))}),[S]);var J=N.filter((function(e){return!!(e.nama&&e.bidang&&e.jabatan&&(e.nama.toLowerCase().includes(j.toLowerCase())||e.bidang.toLowerCase().includes(j.toLowerCase())||e.jabatan.toLowerCase().includes(j.toLowerCase())))})),D=[{name:"No",selector:"no",sortable:!0,width:"50px"},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Jabatan",selector:"jabatan",sortable:!0,wrap:!0},{name:"Bidang",selector:"bidang",sortable:!0,wrap:!0},{name:"Action",sortable:!0,cell:function(e){return Object(v.jsx)("div",{"data-tag":"allowRowEvents",children:Object(v.jsx)(l.g,{children:Object(v.jsx)(l.f,{color:"info",className:"btn btn-sm",onClick:function(){return I(e.id_pegawai)},children:"Kelengkapan"})})})}}],H={headCells:{style:{fontSize:"1.15em"}}},A=o.a.useMemo((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{onFilter:function(e){return m(e.target.value)},onClear:function(){j&&(y(!w),m(""))},filterText:j}),Object(v.jsxs)(l.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return E(Object(a.a)(Object(a.a)({},R),{},{type:"print",modal:!0}))},children:["PDF ",Object(v.jsx)(b.a,{content:O.a})]}),Object(v.jsxs)(l.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return E(Object(a.a)(Object(a.a)({},R),{},{type:"excel",modal:!0}))},children:["Excel ",Object(v.jsx)(b.a,{content:O.a})]})]})}),[j,w,R]),I=function(t){e.push("/epekerja/admin/pegawai-detail/".concat(t))},X=function(e){var t=e.data;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(v.jsxs)(l.X,{className:"mb-1",children:[Object(v.jsx)(l.n,{md:"2",children:Object(v.jsx)("strong",{children:t.nip?"NIP":"NIK"})}),Object(v.jsx)(l.n,{children:t.nip?t.nip:t.nik})]}),Object(v.jsxs)(l.X,{className:"mb-1",children:[Object(v.jsx)(l.n,{md:"2",children:Object(v.jsx)("strong",{children:"No. HP"})}),Object(v.jsx)(l.n,{children:t.no_hp})]}),Object(v.jsxs)(l.X,{className:"mb-1",children:[Object(v.jsx)(l.n,{md:"2",children:Object(v.jsx)("strong",{children:"Status Pegawai"})}),Object(v.jsx)(l.n,{children:t.status_pegawai})]})]})})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(l.h,{children:[Object(v.jsx)(l.l,{children:Object(v.jsx)("h3",{children:"Semua Data Pegawai"})}),Object(v.jsx)(l.i,{children:N.length>0?Object(v.jsx)(d.a,{columns:D,data:J,noHeader:!0,responsive:!0,customStyles:H,pagination:!0,paginationResetDefaultPage:w,subHeader:!0,subHeaderComponent:A,expandableRows:!0,expandOnRowClicked:!0,highlightOnHover:!0,expandableRowsComponent:Object(v.jsx)(X,{})}):L?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(l.X,{children:Object(v.jsx)(l.n,{className:"text-center",children:Object(v.jsx)("img",{className:"mt-4 ml-3",width:30,src:s.d,alt:"load-animation"})})})})}):Object(v.jsx)(d.a,{columns:D,data:J,noHeader:!0,responsive:!0,customStyles:H})})]}),Object(v.jsx)(k,{modal:R,setModal:E})]})}},639:function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return a}))},645:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},648:function(e,t,n){"use strict";n(1);var a,c,r=n(639),o=n(643),i=o.default.button(a||(a=Object(r.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),s=o.default.input(c||(c=Object(r.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),l=n(17);t.a=function(e){var t=e.filterText,n=e.onFilter,a=e.onClear,c=e.titleCari,r=void 0===c?"Pencarian...":c;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s,{id:"search",type:"text",placeholder:r,"aria-label":"Search Input",value:t,onChange:n}),Object(l.jsx)(i,{type:"button",onClick:a,children:"Reset"})]})}},667:function(e,t,n){"use strict";t.a=function(e){window.open("".concat(localStorage.baseURL,"print-daftar-pegawai/").concat(e),"_blank")}},685:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(626),c=function(e){a.a.get("admin/pegawai/pendidikan/jenjang").then((function(t){e(t.data.data),console.log(t.data)})).catch((function(e){console.log(e.response.data)}))}}}]);
//# sourceMappingURL=42.5eb72744.chunk.js.map