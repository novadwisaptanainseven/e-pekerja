{"version":3,"sources":["views/pages/Admin/PegawaiBerhenti/Formik/initStateEdit.js","views/pages/Admin/PegawaiBerhenti/EditPegawaiBerhenti.js","reusable/Loading.js","reusable/LoadingSubmit.js","context/actions/PegawaiBerhenti/batalkanPegawaiBerhenti.js","context/actions/PegawaiBerhenti/editPegawaiBerhenti.js","context/actions/PegawaiBerhenti/getPegawaiBerhenti.js","context/actions/PegawaiBerhenti/getPegawaiBerhentiById.js","context/actions/PegawaiBerhenti/insertPegawaiBerhenti.js","views/pages/Admin/PegawaiBerhenti/Formik/validationSchema.js"],"names":["initStateEdit","data","id_pegawai","tgl_berhenti","keterangan","MySwal","withReactContent","swal2","EditPegawaiBerhenti","match","useRouteMatch","history","useHistory","params","useState","setData","loading","setLoading","useEffect","getPegawaiBerhentiById","id","showAlertSuccess","fire","icon","title","showConfirmButton","timer","then","res","push","showAlertError","message","err_message","key","text","result","className","type","color","onClick","goBack","initialValues","validationSchema","enableReinitialize","onSubmit","values","console","log","editPegawaiBerhenti","errors","touched","handleChange","handleBlur","handleSubmit","row","md","name","value","nama","readOnly","onChange","onBlur","placeholder","disabled","LoadingSubmit","Loading","width","src","LoadAnimationBlue","alt","LoadAnimationWhite","batalkanPegawaiBerhenti","dispatch","Swal","axiosInstance","get","getPegawaiBerhenti","catch","err","response","post","LOADING","SUCCESS","payload","ERROR","insertPegawaiBerhenti","header","_boundary","Yup","shape","required"],"mappings":"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","file":"static/js/49.55a46748.chunk.js","sourcesContent":["const initStateEdit = (data) => {\r\n  return {\r\n    id_pegawai: data ? data.id_pegawai : \"\",\r\n    tgl_berhenti: data ? data.tgl_berhenti : \"\",\r\n    keterangan: data ? data.keterangan : \"\",\r\n  };\r\n};\r\n\r\nexport default initStateEdit;\r\n","import {\r\n  CButton,\r\n  CCardBody,\r\n  CCard,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CForm,\r\n  CCol,\r\n  CInput,\r\n  CFormGroup,\r\n  CLabel,\r\n} from \"@coreui/react\";\r\nimport { Formik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport LoadingSubmit from \"src/reusable/LoadingSubmit\";\r\nimport initStateEdit from \"./Formik/initStateEdit\";\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport {\r\n  editPegawaiBerhenti,\r\n  getPegawaiBerhentiById,\r\n} from \"src/context/actions/PegawaiBerhenti\";\r\nimport Loading from \"src/reusable/Loading\";\r\nimport validationSchema from \"./Formik/validationSchema\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditPegawaiBerhenti = () => {\r\n  const match = useRouteMatch();\r\n  const history = useHistory();\r\n  const { params } = match;\r\n  const [data, setData] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPegawaiBerhentiById(params.id, setData);\r\n  }, [params]);\r\n\r\n  // Fungsi untuk menampilkan alert success Edit data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Data Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      history.push(\"/epekerja/admin/pegawai-berhenti\");\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error Edit data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Data Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const handleFormSubmit = (values) => {\r\n    console.log(values);\r\n\r\n    editPegawaiBerhenti(\r\n      params.id,\r\n      values,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between\">\r\n          <h3>Edit Data Pensiun</h3>\r\n          <CButton\r\n            type=\"button\"\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        {!data ? (\r\n          <Loading />\r\n        ) : (\r\n          <Formik\r\n            initialValues={initStateEdit(data)}\r\n            validationSchema={validationSchema}\r\n            enableReinitialize\r\n            onSubmit={handleFormSubmit}\r\n          >\r\n            {({\r\n              values,\r\n              errors,\r\n              touched,\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n            }) => (\r\n              <CForm onSubmit={handleSubmit}>\r\n                <CCardBody>\r\n                  <CFormGroup row>\r\n                    <CCol md=\"2\">\r\n                      <CLabel>Nama Pegawai</CLabel>\r\n                    </CCol>\r\n                    <CCol>\r\n                      <CInput\r\n                        type=\"text\"\r\n                        name=\"nama\"\r\n                        value={data.nama}\r\n                        readOnly\r\n                      />\r\n                    </CCol>\r\n                  </CFormGroup>\r\n\r\n                  <CFormGroup row>\r\n                    <CCol md=\"2\">\r\n                      <CLabel>Tgl. Berhenti</CLabel>\r\n                    </CCol>\r\n                    <CCol>\r\n                      <CInput\r\n                        type=\"date\"\r\n                        name=\"tgl_berhenti\"\r\n                        id=\"tgl_berhenti\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        value={values.tgl_berhenti || \"\"}\r\n                        placeholder=\"Masukkan tgl. berhenti\"\r\n                        className={\r\n                          errors.tgl_berhenti && touched.tgl_berhenti\r\n                            ? \"is-invalid\"\r\n                            : null\r\n                        }\r\n                      />\r\n                      {errors.tgl_berhenti && touched.tgl_berhenti && (\r\n                        <div className=\"invalid-feedback\">\r\n                          {errors.tgl_berhenti}\r\n                        </div>\r\n                      )}\r\n                    </CCol>\r\n                  </CFormGroup>\r\n                  <CFormGroup row>\r\n                    <CCol md=\"2\">\r\n                      <CLabel>Keterangan</CLabel>\r\n                    </CCol>\r\n                    <CCol>\r\n                      <CInput\r\n                        type=\"text\"\r\n                        name=\"keterangan\"\r\n                        id=\"keterangan\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        value={values.keterangan || \"\"}\r\n                        placeholder=\"Masukkan keterangan / alasan berhenti\"\r\n                        className={\r\n                          errors.keterangan && touched.keterangan\r\n                            ? \"is-invalid\"\r\n                            : null\r\n                        }\r\n                      />\r\n                      {errors.keterangan && touched.keterangan && (\r\n                        <div className=\"invalid-feedback\">\r\n                          {errors.keterangan}\r\n                        </div>\r\n                      )}\r\n                    </CCol>\r\n                  </CFormGroup>\r\n                </CCardBody>\r\n                <CCardFooter>\r\n                  <CButton\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                    className=\"mr-1\"\r\n                    disabled={loading ? true : false}\r\n                  >\r\n                    {loading ? <LoadingSubmit /> : \"Simpan\"}\r\n                  </CButton>\r\n                </CCardFooter>\r\n              </CForm>\r\n            )}\r\n          </Formik>\r\n        )}\r\n      </CCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPegawaiBerhenti;\r\n","import { CCol, CRow } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <CRow className=\"mb-3\">\r\n      <CCol className=\"text-center\">\r\n        <img\r\n          className=\"mt-4 ml-3\"\r\n          width={30}\r\n          src={LoadAnimationBlue}\r\n          alt=\"load-animation\"\r\n        />\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\n\r\nconst LoadingSubmit = () => {\r\n  return <img width={21} src={LoadAnimationWhite} alt=\"load-animation\" />;\r\n};\r\n\r\nexport default LoadingSubmit;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getPegawaiBerhenti } from \".\";\r\n\r\nconst batalkanPegawaiBerhenti = (id, dispatch, Swal) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai-berhenti-batal/${id}`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      getPegawaiBerhenti(dispatch);\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Sukses\",\r\n        text: \"Status Berhenti Kerja Berhasil Dibatalkan\",\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Gagal\",\r\n        text: err.response.data.message,\r\n      });\r\n    });\r\n};\r\n\r\nexport default batalkanPegawaiBerhenti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nconst editPegawaiBerhenti = (\r\n  id,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai-berhenti/${id}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n\r\nexport default editPegawaiBerhenti;\r\n","import { ERROR, LOADING, SUCCESS } from \"src/context/actionTypes\";\r\nimport axiosInstance from \"src/helpers/axios\";\r\n\r\nconst getPegawaiBerhenti = (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n\r\n  let urlAPI = \"admin/pegawai-berhenti\";\r\n\r\n  axiosInstance\r\n    .get(urlAPI)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SUCCESS,\r\n        payload: res.data.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: err.response.data.message,\r\n      });\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n\r\nexport default getPegawaiBerhenti;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nconst getPegawaiBerhentiById = (id, setData) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai-berhenti/${id}`)\r\n    .then((res) => {\r\n      setData(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n\r\nexport default getPegawaiBerhentiById;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nconst insertPegawaiBerhenti = (\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(\"admin/pegawai-berhenti\", values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n\r\nexport default insertPegawaiBerhenti;\r\n","import * as Yup from \"yup\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  id_pegawai: Yup.string().required(\"Pegawai harus diisi\"),\r\n  tgl_berhenti: Yup.string().required(\"Tgl. berhenti harus diisi\"),\r\n  keterangan: Yup.string().required(\"Keterangan / alasan berhenti harus diisi\"),\r\n});\r\n\r\nexport default validationSchema;\r\n"],"sourceRoot":""}