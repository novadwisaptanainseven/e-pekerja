(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{1002:function(e,a,n){"use strict";n.r(a);var t=n(9),i=n(1),c=n.n(i),s=n(628),l=n(629),r=n(748),d=n(643),o=n(668),j=n(20),u=n(17),h=function(e){var a=e.data,n=Object(j.g)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsx)(s.f,{color:"success",className:"mb-2",onClick:function(){return a.id_pegawai,void n.push("/epekerja/user/data-kepegawaian/edit-data-diri/pns")},children:"Edit Data"}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"8",children:Object(u.jsx)("table",{className:"table table-sm table-striped",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NIP"}),Object(u.jsx)("td",{children:a.nip})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nama"}),Object(u.jsx)("td",{children:a.nama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Agama"}),Object(u.jsx)("td",{children:a.agama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jenis Kelamin"}),Object(u.jsx)("td",{children:a.jenis_kelamin})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TTL"}),Object(u.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(o.a)(a.tgl_lahir))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Alamat"}),Object(u.jsx)("td",{children:a.alamat})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. HP"}),Object(u.jsx)("td",{children:a.no_hp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jabatan"}),Object(u.jsx)("td",{children:a.jabatan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Bidang"}),Object(u.jsx)("td",{children:a.bidang})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Pangkat / Golongan"}),Object(u.jsxs)("td",{children:[a.ket_golongan," (",a.golongan,")"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Eselon"}),Object(u.jsx)("td",{children:a.eselon})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Status Pegawai"}),Object(u.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Karpeg"}),Object(u.jsx)("td",{children:a.karpeg})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"BPJS"}),Object(u.jsx)("td",{children:a.bpjs})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NPWP"}),Object(u.jsx)("td",{children:a.npwp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TMT. Golongan"}),Object(u.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(r.a)(new Date(a.tmt_golongan),"dd/MM/yyyy"))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TMT. CPNS"}),Object(u.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(r.a)(new Date(a.tmt_cpns),"dd/MM/yyyy"))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TMT. Jabatan"}),Object(u.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(r.a)(new Date(a.tmt_jabatan),"dd/MM/yyyy"))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Masa Kerja Jabatan"}),Object(u.jsx)("td",{children:a.mk_jabatan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Masa Kerja Sebelum CPNS"}),Object(u.jsx)("td",{children:a.mk_sebelum_cpns})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Masa Kerja Golongan"}),Object(u.jsx)("td",{children:a.mk_golongan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Masa Kerja Seluruhnya"}),Object(u.jsx)("td",{children:a.mk_seluruhnya})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Gaji Pokok"}),Object(u.jsx)("td",{children:a?a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"}):0})]})]})})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.h,{children:[Object(u.jsx)(s.l,{className:"bg-dark text-center",children:Object(u.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(u.jsx)(s.i,{children:Object(u.jsx)("img",{width:"100%",src:a?Object(d.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})})},b=function(e){var a=e.data,n=Object(j.g)();return Object(u.jsx)(u.Fragment,{children:a?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsx)(s.f,{color:"success",className:"mb-2",onClick:function(){return a.id_pegawai,void n.push("/epekerja/user/data-kepegawaian/edit-data-diri/ptth")},children:"Edit Data"}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"8",children:Object(u.jsx)("table",{className:"table table-sm table-striped",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NIP"}),Object(u.jsx)("td",{children:a.nik})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nama"}),Object(u.jsx)("td",{children:a.nama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Agama"}),Object(u.jsx)("td",{children:a.agama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jenis Kelamin"}),Object(u.jsx)("td",{children:a.jenis_kelamin})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TTL"}),Object(u.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(o.a)(a.tgl_lahir))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Alamat"}),Object(u.jsx)("td",{children:a.alamat})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. HP"}),Object(u.jsx)("td",{children:a.no_hp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jabatan"}),Object(u.jsx)("td",{children:a.nama_jabatan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Bidang"}),Object(u.jsx)("td",{children:a.nama_bidang})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Penetap SK"}),Object(u.jsx)("td",{children:a.penetap_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. SK"}),Object(u.jsx)("td",{children:a.no_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(u.jsx)("td",{children:Object(r.a)(new Date(a.tgl_penetapan_sk),"dd/MM/Y")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(u.jsx)("td",{children:a.tgl_mulai_tugas})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Status Pegawai"}),Object(u.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"BPJS"}),Object(u.jsx)("td",{children:a.bpjs})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NPWP"}),Object(u.jsx)("td",{children:a.npwp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Gaji Pokok"}),Object(u.jsx)("td",{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]})]})})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.h,{children:[Object(u.jsx)(s.l,{className:"bg-dark text-center",children:Object(u.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(u.jsx)(s.i,{children:Object(u.jsx)("img",{width:"100%",src:a?Object(d.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},m=function(e){var a=e.data,n=Object(j.g)();return Object(u.jsx)(u.Fragment,{children:a?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsx)(s.f,{color:"success",className:"mb-2",onClick:function(){return a.id_pegawai,void n.push("/epekerja/user/data-kepegawaian/edit-data-diri/pttb")},children:"Edit Data"}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"8",children:Object(u.jsx)("table",{className:"table table-sm table-striped",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NIP"}),Object(u.jsx)("td",{children:a.nip})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nama"}),Object(u.jsx)("td",{children:a.nama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Agama"}),Object(u.jsx)("td",{children:a.agama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jenis Kelamin"}),Object(u.jsx)("td",{children:a.jenis_kelamin})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"TTL"}),Object(u.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(o.a)(a.tgl_lahir))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Alamat"}),Object(u.jsx)("td",{children:a.alamat})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. HP"}),Object(u.jsx)("td",{children:a.no_hp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Jabatan"}),Object(u.jsx)("td",{children:a.jabatan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Bidang"}),Object(u.jsx)("td",{children:a.nama_bidang})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Penetap SK"}),Object(u.jsx)("td",{children:a.penetap_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. SK"}),Object(u.jsx)("td",{children:a.no_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(u.jsx)("td",{children:Object(r.a)(new Date(a.tgl_penetapan_sk),"dd/MM/yyyy")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(u.jsx)("td",{children:a.tgl_mulai_tugas})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Kontrak Ke"}),Object(u.jsx)("td",{children:a.kontrak_ke})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Masa Kerja"}),Object(u.jsx)("td",{children:a.masa_kerja})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Status Pegawai"}),Object(u.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"BPJS"}),Object(u.jsx)("td",{children:a.bpjs})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"NPWP"}),Object(u.jsx)("td",{children:a.npwp})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Gaji Pokok"}),Object(u.jsx)("td",{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]})]})})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.h,{children:[Object(u.jsx)(s.l,{className:"bg-dark text-center",children:Object(u.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(u.jsx)(s.i,{children:Object(u.jsx)("img",{width:"100%",src:a?Object(d.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},p=function(e){var a=e.data;return Object(u.jsx)(u.Fragment,{children:a?Object(u.jsxs)(u.Fragment,{children:[1===a.id_status_pegawai&&Object(u.jsx)(h,{data:a}),2===a.id_status_pegawai&&Object(u.jsx)(b,{data:a}),3===a.id_status_pegawai&&Object(u.jsx)(m,{data:a})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},g=n(2),k=n(641),O=n.n(k),x=n(163),f=n(40),_=n(626),v=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/keluarga").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},y=n(637),w=n(656),N=n(587),C=n(571),S=n(631),B=n.n(S),T=n(632),E=n.n(T),D=n(647),M=n(664),P=n(638),F=n(635),L=n(634),z=n(652),K=n(654),R=E()(B.a),A=function(e){var a=e.id,n=e.modalTambah,c=e.setModalTambah,r=e.dispatch,d=Object(i.useState)([]),o=Object(t.a)(d,2),j=o[0],h=o[1],b=Object(i.useState)(!1),m=Object(t.a)(b,2),p=m[0],g=m[1],k=Object(i.useContext)(x.a).dashboardDispatch;Object(i.useEffect)((function(){n&&Object(z.a)(h)}),[n]);var O=function(){R.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n)}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");R.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){g(!1)}))},y=F.c().shape({nik_nip:F.e().required("NIK/NIP harus diisi!"),nama:F.e().required("Nama harus diisi!"),hubungan:F.e().required("Hubungan harus diisi!"),id_agama:F.e().required("Agama harus diisi!"),jenis_kelamin:F.e().required("Jenis kelamin harus diisi!"),tgl_lahir:F.e().required("Tanggal lahir harus diisi!"),tempat_lahir:F.e().required("Tempat lahir harus diisi!"),pekerjaan:F.e().required("Pekerjaan harus diisi!"),telepon:F.e().required("Telepon harus diisi!"),alamat:F.e().required("Alamat harus diisi!")});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:{nik_nip:"",nama:"",hubungan:"",id_agama:"",jenis_kelamin:"",tgl_lahir:"",tempat_lahir:"",pekerjaan:"",telepon:"",alamat:""},validationSchema:y,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nik_nip",e.nik_nip),i.append("nama",e.nama),i.append("hubungan",e.hubungan),i.append("id_agama",e.id_agama),i.append("jenis_kelamin",e.jenis_kelamin),i.append("tgl_lahir",e.tgl_lahir),i.append("tempat_lahir",e.tempat_lahir),i.append("pekerjaan",e.pekerjaan),i.append("telepon",e.telepon),i.append("alamat",e.alamat);var c,s=Object(P.a)(i.entries());try{for(s.s();!(c=s.n()).done;){var l=c.value;console.log(l)}}catch(d){s.e(d)}finally{s.f()}!function(e,a,n,t,i,c,s){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/keluarga"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),v(c),Object(K.a)(s),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,i,g,O,f,r,k),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit;e.handleReset;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nik_nip",children:"NIK/NIP"}),Object(u.jsx)(s.E,{id:"nik_nip",name:"nik_nip",placeholder:"Masukkan NIP/NIK",value:a.nik_nip,onChange:r,onBlur:d,className:t.nik_nip&&i.nik_nip?"is-invalid":null}),t.nik_nip&&i.nik_nip&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.nik_nip})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama",children:"Nama"}),Object(u.jsx)(s.E,{id:"nama",name:"nama",placeholder:"Masukkan nama",value:a.nama,onChange:r,onBlur:d,className:t.nama&&i.nama?"is-invalid":null}),t.nama&&i.nama&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.nama})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"hubungan",children:"Hubungan"}),Object(u.jsxs)(s.Y,{custom:!0,name:"hubungan",id:"hubungan",value:a.hubungan,onChange:r,onBlur:d,className:t.hubungan&&i.hubungan?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Hubungan --"}),Object(u.jsx)("option",{value:"Ayah",children:"Ayah"}),Object(u.jsx)("option",{value:"Ibu",children:"Ibu"}),Object(u.jsx)("option",{value:"Suami",children:"Suami"}),Object(u.jsx)("option",{value:"Istri",children:"Istri"}),Object(u.jsx)("option",{value:"Anak Kandung",children:"Anak Kandung"}),Object(u.jsx)("option",{value:"Anak Tiri",children:"Anak Tiri"}),Object(u.jsx)("option",{value:"Saudara",children:"Saudara"}),Object(u.jsx)("option",{value:"Saudari",children:"Saudari"})]}),t.hubungan&&i.hubungan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.hubungan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"agama",children:"Agama"}),Object(u.jsxs)(s.Y,{custom:!0,name:"id_agama",id:"id_agama",value:a.id_agama,onChange:r,onBlur:d,className:t.id_agama&&i.id_agama?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Agama --"}),j.map((function(e,a){return Object(u.jsx)("option",{value:e.id_agama,children:e.agama},a)}))]}),t.id_agama&&i.id_agama&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.id_agama})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Jenis Kelamin"}),Object(u.jsxs)(s.y,{variant:"custom-radio",children:[Object(u.jsx)(s.K,{custom:!0,id:"inline-radio1",name:"jenis_kelamin",value:"Laki-Laki",onChange:r,onBlur:d,required:!0}),Object(u.jsx)(s.L,{variant:"custom-checkbox",htmlFor:"inline-radio1",children:"Laki - Laki"})]}),Object(u.jsxs)(s.y,{variant:"custom-radio",children:[Object(u.jsx)(s.K,{custom:!0,id:"inline-radio2",name:"jenis_kelamin",onChange:r,onBlur:d,value:"Perempuan",required:!0}),Object(u.jsx)(s.L,{variant:"custom-checkbox",htmlFor:"inline-radio2",children:"Perempuan"})]})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tempat_lahir",children:"Tempat Lahir"}),Object(u.jsx)(s.E,{type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Masukkan tempat lahir",value:a.tempat_lahir,onChange:r,onBlur:d,className:t.tempat_lahir&&i.tempat_lahir?"is-invalid":null}),t.tempat_lahir&&i.tempat_lahir&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tempat_lahir})]})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tempat_lahir",children:"Tanggal Lahir"}),Object(u.jsx)(s.E,{type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"Masukkan tanggal lahir",value:a.tgl_lahir,onChange:r,onBlur:d,className:t.tgl_lahir&&i.tgl_lahir?"is-invalid":null}),t.tgl_lahir&&i.tgl_lahir&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tgl_lahir})]})})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"pekerjaan",children:"Pekerjaan"}),Object(u.jsx)(s.E,{type:"text",name:"pekerjaan",id:"pekerjaan",placeholder:"Masukkan pekerjaan",value:a.pekerjaan,onChange:r,onBlur:d,className:t.pekerjaan&&i.pekerjaan?"is-invalid":null}),t.pekerjaan&&i.pekerjaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.pekerjaan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"telepon",children:"Telepon"}),Object(u.jsx)(s.E,{type:"text",name:"telepon",id:"telepon",value:a.telepon,onChange:r,onBlur:d,placeholder:"Masukkan no. telepon",className:t.telepon&&i.telepon?"is-invalid":null}),t.telepon&&i.telepon&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.telepon})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"alamat",children:"Alamat"}),Object(u.jsx)(s.lb,{name:"alamat",id:"alamat",rows:"5",placeholder:"Masukkan alamat",value:a.alamat,onChange:r,onBlur:d,className:t.alamat&&i.alamat?"is-invalid":null}),t.alamat&&i.alamat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.alamat})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!p,children:p?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){c(!n)},children:"Batal"})]})]})}})})},q=E()(B.a),J=function(e){var a=e.idPegawai,n=e.idKeluarga,c=e.modalEdit,r=e.setModalEdit,d=e.dispatch,o=Object(i.useState)([]),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useState)(null),p=Object(t.a)(m,2),g=p[0],k=p[1],O=Object(i.useState)(!1),x=Object(t.a)(O,2),f=x[0],y=x[1];Object(i.useEffect)((function(){return n&&function(e,a,n){_.a.get("user/data-kepegawaian/".concat(e,"/keluarga/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,k),c&&Object(z.a)(b),function(){k(null)}}),[a,n,c]);var w={nik_nip:g?g.nik_nip:"",nama:g?g.nama:"",hubungan:g?g.hubungan:"",id_agama:g?g.id_agama:"",jenis_kelamin:g?g.jenis_kelamin:"",tgl_lahir:g?g.tgl_lahir:"",tempat_lahir:g?g.tempat_lahir:"",pekerjaan:g?g.pekerjaan:"",telepon:g?g.telepon:"",alamat:g?g.alamat:""},N=function(){q.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!c)}))},C=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");q.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){y(!1)}))},S=F.c().shape({nik_nip:F.e().required("NIK/NIP harus diisi!"),nama:F.e().required("Nama harus diisi!"),hubungan:F.e().required("Hubungan harus diisi!"),id_agama:F.e().required("Agama harus diisi!"),jenis_kelamin:F.e().required("Jenis kelamin harus diisi!"),tgl_lahir:F.e().required("Tanggal lahir harus diisi!"),tempat_lahir:F.e().required("Tempat lahir harus diisi!"),pekerjaan:F.e().required("Pekerjaan harus diisi!"),telepon:F.e().required("Telepon harus diisi!"),alamat:F.e().required("Alamat harus diisi!")}),B=function(e){!function(e,a,n,t,i,c,s){t(!0),_.a.put("user/data-kepegawaian/".concat(e,"/keluarga/").concat(a),n).then((function(e){t(!1),v(s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,e,y,N,C,d)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:w,validationSchema:S,enableReinitialize:!0,onSubmit:function(e){return B(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit;e.handleReset;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nik_nip",children:"NIK/NIP"}),Object(u.jsx)(s.E,{id:"nik_nip",name:"nik_nip",placeholder:"Masukkan NIP/NIK",value:a.nik_nip,onChange:i,onBlur:d,className:n.nik_nip&&t.nik_nip?"is-invalid":null}),n.nik_nip&&t.nik_nip&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.nik_nip})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama",children:"Nama"}),Object(u.jsx)(s.E,{id:"nama",name:"nama",placeholder:"Masukkan nama",value:a.nama,onChange:i,onBlur:d,className:n.nama&&t.nama?"is-invalid":null}),n.nama&&t.nama&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.nama})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"hubungan",children:"Hubungan"}),Object(u.jsxs)(s.Y,{custom:!0,name:"hubungan",id:"hubungan",value:a.hubungan,onChange:i,onBlur:d,className:n.hubungan&&t.hubungan?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Hubungan --"}),Object(u.jsx)("option",{value:"Ayah",children:"Ayah"}),Object(u.jsx)("option",{value:"Ibu",children:"Ibu"}),Object(u.jsx)("option",{value:"Suami",children:"Suami"}),Object(u.jsx)("option",{value:"Istri",children:"Istri"}),Object(u.jsx)("option",{value:"Anak Kandung",children:"Anak Kandung"}),Object(u.jsx)("option",{value:"Anak Tiri",children:"Anak Tiri"}),Object(u.jsx)("option",{value:"Saudara",children:"Saudara"}),Object(u.jsx)("option",{value:"Saudari",children:"Saudari"})]}),n.hubungan&&t.hubungan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.hubungan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"agama",children:"Agama"}),Object(u.jsxs)(s.Y,{custom:!0,name:"id_agama",id:"id_agama",value:a.id_agama,onChange:i,onBlur:d,className:n.id_agama&&t.id_agama?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Agama --"}),h.map((function(e,a){return Object(u.jsx)("option",{value:e.id_agama,children:e.agama},a)}))]}),n.id_agama&&t.id_agama&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.id_agama})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Jenis Kelamin"}),Object(u.jsxs)(s.y,{variant:"custom-radio",children:[Object(u.jsx)(s.K,{custom:!0,id:"jenis_kelamin",onChange:i,onBlur:d,name:"jenis_kelamin",value:"Laki-Laki",checked:"Laki-Laki"===a.jenis_kelamin,required:!0}),Object(u.jsx)(s.L,{variant:"custom-checkbox",htmlFor:"jenis_kelamin",children:"Laki - Laki"})]}),Object(u.jsxs)(s.y,{variant:"custom-radio",children:[Object(u.jsx)(s.K,{custom:!0,id:"jenis_kelamin2",name:"jenis_kelamin",onChange:i,onBlur:d,value:"Perempuan",checked:"Perempuan"===a.jenis_kelamin,required:!0}),Object(u.jsx)(s.L,{variant:"custom-checkbox",htmlFor:"jenis_kelamin2",children:"Perempuan"})]})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tempat_lahir",children:"Tempat Lahir"}),Object(u.jsx)(s.E,{type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Masukkan tempat lahir",value:a.tempat_lahir,onChange:i,onBlur:d,className:n.tempat_lahir&&t.tempat_lahir?"is-invalid":null}),n.tempat_lahir&&t.tempat_lahir&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tempat_lahir})]})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tempat_lahir",children:"Tanggal Lahir"}),Object(u.jsx)(s.E,{type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"Masukkan tanggal lahir",value:a.tgl_lahir,onChange:i,onBlur:d,className:n.tgl_lahir&&t.tgl_lahir?"is-invalid":null}),n.tgl_lahir&&t.tgl_lahir&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tgl_lahir})]})})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"pekerjaan",children:"Pekerjaan"}),Object(u.jsx)(s.E,{type:"text",name:"pekerjaan",id:"pekerjaan",placeholder:"Masukkan pekerjaan",value:a.pekerjaan,onChange:i,onBlur:d,className:n.pekerjaan&&t.pekerjaan?"is-invalid":null}),n.pekerjaan&&t.pekerjaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.pekerjaan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"telepon",children:"Telepon"}),Object(u.jsx)(s.E,{type:"text",name:"telepon",id:"telepon",value:a.telepon,onChange:i,onBlur:d,placeholder:"Masukkan no. telepon",className:n.telepon&&t.telepon?"is-invalid":null}),n.telepon&&t.telepon&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.telepon})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"alamat",children:"Alamat"}),Object(u.jsx)(s.lb,{name:"alamat",id:"alamat",rows:"5",placeholder:"Masukkan alamat",value:a.alamat,onChange:i,onBlur:d,className:n.alamat&&t.alamat?"is-invalid":null}),n.alamat&&t.alamat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.alamat})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!f,children:f?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return r(!c)},children:"Batal"})]})]})}})})},G=E()(B.a),I=function(e){var a=e.dataActive,n=Object(i.useState)(!1),c=Object(t.a)(n,2),l=c[0],r=c[1],j=Object(i.useState)({modal:!1,id:null}),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useContext)(x.a),k=p.keluargaState,f=p.keluargaDispatch,S=p.userState,B=k.data,T=k.loading,E=S.data;Object(i.useEffect)((function(){B||"keluarga"===a&&v(f)}),[B,f,a]);var P=[{name:"NIK / NIP",selector:"nik_nip",wrap:!0,sortable:!0},{name:"Nama",selector:"nama",wrap:!0,sortable:!0},{name:"Hubungan",selector:"hubungan",wrap:!0,sortable:!0},{name:"TTL",selector:"ttl",wrap:!0,sortable:!0,cell:function(e){return Object(u.jsxs)("div",{children:[e.tempat_lahir,", ",Object(o.a)(e.tgl_lahir)]})}},{name:"Pekerjaan",selector:"pekerjaan",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,cell:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"success",className:"btn btn-sm",onClick:function(){return m(Object(g.a)(Object(g.a)({},b),{},{modal:!b.modal,id:e.id_keluarga}))},children:Object(u.jsx)(y.a,{content:w.a,color:"white"})}),Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return F(E.id_pegawai,e.id_keluarga)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],F=function(e,a){G.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/keluarga/").concat(a)).then((function(e){t.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){v(n)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.fire({icon:"danger",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}(e,a,f,G)}))},L={headCells:{style:{fontSize:"1.15em"}}},z=function(e){var a=e.data;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Agama"})}),Object(u.jsx)(s.n,{children:a.agama})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Jenis Kelamin"})}),Object(u.jsx)(s.n,{children:a.jenis_kelamin})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Telepon"})}),Object(u.jsx)(s.n,{children:a.telepon})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Alamat"})}),Object(u.jsx)(s.n,{children:a.alamat})]})]})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsxs)("div",{className:"button-control mb-2",children:[Object(u.jsx)(s.f,{color:"primary",className:"btn btn-md",onClick:function(){return r(!l)},children:"Tambah Data"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",onClick:function(){return Object(M.a)(E.id_pegawai,"keluarga")},children:["PDF ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(d.a)("laporan-pegawai/"+E.id_pegawai+"/keluarga")},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]}),B.length>0?Object(u.jsx)(O.a,{columns:P,data:B,noHeader:!0,responsive:!0,customStyles:L,expandableRows:!0,expandableRowsComponent:Object(u.jsx)(z,{}),expandOnRowClicked:!0,highlightOnHover:!0}):T?Object(u.jsx)(D.a,{}):Object(u.jsx)(O.a,{columns:P,data:B,noHeader:!0,responsive:!0,customStyles:L})]}),Object(u.jsxs)(s.N,{show:l,onClose:function(){return r(!l)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(A,{id:E.id_pegawai,modalTambah:l,setModalTambah:r,dispatch:f})]}),Object(u.jsxs)(s.N,{show:b.modal,onClose:function(){return m(Object(g.a)(Object(g.a)({},b),{},{modal:!b.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Data"})}),Object(u.jsx)(J,{idPegawai:E.id_pegawai,idKeluarga:b.id,modalEdit:b.modal,setModalEdit:m,dispatch:f})]})]})},H=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/pendidikan").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},U=E()(B.a),X=function(e){var a=e.id,n=e.modalTambah,c=e.setModalTambah,r=e.dispatch,d=Object(i.useState)(!1),o=Object(t.a)(d,2),j=o[0],h=o[1],b={nama_akademi:"",jenjang:"",jurusan:"",tahun_lulus:"",no_ijazah:"",foto_ijazah:void 0},m=function(){U.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n)}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");U.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){h(!1)}))},g=["image/jpg","image/jpeg","image/png","application/pdf"],k=F.c().shape({nama_akademi:F.e().required("Nama akademi harus diisi!"),jenjang:F.e().required("Jenjang harus diisi!"),jurusan:F.e().required("Jurusan harus diisi!"),tahun_lulus:F.e().required("Tahun lulus harus diisi!"),no_ijazah:F.e().required("No. Ijazah harus diisi!"),foto_ijazah:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&g.includes(e.type)}))});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:b,validationSchema:k,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nama_akademi",e.nama_akademi),i.append("jenjang",e.jenjang),i.append("jurusan",e.jurusan),i.append("tahun_lulus",e.tahun_lulus),i.append("no_ijazah",e.no_ijazah),e.foto_ijazah&&i.append("foto_ijazah",e.foto_ijazah);var c,s=Object(P.a)(i.entries());try{for(s.s();!(c=s.n()).done;){var l=c.value;console.log(l)}}catch(d){s.e(d)}finally{s.f()}!function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/pendidikan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),H(c),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,i,h,m,p,r),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,h=e.setFieldValue;e.handleReset;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama_akademi",children:"Nama Akademi"}),Object(u.jsx)(s.E,{type:"text",id:"nama_akademi",name:"nama_akademi",onChange:r,onBlur:d,value:a.nama_akademi,placeholder:"Masukkan nama akademi",className:t.nama_akademi&&i.nama_akademi?"is-invalid":null}),t.nama_akademi&&i.nama_akademi&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.nama_akademi})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jenjang",children:"Jenjang"}),Object(u.jsxs)(s.Y,{custom:!0,name:"jenjang",id:"jenjang",value:a.jenjang,onChange:r,onBlur:d,className:t.jenjang&&i.jenjang?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Jenjang --"}),Object(u.jsx)("option",{value:"-",children:"-"}),Object(u.jsx)("option",{value:"sd",children:"SD"}),Object(u.jsx)("option",{value:"smp",children:"SMP"}),Object(u.jsx)("option",{value:"sma/ma/smk",children:"SMA/MA/SMK"}),Object(u.jsx)("option",{value:"D3",children:"D3"}),Object(u.jsx)("option",{value:"D4",children:"D4"}),Object(u.jsx)("option",{value:"S1",children:"S1"}),Object(u.jsx)("option",{value:"S2",children:"S2"}),Object(u.jsx)("option",{value:"S3",children:"S3"})]}),t.jenjang&&i.jenjang&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.jenjang})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jurusan",children:"Jurusan"}),Object(u.jsx)(s.E,{type:"text",id:"jurusan",name:"jurusan",placeholder:"Masukkan jurusan",onChange:r,onBlur:d,value:a.jurusan,className:t.jurusan&&i.jurusan?"is-invalid":null}),t.jurusan&&i.jurusan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.jurusan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tahun lulus",children:"Tahun Lulus"}),Object(u.jsx)(s.E,{type:"number",id:"tahun_lulus",name:"tahun_lulus",placeholder:"Masukkan tahun lulus",onChange:r,onBlur:d,value:a.tahun_lulus,className:t.tahun_lulus&&i.tahun_lulus?"is-invalid":null}),t.tahun_lulus&&i.tahun_lulus&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tahun_lulus})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"no_ijazah",children:"No. Ijazah"}),Object(u.jsx)(s.E,{type:"text",id:"no_ijazah",name:"no_ijazah",placeholder:"Masukkan no. ijazah",onChange:r,onBlur:d,value:a.no_ijazah,className:t.no_ijazah&&i.no_ijazah?"is-invalid":null}),t.no_ijazah&&i.no_ijazah&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.no_ijazah})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"foto_ijazah",children:"Foto Ijazah"}),Object(u.jsx)(s.E,{type:"file",id:"foto_ijazah",name:"foto_ijazah",placeholder:"Masukkan foto ijazah",onChange:function(e){return h("foto_ijazah",e.target.files[0])},onBlur:d,className:t.foto_ijazah&&i.foto_ijazah?"is-invalid":null}),t.foto_ijazah&&i.foto_ijazah&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.foto_ijazah}),Object(u.jsx)(s.z,{children:"File harus bertipe jpg, jpeg, atau png dan sizenya kurang dari 2 MB"})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!j,children:j?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){c(!n)},children:"Batal"})]})]})}})})},V=E()(B.a),Y=function(e){var a=e.idPegawai,n=e.idPendidikan,c=e.modalEdit,r=e.setModalEdit,d=e.dispatch,o=Object(i.useState)(null),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useState)(!1),p=Object(t.a)(m,2),g=p[0],k=p[1];Object(i.useEffect)((function(){return n&&function(e,a,n){_.a.get("user/data-kepegawaian/".concat(e,"/pendidikan/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,b),function(){return b(null)}}),[a,n]);var O={nama_akademi:h?h.nama_akademi:"",jenjang:h?h.jenjang:"",jurusan:h?h.jurusan:"",tahun_lulus:h?h.tahun_lulus:"",no_ijazah:h?h.no_ijazah:"",foto_ijazah:void 0},x=function(){V.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!c)}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");V.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){k(!1)}))},v=["image/jpg","image/jpeg","image/png","application/pdf"],y=F.c().shape({nama_akademi:F.e().required("Nama akademi harus diisi!"),jenjang:F.e().required("Jenjang harus diisi!"),jurusan:F.e().required("Jurusan harus diisi!"),tahun_lulus:F.e().required("Tahun lulus harus diisi!"),no_ijazah:F.e().required("No. Ijazah harus diisi!"),foto_ijazah:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&v.includes(e.type)}))}),w=function(e){var t=new FormData;t.append("nama_akademi",e.nama_akademi),t.append("jenjang",e.jenjang),t.append("jurusan",e.jurusan),t.append("tahun_lulus",e.tahun_lulus),t.append("no_ijazah",e.no_ijazah),e.foto_ijazah&&t.append("foto_ijazah",e.foto_ijazah);var i,c=Object(P.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(l){c.e(l)}finally{c.f()}!function(e,a,n,t,i,c,s){t(!0),_.a.post("user/data-kepegawaian/".concat(e,"/pendidikan/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(e){t(!1),H(s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,k,x,f,d)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:O,validationSchema:y,enableReinitialize:!0,onSubmit:function(e){return w(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama_akademi",children:"Nama Akademi"}),Object(u.jsx)(s.E,{type:"text",id:"nama_akademi",name:"nama_akademi",onChange:i,onBlur:d,value:a.nama_akademi,placeholder:"Masukkan nama akademi",className:n.nama_akademi&&t.nama_akademi?"is-invalid":null}),n.nama_akademi&&t.nama_akademi&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.nama_akademi})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jenjang",children:"Jenjang"}),Object(u.jsxs)(s.Y,{custom:!0,name:"jenjang",id:"jenjang",value:a.jenjang,onChange:i,onBlur:d,className:n.jenjang&&t.jenjang?"is-invalid":null,children:[Object(u.jsx)("option",{value:"",children:"-- Pilih Jenjang --"}),Object(u.jsx)("option",{value:"-",children:"-"}),Object(u.jsx)("option",{value:"sd",children:"SD"}),Object(u.jsx)("option",{value:"smp",children:"SMP"}),Object(u.jsx)("option",{value:"sma/ma/smk",children:"SMA/MA/SMK"}),Object(u.jsx)("option",{value:"D3",children:"D3"}),Object(u.jsx)("option",{value:"D4",children:"D4"}),Object(u.jsx)("option",{value:"S1",children:"S1"}),Object(u.jsx)("option",{value:"S2",children:"S2"}),Object(u.jsx)("option",{value:"S3",children:"S3"})]}),n.jenjang&&t.jenjang&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jenjang})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jurusan",children:"Jurusan"}),Object(u.jsx)(s.E,{type:"text",id:"jurusan",name:"jurusan",placeholder:"Masukkan jurusan",onChange:i,onBlur:d,value:a.jurusan,className:n.jurusan&&t.jurusan?"is-invalid":null}),n.jurusan&&t.jurusan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jurusan})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tahun lulus",children:"Tahun Lulus"}),Object(u.jsx)(s.E,{type:"number",id:"tahun_lulus",name:"tahun_lulus",placeholder:"Masukkan tahun lulus",onChange:i,onBlur:d,value:a.tahun_lulus,className:n.tahun_lulus&&t.tahun_lulus?"is-invalid":null}),n.tahun_lulus&&t.tahun_lulus&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tahun_lulus})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"no_ijazah",children:"No. Ijazah"}),Object(u.jsx)(s.E,{type:"text",id:"no_ijazah",name:"no_ijazah",placeholder:"Masukkan no. ijazah",onChange:i,onBlur:d,value:a.no_ijazah,className:n.no_ijazah&&t.no_ijazah?"is-invalid":null}),n.no_ijazah&&t.no_ijazah&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.no_ijazah})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"foto_ijazah",children:"Foto Ijazah"}),Object(u.jsx)(s.E,{type:"file",id:"foto_ijazah",name:"foto_ijazah",placeholder:"Masukkan foto ijazah",onChange:function(e){return j("foto_ijazah",e.target.files[0])},onBlur:d,className:n.foto_ijazah&&t.foto_ijazah?"is-invalid":null}),n.foto_ijazah&&t.foto_ijazah&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.foto_ijazah}),Object(u.jsx)(s.z,{children:"File harus bertipe jpg, jpeg, atau png dan sizenya kurang dari 2 MB"})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",onClick:function(){return w(a)},disabled:!!g,children:g?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return r(!c)},children:"Batal"})]})]})}})})},Q=E()(B.a),W=function(e){var a=e.dataActive,n=Object(i.useState)(!1),c=Object(t.a)(n,2),l=c[0],r=c[1],o=Object(i.useState)({modal:!1,id:null}),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useContext)(x.a),p=m.pendidikanState,k=m.pendidikanDispatch,f=m.userState,v=p.data,S=p.loading,B=f.data,T=Object(i.useState)({modal:!1,image:null}),E=Object(t.a)(T,2),P=E[0],F=E[1];Object(i.useEffect)((function(){v||"pendidikan"===a&&H(k)}),[v,k,a]);var L=[{name:"Nama Akademi",selector:"nama_akademi",wrap:!0,sortable:!0},{name:"Jurusan",selector:"jurusan",wrap:!0,sortable:!0},{name:"Jenjang",selector:"jenjang",wrap:!0,sortable:!0,maxWidth:"100px"},{name:"Tahun Lulus",selector:"tahun_lulus",wrap:!0,sortable:!0,maxWidth:"150px"},{name:"No. Ijazah",selector:"no_ijazah",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,cell:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"success",className:"btn btn-sm",onClick:function(){return b(Object(g.a)(Object(g.a)({},h),{},{modal:!h.modal,id:e.id_pendidikan}))},children:Object(u.jsx)(y.a,{content:w.a,color:"white"})}),Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return z(B.id_pegawai,e.id_pendidikan)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],z=function(e,a){Q.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/pendidikan/").concat(a)).then((function(e){t.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){H(n)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.fire({icon:"danger",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}(e,a,k,Q)}))},K={headCells:{style:{fontSize:"1.15em"}}},R=function(e){var a=e.data,n=a.foto_ijazah.split("/"),t=n[n.length-1],i=t.split("."),c=i[i.length-1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{style:{padding:"10px 63px"},children:Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"File Ijazah"})}),Object(u.jsx)(s.n,{children:["jpg","jpeg","png"].includes(c)?Object(u.jsx)("img",{width:200,src:Object(d.c)(a.foto_ijazah),alt:"foto-ijazah",onClick:function(){return A(a.foto_ijazah)},style:{cursor:"pointer"}}):a.foto_ijazah?Object(u.jsx)("a",{href:Object(d.c)(a.foto_ijazah),target:"_blank",rel:"noreferrer",children:t}):"Ijazah belum ada"})]})})})},A=function(e){F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,image:e}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsxs)("div",{className:"button-control mb-2",children:[Object(u.jsx)(s.f,{color:"primary",className:"btn btn-md",onClick:function(){return r(!l)},children:"Tambah Data"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",onClick:function(){return Object(M.a)(B.id_pegawai,"pendidikan")},children:["Cetak ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(d.a)("laporan-pegawai/"+B.id_pegawai+"/pendidikan")},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]}),v.length>0?Object(u.jsx)(O.a,{columns:L,data:v,noHeader:!0,responsive:!0,customStyles:K,expandableRows:!0,expandableRowsComponent:Object(u.jsx)(R,{}),expandOnRowClicked:!0,highlightOnHover:!0}):S?Object(u.jsx)(D.a,{}):Object(u.jsx)(O.a,{columns:L,data:v,noHeader:!0,responsive:!0,customStyles:K})]}),Object(u.jsxs)(s.N,{show:P.modal,onClose:function(){return F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,image:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Preview"})}),Object(u.jsx)(s.O,{children:P.image&&Object(u.jsx)("img",{style:{width:"100%"},src:Object(d.c)(P.image),alt:"foto-ijazah"})})]}),Object(u.jsxs)(s.N,{show:l,onClose:function(){return r(!l)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(X,{id:B.id_pegawai,modalTambah:l,setModalTambah:r,dispatch:k})]}),Object(u.jsxs)(s.N,{show:h.modal,onClose:function(){return b(Object(g.a)(Object(g.a)({},h),{},{modal:!h.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Data"})}),Object(u.jsx)(Y,{idPegawai:B.id_pegawai,idPendidikan:h.id,modalEdit:h.modal,setModalEdit:b,dispatch:k})]})]})},Z=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/diklat").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},$=n(736),ee=E()(B.a),ae=function(e){var a=e.id,n=e.modalTambah,c=e.setModalTambah,r=e.dispatch,d=Object(i.useState)(!1),o=Object(t.a)(d,2),j=o[0],h=o[1],b={nama_diklat:"",jenis_diklat:"",penyelenggara:"",tahun_diklat:"",jumlah_jam:"",dokumentasi:void 0,sertifikat:void 0},m=function(){ee.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n)}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ee.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){h(!1)}))},g=2048e3,k=["image/jpg","image/jpeg","image/png","application/pdf"],O=F.c().shape({nama_diklat:F.e().required("Nama diklat harus diisi!"),jenis_diklat:F.e().required("Jenis diklat harus diisi!"),penyelenggara:F.e().required("Penyelenggara harus diisi!"),tahun_diklat:F.e().required("Tahun diklat harus diisi!"),jumlah_jam:F.e().required("Jumlah jam harus diisi!"),dokumentasi:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=g})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&k.includes(e.type)})),sertifikat:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=g})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&k.includes(e.type)}))});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:b,validationSchema:O,onSubmit:function(e,n){var t=n.resetForm;console.log(e);var i=new FormData;i.append("nama_diklat",e.nama_diklat),i.append("jenis_diklat",e.jenis_diklat),i.append("penyelenggara",e.penyelenggara),i.append("tahun_diklat",e.tahun_diklat),i.append("jumlah_jam",e.jumlah_jam),e.dokumentasi&&i.append("dokumentasi",e.dokumentasi),e.sertifikat&&i.append("sertifikat",e.sertifikat);var c,s=Object(P.a)(i.entries());try{for(s.s();!(c=s.n()).done;){var l=c.value;console.log(l)}}catch(d){s.e(d)}finally{s.f()}!function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/diklat"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),Z(c),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,i,h,m,p,r),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama_diklat",children:"Nama Diklat"}),Object(u.jsx)(s.E,{type:"text",placeholder:"Masukkan nama diklat",id:"nama_diklat",name:"nama_diklat",onChange:r,onBlur:d,value:a.nama_diklat,className:t.nama_diklat&&i.nama_diklat?"is-invalid":null}),t.nama_diklat&&i.nama_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.nama_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jenis_diklat",children:"Jenis Diklat"}),Object(u.jsx)(s.E,{type:"text",id:"jenis_diklat",placeholder:"Masukkan jenis diklat",name:"jenis_diklat",onChange:r,onBlur:d,value:a.jenis_diklat,className:t.jenis_diklat&&i.jenis_diklat?"is-invalid":null}),t.jenis_diklat&&i.jenis_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.jenis_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"penyelenggara",children:"Penyelenggara"}),Object(u.jsx)(s.E,{type:"text",id:"penyelenggara",placeholder:"Masukkan penyelenggara",name:"penyelenggara",onChange:r,onBlur:d,value:a.penyelenggara,className:t.penyelenggara&&i.penyelenggara?"is-invalid":null}),t.penyelenggara&&i.penyelenggara&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.penyelenggara})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tahun_diklat",children:"Tahun Diklat"}),Object(u.jsx)(s.E,{type:"number",id:"tahun_diklat",placeholder:"Masukkan tahun diklat",name:"tahun_diklat",onChange:r,onBlur:d,value:a.tahun_diklat,className:t.tahun_diklat&&i.tahun_diklat?"is-invalid":null}),t.tahun_diklat&&i.tahun_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tahun_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jml_jam",children:"Jumlah Jam"}),Object(u.jsx)(s.E,{type:"number",id:"jml_jam",placeholder:"Masukkan jumlah jam",name:"jumlah_jam",onChange:r,onBlur:d,value:a.jumlah_jam,className:t.jumlah_jam&&i.jumlah_jam?"is-invalid":null}),t.jumlah_jam&&i.jumlah_jam&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.jumlah_jam})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"dokumentasi_diklat",children:"Dokumentasi Diklat"}),Object(u.jsx)(s.E,{type:"file",id:"dokumentasi",placeholder:"Masukkan dokumentasi diklat",name:"dokumentasi",onChange:function(e){return h("dokumentasi",e.target.files[0])},onBlur:d,className:t.dokumentasi&&i.dokumentasi?"is-invalid":null}),t.dokumentasi&&i.dokumentasi&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.dokumentasi}),Object(u.jsx)(s.z,{children:"Upload file dokumentasi diklat jika ada"})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"sertifikat_diklat",children:"Sertifikat Diklat"}),Object(u.jsx)(s.E,{type:"file",id:"sertifikat",placeholder:"Masukkan sertifikat diklat",name:"sertifikat",onChange:function(e){return h("sertifikat",e.target.files[0])},onBlur:d,className:t.sertifikat&&i.sertifikat?"is-invalid":null}),t.sertifikat&&i.sertifikat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.sertifikat}),Object(u.jsx)(s.z,{children:"Upload file sertifikat diklat jika ada"})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!j,children:j?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return c(!n)},children:"Batal"})]})]})}})})},ne=E()(B.a),te=function(e){var a=e.idPegawai,n=e.idDiklat,c=e.modalEdit,r=e.setModalEdit,d=e.dispatch,o=Object(i.useState)(null),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useState)(!1),p=Object(t.a)(m,2),g=p[0],k=p[1];Object(i.useEffect)((function(){return n&&function(e,a,n){_.a.get("user/data-kepegawaian/".concat(e,"/diklat/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,b),function(){return b(null)}}),[a,n]);var O={nama_diklat:h?h.nama_diklat:"",jenis_diklat:h?h.jenis_diklat:"",penyelenggara:h?h.penyelenggara:"",tahun_diklat:h?h.tahun_diklat:"",jumlah_jam:h?h.jumlah_jam:"",dokumentasi:void 0,sertifikat:void 0},x=function(){ne.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!c)}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ne.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){k(!1)}))},v=2048e3,y=["image/jpg","image/jpeg","image/png","application/pdf"],w=F.c().shape({nama_diklat:F.e().required("Nama diklat harus diisi!"),jenis_diklat:F.e().required("Jenis diklat harus diisi!"),penyelenggara:F.e().required("Penyelenggara harus diisi!"),tahun_diklat:F.e().required("Tahun diklat harus diisi!"),jumlah_jam:F.e().required("Jumlah jam harus diisi!"),dokumentasi:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=v})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&y.includes(e.type)})),sertifikat:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=v})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&y.includes(e.type)}))}),N=function(e){console.log(e);var t=new FormData;t.append("nama_diklat",e.nama_diklat),t.append("jenis_diklat",e.jenis_diklat),t.append("penyelenggara",e.penyelenggara),t.append("tahun_diklat",e.tahun_diklat),t.append("jumlah_jam",e.jumlah_jam),e.dokumentasi&&t.append("dokumentasi",e.dokumentasi),e.sertifikat&&t.append("sertifikat",e.sertifikat);var i,c=Object(P.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(l){c.e(l)}finally{c.f()}!function(e,a,n,t,i,c,s){t(!0),_.a.post("user/data-kepegawaian/".concat(e,"/diklat/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(e){t(!1),Z(s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,k,x,f,d)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:O,validationSchema:w,enableReinitialize:!0,onSubmit:function(e){return N(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"nama_diklat",children:"Nama Diklat"}),Object(u.jsx)(s.E,{type:"text",placeholder:"Masukkan nama diklat",id:"nama_diklat",name:"nama_diklat",onChange:i,onBlur:d,value:a.nama_diklat,className:n.nama_diklat&&t.nama_diklat?"is-invalid":null}),n.nama_diklat&&t.nama_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.nama_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jenis_diklat",children:"Jenis Diklat"}),Object(u.jsx)(s.E,{type:"text",id:"jenis_diklat",placeholder:"Masukkan jenis diklat",name:"jenis_diklat",onChange:i,onBlur:d,value:a.jenis_diklat,className:n.jenis_diklat&&t.jenis_diklat?"is-invalid":null}),n.jenis_diklat&&t.jenis_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jenis_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"penyelenggara",children:"Penyelenggara"}),Object(u.jsx)(s.E,{type:"text",id:"penyelenggara",placeholder:"Masukkan penyelenggara",name:"penyelenggara",onChange:i,onBlur:d,value:a.penyelenggara,className:n.penyelenggara&&t.penyelenggara?"is-invalid":null}),n.penyelenggara&&t.penyelenggara&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.penyelenggara})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tahun_diklat",children:"Tahun Diklat"}),Object(u.jsx)(s.E,{type:"number",id:"tahun_diklat",placeholder:"Masukkan tahun diklat",name:"tahun_diklat",onChange:i,onBlur:d,value:a.tahun_diklat,className:n.tahun_diklat&&t.tahun_diklat?"is-invalid":null}),n.tahun_diklat&&t.tahun_diklat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tahun_diklat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jml_jam",children:"Jumlah Jam"}),Object(u.jsx)(s.E,{type:"number",id:"jml_jam",placeholder:"Masukkan jumlah jam",name:"jumlah_jam",onChange:i,onBlur:d,value:a.jumlah_jam,className:n.jumlah_jam&&t.jumlah_jam?"is-invalid":null}),n.jumlah_jam&&t.jumlah_jam&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jumlah_jam})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"dokumentasi_diklat",children:"Dokumentasi Diklat"}),Object(u.jsx)(s.E,{type:"file",id:"dokumentasi",placeholder:"Masukkan dokumentasi diklat",name:"dokumentasi",onChange:function(e){return j("dokumentasi",e.target.files[0])},onBlur:d,className:n.dokumentasi&&t.dokumentasi?"is-invalid":null}),n.dokumentasi&&t.dokumentasi&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.dokumentasi}),Object(u.jsx)(s.z,{children:"Upload file dokumentasi diklat jika ada"})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"sertifikat_diklat",children:"Sertifikat Diklat"}),Object(u.jsx)(s.E,{type:"file",id:"sertifikat",placeholder:"Masukkan sertifikat diklat",name:"sertifikat",onChange:function(e){return j("sertifikat",e.target.files[0])},onBlur:d,className:n.sertifikat&&t.sertifikat?"is-invalid":null}),n.sertifikat&&t.sertifikat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.sertifikat}),Object(u.jsx)(s.z,{children:"Upload file sertifikat diklat jika ada"})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!g,children:g?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return r(!c)},children:"Batal"})]})]})}})})},ie=E()(B.a),ce=function(e){var a=e.dataActive,n=Object(i.useState)(!1),c=Object(t.a)(n,2),l=c[0],r=c[1],o=Object(i.useState)({modal:!1,id:null}),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useContext)(x.a),p=m.diklatState,k=m.diklatDispatch,f=m.userState,v=p.data,S=p.loading,B=f.data,T=Object(i.useState)({modal:!1,image:null}),E=Object(t.a)(T,2),P=E[0],F=E[1];Object(i.useEffect)((function(){v||"diklat"===a&&Z(k)}),[k,a,v]);var L=[{name:"Nama Diklat",selector:"nama_diklat",wrap:!0,sortable:!0},{name:"Jenis Diklat",selector:"jenis_diklat",wrap:!0,sortable:!0},{name:"Penyelenggara",selector:"penyelenggara",wrap:!0,sortable:!0},{name:"Tahun Diklat",selector:"tahun_diklat",wrap:!0,sortable:!0},{name:"Jumlah Jam",selector:"jumlah_jam",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"100px",cell:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"success",className:"btn btn-sm",onClick:function(){return b(Object(g.a)(Object(g.a)({},h),{},{modal:!h.modal,id:e.id_diklat}))},children:Object(u.jsx)(y.a,{content:w.a,color:"white"})}),Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return z(B.id_pegawai,e.id_diklat)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],z=function(e,a){ie.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/diklat/").concat(a)).then((function(e){t.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){Z(n)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.fire({icon:"danger",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}(e,a,k,ie)}))},K={headCells:{style:{fontSize:"1.15em"}}},R=function(e){F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,image:e}))},A=function(e){var a=e.data,n=["jpg","jpeg","png"],t=function(e){var a=e.split("/"),n=a[a.length-1],t=n.split(".");return{ext:t[t.length-1],filename:n}},i=t(a.dokumentasi),c=t(a.sertifikat);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(u.jsxs)(s.X,{className:"mb-2",children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Dokumentasi"})}),Object(u.jsx)(s.n,{children:n.includes(i.ext.toLowerCase())?Object(u.jsx)("img",{width:200,src:Object($.a)(a.dokumentasi),alt:"dokumentasi-diklat",onClick:function(){return R(a.dokumentasi)},style:{cursor:"pointer"}}):a.dokumentasi?Object(u.jsx)("a",{href:Object($.a)(a.dokumentasi),target:"_blank",rel:"noreferrer",children:i.filename}):"Belum ada file"})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Sertifikat"})}),Object(u.jsx)(s.n,{children:n.includes(c.ext.toLowerCase())?Object(u.jsx)("img",{width:200,src:Object($.a)(a.sertifikat),alt:"sertifikat-diklat",onClick:function(){return R(a.sertifikat)},style:{cursor:"pointer"}}):a.sertifikat?Object(u.jsx)("a",{href:Object($.a)(a.sertifikat),target:"_blank",rel:"noreferrer",children:c.filename}):"Belum ada file"})]})]})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsxs)("div",{className:"button-control mb-2",children:[Object(u.jsx)(s.f,{color:"primary",className:"btn btn-md",onClick:function(){return r(!l)},children:"Tambah Data"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",onClick:function(){return Object(M.a)(B.id_pegawai,"diklat")},children:["Cetak ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(d.a)("laporan-pegawai/"+B.id_pegawai+"/diklat")},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]}),v.length>0?Object(u.jsx)(O.a,{columns:L,data:v,noHeader:!0,responsive:!0,customStyles:K,expandableRows:!0,expandableRowsComponent:Object(u.jsx)(A,{}),expandOnRowClicked:!0,highlightOnHover:!0}):S?Object(u.jsx)(D.a,{}):Object(u.jsx)(O.a,{columns:L,data:v,noHeader:!0,responsive:!0,customStyles:K})]}),Object(u.jsxs)(s.N,{show:P.modal,onClose:function(){return F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,image:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Preview"})}),Object(u.jsx)(s.O,{children:P.image&&Object(u.jsx)("img",{style:{width:"100%"},src:Object($.a)(P.image),alt:"dokumentasi-diklat"})})]}),Object(u.jsxs)(s.N,{show:l,onClose:function(){return r(!l)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(ae,{id:B.id_pegawai,modalTambah:l,setModalTambah:r,dispatch:k})]}),Object(u.jsxs)(s.N,{show:h.modal,onClose:function(){return b(Object(g.a)(Object(g.a)({},h),{},{modal:!h.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Data"})}),Object(u.jsx)(te,{idPegawai:B.id_pegawai,idDiklat:h.id,modalEdit:h.modal,setModalEdit:b,dispatch:k})]})]})},se=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/riwayat-kerja").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},le=function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,c=e.handleBlur,r=e.handleSubmit,d=e.modal,o=e.setModal,j=e.loading;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.x,{onSubmit:r,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"kantor",children:"Kantor Lama"}),Object(u.jsx)(s.E,{type:"text",id:"kantor",placeholder:"Masukkan kantor lama",name:"kantor",value:a.kantor,onChange:i,onBlur:c,className:n.kantor&&t.kantor?"is-invalid":null}),n.kantor&&t.kantor&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.kantor})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"jabatan",children:"Jabatan Lama"}),Object(u.jsx)(s.E,{type:"text",id:"jabatan",placeholder:"Masukkan jabatan lama",name:"jabatan",value:a.jabatan,onChange:i,onBlur:c,className:n.jabatan&&t.jabatan?"is-invalid":null}),n.jabatan&&t.jabatan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jabatan})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tgl_masuk",children:"Tgl. Masuk Kerja"}),Object(u.jsx)(s.E,{type:"date",id:"tgl_masuk",placeholder:"Masukkan tgl. masuk kerja",name:"tgl_masuk",value:a.tgl_masuk,onChange:i,onBlur:c,className:n.tgl_masuk&&t.tgl_masuk?"is-invalid":null}),n.tgl_masuk&&t.tgl_masuk&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tgl_masuk})]})}),Object(u.jsx)(s.n,{children:Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"tgl_keluar",children:"Tgl. Keluar Kerja"}),Object(u.jsx)(s.E,{type:"date",id:"tgl_keluar",placeholder:"Masukkan tgl. keluar kerja",name:"tgl_keluar",value:a.tgl_keluar,onChange:i,onBlur:c,className:n.tgl_keluar&&t.tgl_keluar?"is-invalid":null}),n.tgl_keluar&&t.tgl_keluar&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tgl_keluar})]})})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{htmlFor:"keterangan",children:"Keterangan"}),Object(u.jsx)(s.E,{type:"keterangan",id:"keterangan",placeholder:"Masukkan keterangan",name:"keterangan",value:a.keterangan,onChange:i,onBlur:c,className:n.keterangan&&t.keterangan?"is-invalid":null}),n.keterangan&&t.keterangan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.keterangan})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!j,children:j?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return o(!d)},children:"Batal"})]})]})})},re=E()(B.a),de=function(e){var a=e.id,n=e.modal,c=e.setModal,s=e.dispatch,l=Object(i.useState)(!1),r=Object(t.a)(l,2),d=r[0],o=r[1],j=function(){re.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n)}))},h=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");re.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){o(!1)}))},b=F.c().shape({kantor:F.e().required("Kantor lama harus diisi!"),jabatan:F.e().required("Jabatan lama harus diisi!"),tgl_masuk:F.e().required("Tgl. masuk harus diisi!"),tgl_keluar:F.e().required("Tgl. keluar harus diisi!"),keterangan:F.e().required("Keterangan harus diisi!")});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:{kantor:"",jabatan:"",tgl_masuk:"",tgl_keluar:"",keterangan:""},validationSchema:b,onSubmit:function(e,n){var t=n.resetForm;console.log(e);var i=new FormData;i.append("kantor",e.kantor),i.append("jabatan",e.jabatan),i.append("tgl_masuk",e.tgl_masuk),i.append("tgl_keluar",e.tgl_keluar),i.append("keterangan",e.keterangan);var c,l=Object(P.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var r=c.value;console.log(r)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/riwayat-kerja"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),se(c),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,i,o,j,h,s),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,s=e.handleChange,l=e.handleBlur,r=e.handleSubmit;return Object(u.jsx)(le,{values:a,errors:t,touched:i,handleSubmit:r,handleChange:s,handleBlur:l,modal:n,setModal:c,loading:d})}})})},oe=E()(B.a),je=function(e){var a=e.idPegawai,n=e.idRiwayatKerja,c=e.modal,s=e.setModal,l=e.dispatch,r=Object(i.useState)(null),d=Object(t.a)(r,2),o=d[0],j=d[1],h=Object(i.useState)(!1),b=Object(t.a)(h,2),m=b[0],p=b[1];Object(i.useEffect)((function(){return n&&function(e,a,n){_.a.get("user/data-kepegawaian/".concat(e,"/riwayat-kerja/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,j),function(){return j(null)}}),[a,n]);var g={kantor:o?o.kantor:"",jabatan:o?o.jabatan:"",tgl_masuk:o?o.tgl_masuk:"",tgl_keluar:o?o.tgl_keluar:"",keterangan:o?o.keterangan:""},k=function(){oe.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!c)}))},O=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");oe.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){p(!1)}))},x=F.c().shape({kantor:F.e().required("Kantor lama harus diisi!"),jabatan:F.e().required("Jabatan lama harus diisi!"),tgl_masuk:F.e().required("Tgl. masuk harus diisi!"),tgl_keluar:F.e().required("Tgl. keluar harus diisi!"),keterangan:F.e().required("Keterangan harus diisi!")}),f=function(e){!function(e,a,n,t,i,c,s){t(!0),_.a.put("user/data-kepegawaian/".concat(e,"/riwayat-kerja/").concat(a),n).then((function(e){t(!1),se(s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,e,p,k,O,l)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:g,validationSchema:x,enableReinitialize:!0,onSubmit:function(e){return f(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,l=e.handleBlur,r=e.handleSubmit;return Object(u.jsx)(le,{values:a,errors:n,touched:t,handleSubmit:r,handleChange:i,handleBlur:l,modal:c,setModal:s,loading:m})}})})},ue=E()(B.a),he=function(e){var a=e.dataActive,n=Object(i.useState)(!1),c=Object(t.a)(n,2),l=c[0],o=c[1],j=Object(i.useState)({modal:!1,id:null}),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useContext)(x.a),k=p.riwayatKerjaState,f=p.riwayatKerjaDispatch,v=p.userState,S=k.data,B=k.loading,T=v.data;Object(i.useEffect)((function(){S||"riwayat-kerja"===a&&se(f)}),[f,a,S]);var E=[{name:"Kantor Lama",selector:"kantor",wrap:!0,sortable:!0},{name:"Jabatan Lama",selector:"jabatan",wrap:!0,sortable:!0},{name:"Tgl. Masuk Kerja",selector:"tgl_masuk",wrap:!0,sortable:!0,cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tgl_masuk),"dd/MM/yyyy")})}},{name:"Tgl. Keluar Kerja",selector:"tgl_keluar",wrap:!0,sortable:!0,cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tgl_keluar),"dd/MM/yyyy")})}},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"150px",cell:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"success",className:"btn btn-sm",onClick:function(){return m(Object(g.a)(Object(g.a)({},b),{},{modal:!b.modal,id:e.id_riwayat_kerja}))},children:Object(u.jsx)(y.a,{content:w.a,color:"white"})}),Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return P(T.id_pegawai,e.id_riwayat_kerja)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],P=function(e,a){ue.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/riwayat-kerja/").concat(a)).then((function(e){t.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){se(n)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.fire({icon:"danger",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}(e,a,f,ue)}))},F={headCells:{style:{fontSize:"1.15em"}}},L=function(e){var a=e.data;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{style:{padding:"10px 63px"},children:Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Keterangan"})}),Object(u.jsx)(s.n,{children:a.keterangan})]})})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsxs)("div",{className:"button-control mb-2",children:[Object(u.jsx)(s.f,{color:"primary",className:"btn btn-md",onClick:function(){return o(!l)},children:"Tambah Data"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",onClick:function(){return Object(M.a)(T.id_pegawai,"riwayat-kerja")},children:["Cetak ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(d.a)("laporan-pegawai/"+T.id_pegawai+"/riwayat-kerja")},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]}),S.length>0?Object(u.jsx)(O.a,{columns:E,data:S,noHeader:!0,responsive:!0,customStyles:F,expandableRows:!0,expandableRowsComponent:Object(u.jsx)(L,{}),expandOnRowClicked:!0,highlightOnHover:!0}):B?Object(u.jsx)(D.a,{}):Object(u.jsx)(O.a,{columns:E,data:S,noHeader:!0,responsive:!0,customStyles:F})]}),Object(u.jsxs)(s.N,{show:l,onClose:function(){return o(!l)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(de,{id:T.id_pegawai,modal:l,setModal:o,dispatch:f})]}),Object(u.jsxs)(s.N,{show:b.modal,onClose:function(){return m(Object(g.a)(Object(g.a)({},b),{},{modal:!b.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Data"})}),Object(u.jsx)(je,{idPegawai:T.id_pegawai,idRiwayatKerja:b.id,modal:b.modal,setModal:m,dispatch:f})]})]})},be=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/berkas").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},me=E()(B.a),pe=function(e){var a=e.modal,n=e.setModal,c=e.dispatch,r=Object(j.g)(),d=Object(i.useState)(!1),o=Object(t.a)(d,2),h=o[0],b=o[1],m={nama_berkas:void 0,keterangan:""},p=function(){me.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(!1),r.push("/epekerja/user/data-kepegawaian")}))},g=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");me.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){b(!1)}))},k=["image/jpg","image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],O=F.c().shape({keterangan:F.e().required("Keterangan harus diisi!"),nama_berkas:F.a().required("File belum dipilih").test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya gambar (jpg, jpeg, png) dan dokumen (pdf, doc, docx, xls, xlsx)",(function(e){return!e||e&&k.includes(e.type)}))}),x=function(e){var a=new FormData;a.append("nama_berkas",e.nama_berkas),a.append("keterangan",e.keterangan);var n,t=Object(P.a)(a.entries());try{for(t.s();!(n=t.n()).done;){var i=n.value;console.log(i)}}catch(s){t.e(s)}finally{t.f()}!function(e,a,n,t,i){a(!0),_.a.post("user/data-kepegawaian/berkas",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){a(!1),be(i),n()})).catch((function(e){t(e.response.data.errors)}))}(a,b,p,g,c)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:m,validationSchema:O,onSubmit:function(e){return x(e)},children:function(e){var t=e.values,i=e.errors,c=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)(s.L,{children:"Upload Berkas"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"nama_berkas",id:"nama_berkas",onChange:function(e){return j("nama_berkas",e.target.files[0])},onBlur:d,className:i.nama_berkas&&c.nama_berkas?"is-invalid":null}),i.nama_berkas&&c.nama_berkas&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.nama_berkas})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)(s.L,{children:"Keterangan"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"keterangan",id:"keterangan",onChange:r,onBlur:d,value:t.keterangan,className:i.keterangan&&c.keterangan?"is-invalid":null}),i.keterangan&&c.keterangan&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.keterangan})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!h,children:h?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(!a)},children:"Batal"})]})]})}})})},ge=n(737),ke=E()(B.a),Oe=function(e){var a=e.dataActive,n=Object(i.useState)(!1),c=Object(t.a)(n,2),d=c[0],o=c[1],j=Object(i.useContext)(x.a),h=j.berkasState,b=j.berkasDispatch,m=h.data,p=h.loading,k=Object(i.useState)({modal:!1,image:null}),f=Object(t.a)(k,2),v=f[0],w=f[1];Object(i.useEffect)((function(){m||"berkas"===a&&be(b)}),[b,m,a]);var C=[{name:"Berkas",selector:"nama_berkas",wrap:!0,sortable:!0,maxWidth:"250px",cell:function(e){var a=e.nama_berkas.split("/"),n=a[a.length-1],t=n.split("."),i=t[t.length-1];return Object(u.jsx)(u.Fragment,{children:["jpg","jpeg","png"].includes(i.toLowerCase())?Object(u.jsx)("img",{width:100,src:Object(ge.a)(e.nama_berkas),alt:n,onClick:function(){return B(e.nama_berkas)},style:{cursor:"pointer"},className:"img-thumbnail m-3"}):Object(u.jsx)("a",{href:Object(ge.a)(e.nama_berkas),target:"_blank",rel:"noreferrer",children:n})})}},{name:"Tgl. Upload",selector:"tgl_upload",wrap:!0,sortable:!0,maxWidth:"150px",cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tgl_upload),"dd/MM/yyyy")})}},{name:"Keterangan",selector:"keterangan",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"100px",cell:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return T(e.id_berkas)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})})}}],S={headCells:{style:{fontSize:"1.15em"}}},B=function(e){w(Object(g.a)(Object(g.a)({},v),{},{modal:!v.modal,image:e}))},T=function(e){ke.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(a){var n,t;a.isConfirmed&&(n=e,t=b,_.a.delete("user/data-kepegawaian/berkas/".concat(n)).then((function(e){console.log(e.data),be(t)})).catch((function(e){console.log(e.response.data)})),ke.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}))}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"my-3",children:[Object(u.jsx)(s.f,{type:"button",color:"primary",onClick:function(){return o(!d)},children:"Tambah Berkas"}),m.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(O.a,{columns:C,data:m,noHeader:!0,responsive:!0,customStyles:S})}):p?Object(u.jsx)("div",{children:Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})}):Object(u.jsx)(O.a,{columns:C,data:m,noHeader:!0,responsive:!0,customStyles:S})]}),Object(u.jsxs)(s.N,{show:d,onClose:function(){return o(!d)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(pe,{modal:d,setModal:o,dispatch:b})]}),Object(u.jsxs)(s.N,{show:v.modal,onClose:function(){return w(Object(g.a)(Object(g.a)({},v),{},{modal:!v.modal,image:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Preview"})}),Object(u.jsx)(s.O,{children:v.image&&Object(u.jsx)("img",{style:{width:"100%"},src:Object(ge.a)(v.image),alt:"dokumentasi-penghargaan"})})]})]})},xe=n(673),fe=n(675),_e=function(e,a){_.a.get("user/data-kepegawaian/penghargaan/".concat(e)).then((function(e){console.log(e.data),a(e.data.data)})).catch((function(e){console.log(e.response.data)}))},ve=function(e){var a=e.id,n=Object(i.useState)(""),c=Object(t.a)(n,2),d=c[0],o=c[1];Object(i.useEffect)((function(){a&&_e(a,o)}),[a]);var j=function(e){var a=e.dokumentasi,n=a.split("/"),t=n[n.length-1],i=t.split("."),c=i[i.length-1];return Object(u.jsx)(u.Fragment,{children:["jpg","jpeg","png"].includes(c.toLowerCase())?Object(u.jsx)("img",{src:Object(fe.a)(a),alt:"dokumentasi-penghargaan",style:{width:"100%"}}):Object(u.jsx)("a",{href:Object(fe.a)(a),target:"_blank",rel:"noreferrer",children:t})})};return Object(u.jsx)(u.Fragment,{children:d?Object(u.jsx)("table",{className:"table table-striped table-borderless",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:d.nip?"NIP":"NIK"}),Object(u.jsx)("td",{children:d.nip?d.nip:d.nik})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nama Penerima"}),Object(u.jsx)("td",{children:d.nama})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nama Penghargaan"}),Object(u.jsx)("td",{children:d.nama_penghargaan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Pemberi"}),Object(u.jsx)("td",{children:d.pemberi})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Penghargaan"}),Object(u.jsx)("td",{children:d&&Object(r.a)(new Date(d.tgl_penghargaan),"dd/MM/yyyy")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Dokumentasi"}),Object(u.jsx)("td",{children:d?Object(u.jsx)(j,{dokumentasi:d.dokumentasi}):"Loading..."})]})]})}):Object(u.jsx)("div",{children:Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-3 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})},ye=function(e){e({type:f.LOADING}),_.a.get("user/data-kepegawaian/penghargaan").then((function(a){console.log(a.data),e({type:f.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:f.ERROR,payload:a.response.data}),console.log(a.response.data)}))},we=E()(B.a),Ne=function(e){var a=e.id,n=e.modal,c=e.setModal,r=e.dispatch,d=Object(i.useState)(!1),o=Object(t.a)(d,2),j=o[0],h=o[1],b={nama_penghargaan:"",pemberi:"",tgl_penghargaan:"",dokumentasi:void 0},m=function(){we.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n)}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");we.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){h(!1)}))},g=["image/jpg","image/jpeg","image/png","application/pdf"],k=F.c().shape({nama_penghargaan:F.e().required("Nama penghargaan harus diisi!"),pemberi:F.e().required("Pemberi penghargaan harus diisi!"),tgl_penghargaan:F.e().required("Tgl. penghargaan harus diisi!"),dokumentasi:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&g.includes(e.type)}))});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:b,validationSchema:k,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nama_penghargaan",e.nama_penghargaan),i.append("pemberi",e.pemberi),i.append("tgl_penghargaan",e.tgl_penghargaan),e.dokumentasi&&i.append("dokumentasi",e.dokumentasi);var c,s=Object(P.a)(i.entries());try{for(s.s();!(c=s.n()).done;){var l=c.value;console.log(l)}}catch(d){s.e(d)}finally{s.f()}!function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/penghargaan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),ye(c),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,i,h,m,p,r),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Nama Penghargaan"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",id:"nama_penghargaan",placeholder:"Masukkan nama penghargaan",name:"nama_penghargaan",onChange:r,onBlur:d,value:a.nama_penghargaan,className:t.nama_penghargaan&&i.nama_penghargaan?"is-invalid":null}),t.nama_penghargaan&&i.nama_penghargaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.nama_penghargaan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Pemberi"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"pemberi",id:"pemberi",placeholder:"Masukkan nama pemberi penghargaan",onChange:r,onBlur:d,value:a.pemberi,className:t.pemberi&&i.pemberi?"is-invalid":null}),t.pemberi&&i.pemberi&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.pemberi})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penghargaan"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penghargaan",id:"tgl_penghargaan",placeholder:"Masukkan tgl. penghargaan",onChange:r,onBlur:d,value:a.tgl_penghargaan,className:t.tgl_penghargaan&&i.tgl_penghargaan?"is-invalid":null}),t.tgl_penghargaan&&i.tgl_penghargaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tgl_penghargaan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsxs)(s.L,{children:["File Dokumentasi Penghargaan ",Object(u.jsx)("br",{}),"(Jika Ada)"]})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"dokumentasi",id:"dokumentasi",placeholder:"Masukkan file dokumentasi penghargaan",onChange:function(e){return h("dokumentasi",e.target.files[0])},onBlur:d,className:t.dokumentasi&&i.dokumentasi?"is-invalid":null}),t.dokumentasi&&i.dokumentasi&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.dokumentasi}),Object(u.jsx)(s.z,{children:"File bisa berupa pdf, jpg, jpeg, atau png"})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!j,children:j?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return c(!n)},children:"Batal"})]})]})}})})},Ce=E()(B.a),Se=function(e){var a=e.idPegawai,n=e.idPenghargaan,c=e.modal,r=e.setModal,d=e.dispatch,o=Object(i.useState)(null),j=Object(t.a)(o,2),h=j[0],b=j[1],m=Object(i.useState)(!1),p=Object(t.a)(m,2),k=p[0],O=p[1];Object(i.useEffect)((function(){return n&&a&&_e(n,b),function(){return b(null)}}),[a,n]);var x={nama_penghargaan:h?h.nama_penghargaan:"",pemberi:h?h.pemberi:"",tgl_penghargaan:h?h.tgl_penghargaan:"",dokumentasi:void 0},f=function(){Ce.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(Object(g.a)(Object(g.a)({},c),{},{modal:!c.modal,id:null}))}))},v=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");Ce.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){O(!1)}))},y=["image/jpg","image/jpeg","image/png","application/pdf"],w=F.c().shape({nama_penghargaan:F.e().required("Nama penghargaan harus diisi!"),pemberi:F.e().required("Pemberi penghargaan harus diisi!"),tgl_penghargaan:F.e().required("Tgl. penghargaan harus diisi!"),dokumentasi:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&y.includes(e.type)}))}),N=function(e){var t=new FormData;t.append("nama_penghargaan",e.nama_penghargaan),t.append("pemberi",e.pemberi),t.append("tgl_penghargaan",e.tgl_penghargaan),e.dokumentasi&&t.append("dokumentasi",e.dokumentasi);var i,c=Object(P.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(l){c.e(l)}finally{c.f()}!function(e,a,n,t,i,c,s){t(!0),_.a.post("user/data-kepegawaian/".concat(e,"/penghargaan/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(e){t(!1),ye(s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,O,f,v,d)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:x,enableReinitialize:!0,validationSchema:w,onSubmit:function(e){return N(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Nama Penghargaan"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",id:"nama_penghargaan",placeholder:"Masukkan nama penghargaan",name:"nama_penghargaan",onChange:i,onBlur:d,value:a.nama_penghargaan,className:n.nama_penghargaan&&t.nama_penghargaan?"is-invalid":null}),n.nama_penghargaan&&t.nama_penghargaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.nama_penghargaan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Pemberi"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"pemberi",id:"pemberi",placeholder:"Masukkan nama pemberi penghargaan",onChange:i,onBlur:d,value:a.pemberi,className:n.pemberi&&t.pemberi?"is-invalid":null}),n.pemberi&&t.pemberi&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.pemberi})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penghargaan"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penghargaan",id:"tgl_penghargaan",placeholder:"Masukkan tgl. penghargaan",onChange:i,onBlur:d,value:a.tgl_penghargaan,className:n.tgl_penghargaan&&t.tgl_penghargaan?"is-invalid":null}),n.tgl_penghargaan&&t.tgl_penghargaan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tgl_penghargaan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsxs)(s.L,{children:["File Dokumentasi Penghargaan ",Object(u.jsx)("br",{}),"(Jika Ada)"]})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"dokumentasi",id:"dokumentasi",placeholder:"Masukkan file dokumentasi penghargaan",onChange:function(e){return j("dokumentasi",e.target.files[0])},onBlur:d,className:n.dokumentasi&&t.dokumentasi?"is-invalid":null}),n.dokumentasi&&t.dokumentasi&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.dokumentasi}),Object(u.jsx)(s.z,{children:"File bisa berupa pdf, jpg, jpeg, atau png"})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!k,children:k?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return r(!c)},children:"Batal"})]})]})}})})},Be=E()(B.a),Te=function(e){var a=e.dataActive,n=Object(i.useContext)(x.a),c=n.penghargaanUserState,l=n.penghargaanUserDispatch,o=n.userState,j=Object(i.useState)(!1),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useState)({modal:!1,id:null}),k=Object(t.a)(p,2),f=k[0],v=k[1],S=c.data,B=c.loading,T=o.data,E=Object(i.useState)({modal:!1,id:null}),P=Object(t.a)(E,2),F=P[0],L=P[1],z=Object(i.useState)({modal:!1,image:null}),K=Object(t.a)(z,2),R=K[0],A=K[1];Object(i.useEffect)((function(){S||"penghargaan"===a&&ye(l)}),[S,l,a]);var q=[{name:"Nama Penghargaan",selector:"nama_penghargaan",sortable:!0,wrap:!0},{name:"Pemberi",selector:"pemberi",sortable:!0,wrap:!0},{name:"Tgl. Penghargaan",selector:"tgl_penghargaan",sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tgl_penghargaan),"dd/MM/yyyy")})}},{maxWidth:"150px",name:"Action",sortable:!0,cell:function(e){return Object(u.jsx)("div",{"data-tag":"allowRowEvents",children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"info",className:"btn btn-sm",onClick:function(){return L(Object(g.a)(Object(g.a)({},F),{},{modal:!F.modal,id:e.id_penghargaan}))},children:Object(u.jsx)(y.a,{content:xe.a,color:"white"})}),Object(u.jsx)(s.f,{color:"success",className:"btn btn-sm",onClick:function(){return v(Object(g.a)(Object(g.a)({},f),{},{modal:!f.modal,id:e.id_penghargaan}))},children:Object(u.jsx)(y.a,{content:w.a,color:"white"})}),Object(u.jsx)(s.f,{color:"danger",className:"btn btn-sm",onClick:function(){return J(T.id_pegawai,e.id_penghargaan)},children:Object(u.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],J=function(e,a){Be.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/penghargaan/").concat(a)).then((function(e){t.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){ye(n)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.fire({icon:"danger",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}(e,a,l,Be)}))},G={headCells:{style:{fontSize:"1.15em"}}},I=function(e){var a=e.data,n=a.dokumentasi.split("/"),t=n[n.length-1],i=t.split("."),c=i[i.length-1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{style:{padding:"10px 63px"},children:Object(u.jsxs)(s.X,{className:"mb-1",children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)("strong",{children:"Dokumentasi"})}),Object(u.jsx)(s.n,{children:["jpg","jpeg","png"].includes(c.toLowerCase())?Object(u.jsx)("img",{width:200,src:Object(fe.a)(a.dokumentasi),alt:"dokumentasi-penghargaan",onClick:function(){return e=a.dokumentasi,void A(Object(g.a)(Object(g.a)({},R),{},{modal:!R.modal,image:e}));var e},style:{cursor:"pointer"}}):a.dokumentasi?Object(u.jsx)("a",{href:Object(fe.a)(a.dokumentasi),target:"_blank",rel:"noreferrer",children:t}):"Belum ada file"})]})})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"button-control mb-2 mt-4",children:[Object(u.jsx)(s.f,{color:"primary",className:"btn btn-md",onClick:function(){return m(!b)},children:"Tambah Penghargaan"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",onClick:function(){return Object(M.a)(T.id_pegawai,"penghargaan")},children:["Cetak ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(d.a)("laporan-pegawai/"+T.id_pegawai+"/penghargaan")},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]}),S.length>0?Object(u.jsx)(O.a,{columns:q,data:S,noHeader:!0,responsive:!0,customStyles:G,pagination:!0,expandableRows:!0,expandableRowsComponent:Object(u.jsx)(I,{}),expandOnRowClicked:!0,highlightOnHover:!0}):B?Object(u.jsx)(D.a,{}):Object(u.jsx)(O.a,{columns:q,data:S,noHeader:!0,responsive:!0,customStyles:G}),Object(u.jsxs)(s.N,{show:R.modal,onClose:function(){return A(Object(g.a)(Object(g.a)({},R),{},{modal:!R.modal,image:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Preview"})}),Object(u.jsx)(s.O,{children:R.image&&Object(u.jsx)("img",{style:{width:"100%"},src:Object(fe.a)(R.image),alt:"dokumentasi-penghargaan"})})]}),Object(u.jsxs)(s.N,{show:F.modal,onClose:function(){return L(Object(g.a)(Object(g.a)({},F),{},{modal:!F.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Detail Penghargaan"})}),Object(u.jsx)(s.x,{children:Object(u.jsx)(s.O,{children:Object(u.jsx)(ve,{id:F.id})})})]}),Object(u.jsxs)(s.N,{show:b,onClose:function(){return m(!b)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Data"})}),Object(u.jsx)(Ne,{id:T.id_pegawai,modal:b,setModal:m,dispatch:l})]}),Object(u.jsxs)(s.N,{show:f.modal,onClose:function(){return v(Object(g.a)(Object(g.a)({},f),{},{modal:!f.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Data"})}),Object(u.jsx)(Se,{idPegawai:T.id_pegawai,idPenghargaan:f.id,modal:f,setModal:v,dispatch:l})]})]})},Ee=n(660),De=n(676),Me=n(651),Pe=function(e,a){a({type:f.LOADING}),_.a.get("user/data-kepegawaian/".concat(e,"/riwayat-golongan")).then((function(e){console.log(e.data),a({type:f.SUCCESS,payload:e.data.data})})).catch((function(e){a({type:f.ERROR,payload:e.response.data}),console.log(e.response.data)}))},Fe=n(661),Le=n(689),ze=E()(B.a),Ke=function(e){var a=e.idPegawai,n=e.modal,c=e.setModal,l=e.dispatch,r=Object(i.useState)(!1),d=Object(t.a)(r,2),o=d[0],j=d[1],h=Object(i.useState)([]),b=Object(t.a)(h,2),m=b[0],p=b[1],g=Object(i.useContext)(x.a),k=g.dashboardDispatch,O=g.dataDiriDispatch;Object(i.useEffect)((function(){n&&Object(Le.d)(p)}),[n]);var f={jenis_kp:"",no_sk:"",tanggal:"",mk_tahun:"",mk_bulan:"",pejabat_penetap:"",pangkat_terkini:"",tmt_kenaikan_pangkat:"",file:void 0},v=function(){ze.fire({icon:"success",title:"Tambah Riwayat Golongan Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!1),Object(Ee.a)(O),Object(K.a)(k)}))},y=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ze.fire({icon:"error",title:"Tambah Riwayat Golongan Gagal",text:a}).then((function(e){j(!1)}))},w=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],N=F.c().shape({jenis_kp:F.e().required("Jenis kenaikan pangkat harus diisi"),pangkat_baru:F.e().required("Pangkat golongan harus diisi"),no_sk:F.e().required("No. SK harus diisi"),tanggal:F.e().required("Tanggal kenaikan pangkat harus diisi"),tmt_kenaikan_pangkat:F.e().required("TMT. Golongan harus diisi"),pejabat_penetap:F.e().required("Pejabata penetap harus diisi"),mk_tahun:F.e().required("Tahun harus diisi"),mk_bulan:F.e().required("Bulan harus diisi"),file:F.a().test("size","Kapasitas file maksimal 5 mb",(function(e){return!e||e&&e.size<=5048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, doc, dan docx",(function(e){return!e||e&&w.includes(e.type)}))}),C=Object(i.memo)((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"pangkat_terkini",checked:1===a.pangkat_terkini||"on"===a.pangkat_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsxs)(s.N,{show:n,onClose:function(){return c(!1)},children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Tambah Golongan"})}),Object(u.jsx)(L.a,{initialValues:f,validationSchema:N,onSubmit:function(e){var n=new FormData,t=e.pangkat_baru.split("-"),i=t[0],c=t[1],s=e.mk_tahun+" Tahun "+e.mk_bulan+" Bulan",r="on"===e.pangkat_terkini[0]?1:0;n.append("id_golongan",i),n.append("pangkat_baru",c),n.append("jenis_kp",e.jenis_kp),n.append("no_sk",e.no_sk),n.append("tanggal",e.tanggal),n.append("tmt_kenaikan_pangkat",e.tmt_kenaikan_pangkat),n.append("pejabat_penetap",e.pejabat_penetap),n.append("pangkat_terkini",r),n.append("masa_kerja",s),e.file&&n.append("file",e.file);var d,o=Object(P.a)(n.entries());try{for(o.s();!(d=o.n()).done;){var u=d.value;console.log(u)}}catch(h){o.e(h)}finally{o.f()}!function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/riwayat-golongan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){console.log(a.data),Pe(e,c),n(!1),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a,n,j,v,y,l)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,l=e.handleBlur,r=e.handleSubmit,d=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:r,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Jenis Kenaikan Pangkat"}),Object(u.jsxs)(s.Y,{name:"jenis_kp",onChange:i,onBlur:l,className:n.jenis_kp&&t.jenis_kp?"is-invalid":null,children:[Object(u.jsx)("option",{value:a.jenis_kp,children:"-- Pilih Jenis Kenaikan Pangkat --"}),Object(u.jsx)("option",{value:"Reguler",children:"Reguler"}),Object(u.jsx)("option",{value:"Jabatan Struktural",children:"Jabatan Struktural"}),Object(u.jsx)("option",{value:"Jabatan Fungsional",children:"Jabatan Fungsional"}),Object(u.jsx)("option",{value:"Penyesuaian Ijazah",children:"Penyesuaian Ijazah"})]}),n.jenis_kp&&t.jenis_kp&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.jenis_kp})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Pangkat / Golongan Baru"}),Object(u.jsxs)(s.Y,{name:"pangkat_baru",onChange:i,onBlur:l,className:n.pangkat_baru&&t.pangkat_baru?"is-invalid":null,children:[Object(u.jsx)("option",{value:a.pangkat_baru,children:"-- Pilih Pangkat --"}),m.map((function(e,a){return Object(u.jsxs)("option",{value:"".concat(e.id_pangkat_golongan,"-").concat(e.keterangan," (").concat(e.golongan,")"),children:[e.keterangan," (",e.golongan,")"]},a)}))]}),n.pangkat_baru&&t.pangkat_baru&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.pangkat_baru})]}),Object(u.jsx)(s.y,{children:Object(u.jsxs)(s.X,{children:[Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"No. SK"}),Object(u.jsx)(s.E,{type:"text",name:"no_sk",onChange:i,onBlur:l,className:n.no_sk&&t.no_sk?"is-invalid":null}),n.no_sk&&t.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.no_sk})]}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"Tgl. Kenaikan Pangkat"}),Object(u.jsx)(s.E,{type:"date",name:"tanggal",onChange:i,onBlur:l,className:n.tanggal&&t.tanggal?"is-invalid":null}),n.tanggal&&t.tanggal&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tanggal})]})]})}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"TMT. Golongan"}),Object(u.jsx)(s.E,{type:"date",name:"tmt_kenaikan_pangkat",onChange:i,onBlur:l,className:n.tmt_kenaikan_pangkat&&t.tmt_kenaikan_pangkat?"is-invalid":null}),n.tmt_kenaikan_pangkat&&t.tmt_kenaikan_pangkat&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.tmt_kenaikan_pangkat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Pejabat Penetap"}),Object(u.jsx)(s.E,{type:"text",name:"pejabat_penetap",onChange:i,onBlur:l,className:n.pejabat_penetap&&t.pejabat_penetap?"is-invalid":null}),n.pejabat_penetap&&t.pejabat_penetap&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.pejabat_penetap})]}),Object(u.jsx)(s.y,{children:Object(u.jsxs)(s.X,{children:[Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"Masa Kerja Golongan"}),Object(u.jsx)(s.E,{type:"number",name:"mk_tahun",min:"0",onChange:i,onBlur:l,placeholder:"Tahun",className:n.mk_tahun&&t.mk_tahun?"is-invalid":null}),Object(u.jsx)(s.z,{children:"Tahun"}),n.mk_tahun&&t.mk_tahun&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.mk_tahun})]}),Object(u.jsxs)(s.n,{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start"},children:[Object(u.jsx)(s.E,{type:"number",name:"mk_bulan",min:"0",onChange:i,onBlur:l,placeholder:"Bulan",className:n.mk_bulan&&t.mk_bulan?"is-invalid":null}),Object(u.jsx)(s.z,{children:"Bulan"}),n.mk_bulan&&t.mk_bulan&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.mk_bulan})]})]})}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Pangkat Terkini"}),Object(u.jsx)(C,{values:a,handleChange:i,handleBlur:l}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan pangkat Anda saat ini"}),n.pejabat_penetap&&t.pejabat_penetap&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.pejabat_penetap})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"File"}),Object(u.jsx)(s.E,{type:"file",name:"file",onChange:function(e){return d("file",e.target.files[0])},onBlur:l,className:n.file&&t.file?"is-invalid":null}),n.file&&t.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:n.file})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!o,children:o?Object(u.jsx)(Fe.a,{}):"Simpan"}),Object(u.jsx)(s.f,{color:"secondary",onClick:function(){return c(!1)},children:"Close"})]})]})}})]})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id_golongan:e?e.id_golongan:"",keterangan:e?e.keterangan:"",golongan:e?e.golongan:"",jenis_kp:e?e.jenis_kp:"",no_sk:e?e.no_sk:"",tanggal:e?e.tanggal:"",mk_tahun:e?parseInt(e.mk_tahun):"",mk_bulan:e?parseInt(e.mk_bulan):"",pejabat_penetap:e?e.pejabat_penetap:"",pangkat_terkini:e?e.pangkat_terkini:"",tmt_kenaikan_pangkat:e?e.tmt_kenaikan_pangkat:"",file:void 0}},Ae=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],qe=F.c().shape({jenis_kp:F.e().required("Jenis kenaikan pangkat harus diisi"),no_sk:F.e().required("No. SK harus diisi"),tanggal:F.e().required("Tanggal kenaikan pangkat harus diisi"),tmt_kenaikan_pangkat:F.e().required("TMT. Kenaikan pangkat harus diisi"),pejabat_penetap:F.e().required("Pejabata penetap harus diisi"),mk_tahun:F.e().required("Tahun harus diisi"),mk_bulan:F.e().required("Bulan harus diisi"),file:F.a().test("size","Kapasitas file maksimal 5 mb",(function(e){return!e||e&&e.size<=5048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, doc, dan docx",(function(e){return!e||e&&Ae.includes(e.type)}))}),Je=E()(B.a),Ge=function(e){var a=e.idPegawai,n=e.modalEdit,c=e.setModalEdit,l=e.dispatch,r=Object(i.useState)(""),d=Object(t.a)(r,2),o=d[0],j=d[1],h=Object(i.useState)(""),b=Object(t.a)(h,2),m=b[0],p=b[1],k=Object(i.useState)(""),O=Object(t.a)(k,2),f=O[0],v=O[1],y=Object(i.useState)(!1),w=Object(t.a)(y,2),N=w[0],C=w[1],S=Object(i.useState)(!1),B=Object(t.a)(S,2),T=B[0],E=B[1],D=Object(i.useContext)(x.a),M=D.dashboardDispatch,F=D.dataDiriDispatch;console.log(N),Object(i.useEffect)((function(){n.id&&function(e,a,n){_.a.get("user/data-kepegawaian/riwayat-golongan/".concat(a)).then((function(e){n(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}(0,n.id,v)}),[n,a]);var z=Object(i.useCallback)((function(){if(m){var e=m.name;j(e)}else j(n.data?Object(Me.a)(n.data.file):"")}),[m,n]);Object(i.useEffect)((function(){z()}),[z]),Object(i.useEffect)((function(){n.id&&(n.data.mk_tahun=R(n.data.masa_kerja).tahun,n.data.mk_bulan=R(n.data.masa_kerja).bulan,n.data.file=f.file,console.log(n.data))}),[n,f]);var R=function(e){var a=e.split(" ");return{tahun:a[0],bulan:a[2]}},A=function(){Je.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(Object(g.a)(Object(g.a)({},n),{},{id:"",modal:!1,data:""})),Object(K.a)(M),Object(Ee.a)(F)}))},q=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");Je.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){C(!1)}))},J=Object(i.memo)((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"pangkat_terkini",checked:1===a.pangkat_terkini||"on"===a.pangkat_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsxs)(s.N,{show:n.modal,onClose:function(){return c(Object(g.a)(Object(g.a)({},n),{},{modal:!1,id:"",data:""}))},children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Golongan"})}),Object(u.jsx)(L.a,{initialValues:Re(n.data),validationSchema:qe,enableReinitialize:!0,onSubmit:function(e){var a=new FormData,n="".concat(e.mk_tahun," Tahun ").concat(e.mk_bulan," Bulan"),t=1===e.pangkat_terkini||"on"===e.pangkat_terkini[0]?1:0;a.append("id_golongan",e.id_golongan),a.append("jenis_kp",e.jenis_kp),a.append("no_sk",e.no_sk),a.append("tanggal",e.tanggal),a.append("masa_kerja",n),a.append("pejabat_penetap",e.pejabat_penetap),a.append("pangkat_terkini",t),a.append("tmt_kenaikan_pangkat",e.tmt_kenaikan_pangkat),e.file&&a.append("file",e.file);var i,c=Object(P.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(r){c.e(r)}finally{c.f()}!function(e,a,n,t,i,c,s){t(!0),_.a.post("user/data-kepegawaian/riwayat-golongan/".concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){console.log(a.data),Pe(e,s),t(!1),i()})).catch((function(e){t(!1),console.log(e.response.data),c(e.response.data.errors)}))}(f.id_pegawai,f.id_rw_golongan,a,E,A,q,l)},children:function(e){var a=e.values,t=e.errors,i=e.touched,l=e.handleChange,r=e.handleBlur,d=e.handleSubmit,j=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:d,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Jenis Kenaikan Pangkat"}),Object(u.jsx)(s.E,{readOnly:!0,type:"text",value:a.jenis_kp})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Golongan"}),Object(u.jsx)(s.E,{readOnly:!0,type:"text",value:"".concat(a.keterangan," (").concat(a.golongan,")")})]}),Object(u.jsx)(s.y,{children:Object(u.jsxs)(s.X,{children:[Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"No. SK"}),Object(u.jsx)(s.E,{type:"text",name:"no_sk",onChange:l,onBlur:r,value:a.no_sk,className:t.no_sk&&i.no_sk?"is-invalid":null}),t.no_sk&&i.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.no_sk})]}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"Tgl. Kenaikan Pangkat"}),Object(u.jsx)(s.E,{type:"date",name:"tanggal",onChange:l,onBlur:r,value:a.tanggal,className:t.tanggal&&i.tanggal?"is-invalid":null}),t.tanggal&&i.tanggal&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tanggal})]})]})}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"TMT. Kenaikan Pangkat"}),Object(u.jsx)(s.E,{type:"date",name:"tmt_kenaikan_pangkat",onChange:l,onBlur:r,value:a.tmt_kenaikan_pangkat,className:t.tmt_kenaikan_pangkat&&i.tmt_kenaikan_pangkat?"is-invalid":null}),t.tmt_kenaikan_pangkat&&i.tmt_kenaikan_pangkat&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.tmt_kenaikan_pangkat})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Pejabat Penetap"}),Object(u.jsx)(s.E,{type:"text",name:"pejabat_penetap",onChange:l,onBlur:r,value:a.pejabat_penetap,className:t.pejabat_penetap&&i.pejabat_penetap?"is-invalid":null}),t.pejabat_penetap&&i.pejabat_penetap&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.pejabat_penetap})]}),Object(u.jsx)(s.y,{children:Object(u.jsxs)(s.X,{children:[Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.L,{children:"Masa Kerja Golongan"}),Object(u.jsx)(s.E,{type:"number",name:"mk_tahun",min:"0",onChange:l,onBlur:r,value:a.mk_tahun,placeholder:"Tahun",className:t.mk_tahun&&i.mk_tahun?"is-invalid":null}),Object(u.jsx)(s.z,{children:"Tahun"}),t.mk_tahun&&i.mk_tahun&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.mk_tahun})]}),Object(u.jsxs)(s.n,{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start"},children:[Object(u.jsx)(s.E,{type:"number",name:"mk_bulan",min:"0",onChange:l,onBlur:r,value:a.mk_bulan,placeholder:"Bulan",className:t.mk_bulan&&i.mk_bulan?"is-invalid":null}),Object(u.jsx)(s.z,{children:"Bulan"}),t.mk_bulan&&i.mk_bulan&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.mk_bulan})]})]})}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"Pangkat Terkini"}),Object(u.jsx)(J,{values:a,handleChange:l,handleBlur:r}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan pangkat Anda saat ini"}),t.pejabat_penetap&&i.pejabat_penetap&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.pejabat_penetap})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"File"}),Object(u.jsx)(s.E,{type:"file",name:"file",onChange:function(e){j("file",e.target.files[0]),function(e){e.target.files&&0!==e.target.files.length?p(e.target.files[0]):p(void 0)}(e)},onBlur:r,className:t.file&&i.file?"is-invalid":null}),Object(u.jsx)(s.z,{children:o}),t.file&&i.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.file})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!T,children:T?Object(u.jsx)(Fe.a,{}):"Simpan"}),Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return c(Object(g.a)(Object(g.a)({},n),{},{modal:!1,id:"",data:""}))},children:"Batal"})]})]})}})]})},Ie=E()(B.a),He=function(e){e.id;var a=e.dataActive,n=(e.dataDiriDispatch,e.pegawai,Object(i.useState)(!1)),c=Object(t.a)(n,2),l=c[0],o=c[1],j=Object(i.useState)({modal:!1,id:null}),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useContext)(x.a),k=p.riwayatGolonganState,f=p.riwayatGolonganDispatch,v=p.userState,S=k.data,B=k.loading,T=v.data;console.log(B),Object(i.useEffect)((function(){S||"riwayat-golongan"===a&&Pe(T.id_pegawai,f)}),[T,f,a,S]);var E=[{name:"No",selector:function(e){return e.no},sortable:!0,wrap:!0,width:"80px"},{name:"Golongan",wrap:!0,cell:function(e){return Object(u.jsxs)("div",{children:[e.keterangan," (",e.golongan,")"]})}},{name:"No. SK",selector:function(e){return e.no_sk},wrap:!0},{name:"Masa Kerja",selector:function(e){return e.masa_kerja},wrap:!0},{name:"TMT",selector:function(e){return e.tmt_kenaikan_pangkat},wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tmt_kenaikan_pangkat),"dd/MM/y")})}},{name:"Status",selector:function(e){return e.pangkat_terkini},sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:1===e.pangkat_terkini?Object(u.jsx)(s.b,{className:"p-1",color:"success",children:"Pangkat Terkini"}):""})}},{name:"Aksi",sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{"data-tag":"allowRowEvents",children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"info",size:"sm",onClick:function(){return m(Object(g.a)(Object(g.a)({},b),{},{modal:!0,id:e.id_rw_golongan,data:e}))},children:Object(u.jsx)(y.a,{content:w.a})}),Object(u.jsx)(s.f,{color:"danger",size:"sm",onClick:function(){return M(e.id_rw_golongan)},disabled:1===e.pangkat_terkini,children:Object(u.jsx)(y.a,{content:N.a})})]})})}}],M=function(e){Ie.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(a){var n,t,i,c;a.isConfirmed&&(n=T.id_pegawai,t=e,i=f,c=Ie,_.a.delete("user/data-kepegawaian/riwayat-golongan/".concat(t)).then((function(e){c.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(e){Pe(n,i)})),console.log(e.data)})).catch((function(e){console.log(e.response.data),c.fire({icon:"error",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})})))}))},P=function(e){var a=e.data;return Object(u.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)("strong",{children:"Jenis KP"})}),Object(u.jsx)(s.n,{children:a.jenis_kp})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)("strong",{children:"Pejabat Penetap"})}),Object(u.jsx)(s.n,{children:a.pejabat_penetap})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)("strong",{children:"Tanggal KP"})}),Object(u.jsx)(s.n,{children:Object(r.a)(new Date(a.tanggal),"dd/MM/y")})]}),Object(u.jsxs)(s.X,{children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)("strong",{children:"File"})}),Object(u.jsx)(s.n,{children:a.file?Object(u.jsx)("a",{href:Object(d.b)(a.file),target:"_blank",rel:"noreferrer",children:Object(Me.a)(a.file)}):"Belum ada file"})]})]})},F=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(u.jsx)(s.f,{color:"primary",onClick:function(){return o(!0)},children:"Tambah Golongan"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return Object(d.e)(T.id_pegawai)},children:["PDF ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(d.a)("riwayat-golongan/"+T.id_pegawai)},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]})})};return Object(u.jsxs)("div",{className:"mt-2",children:[S?Object(u.jsx)(O.a,{columns:E,data:S.data,noHeader:!0,responsive:!0,customStyles:De.a,pagination:!0,subHeader:!0,subHeaderComponent:Object(u.jsx)(F,{}),expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(u.jsx)(P,{}),highlightOnHover:!0}):Object(u.jsx)(D.a,{}),Object(u.jsx)(Ke,{modal:l,setModal:o,idPegawai:T.id_pegawai,dispatch:f}),Object(u.jsx)(Ge,{idPegawai:T.id_pegawai,modalEdit:b,setModalEdit:m,dispatch:f})]})},Ue=n(645),Xe=n(662),Ve=n(683),Ye=n(649),Qe=n(646),We=function(e,a,n){a(!0),_.a.get("user/data-kepegawaian/".concat(e,"/riwayat-sk")).then((function(e){console.log(e.data),n(e.data.data),a(!1)})).catch((function(e){console.log(e.response.data),a(!1)}))},Ze=function(e,a,n,t,i,c,s){t(!0),_.a.post("user/data-kepegawaian/".concat(e,"/riwayat-sk/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){console.log(a.data),We(e,t,i),t(!1),c()})).catch((function(e){console.log(e.response.data),s(e.response.data.errors)}))},$e=function(e,a,n){_.a.get("user/data-kepegawaian/".concat(e,"/riwayat-sk/").concat(a)).then((function(e){n(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))},ea=function(e,a,n,t,i,c){n(!0),_.a.post("user/data-kepegawaian/".concat(e,"/riwayat-sk"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){console.log(a.data),We(e,n,t),n(!1),i()})).catch((function(e){console.log(e.response.data),c(e.response.data.errors)}))},aa=E()(B.a),na=function(e){var a=e.modalEdit,n=e.setModalEdit,r=e.id_pegawai,d=e.id_riwayat_sk,o=e.setDataRiwayat,j=e.dataDiriDispatch,h=Object(i.useState)(!1),b=Object(t.a)(h,2),m=b[0],p=b[1],k=Object(i.useState)(""),O=Object(t.a)(k,2),f=O[0],_=O[1],v=Object(i.useState)([]),y=Object(t.a)(v,2),w=y[0],N=y[1],C=Object(i.useState)(!1),S=Object(t.a)(C,2),B=S[0],T=S[1],E=Object(i.useState)(""),D=Object(t.a)(E,2),M=D[0],z=D[1],R=Object(i.useContext)(x.a).dashboardDispatch;Object(i.useEffect)((function(){return d&&$e(r,d,z),function(){return z("")}}),[r,d]),Object(i.useEffect)((function(){a.modal&&Object(Qe.a)(N)}),[a]),Object(i.useEffect)((function(){M&&J(M.gaji_pokok)}),[M]);var A=c.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(w)}),[w]),q={no_sk:M?M.no_sk:"",penetap_sk:M?M.penetap_sk:"",tgl_penetapan_sk:M?M.tgl_penetapan_sk:"",tgl_mulai_tugas:M?M.tgl_mulai_tugas:"",tugas:M?M.tugas:"",gaji_pokok:M?M.gaji_pokok:"",sk_terkini:M?M.sk_terkini:"",file:void 0},J=function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});_("RpNaN"!==a?a:"")},G=function(){aa.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(Object(g.a)(Object(g.a)({},a),{},{modal:!a.modal,id:null})),Object(Ee.a)(j),Object(K.a)(R)}))},I=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");aa.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){p(!1)}))},H=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],U=F.c().shape({no_sk:F.e().required("No. SK baru harus diisi!"),penetap_sk:F.e().required("Penetap SK"),tgl_penetapan_sk:F.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:F.e().required("Tgl mulai tugas harus diisi!"),tugas:F.e().required("Tugas pokok (jabatan) harus diisi!"),gaji_pokok:F.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&H.includes(e.type)}))}),X={control:function(e,a){return Object(g.a)(Object(g.a)({},e),{},{border:B?"1px solid #e55353":e.border})}},V=c.a.memo((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"sk_terkini",checked:1===a.sk_terkini||"on"===a.sk_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsx)(u.Fragment,{children:M?Object(u.jsx)(L.a,{initialValues:q,validationSchema:U,enableReinitialize:!0,onSubmit:function(e){return function(e){var a=new FormData,n=1===e.sk_terkini||"on"===e.sk_terkini[0]?1:0;a.append("no_sk",e.no_sk),a.append("penetap_sk",e.penetap_sk),a.append("tgl_penetapan_sk",e.tgl_penetapan_sk),a.append("tgl_mulai_tugas",e.tgl_mulai_tugas),a.append("tugas",e.tugas),a.append("gaji_pokok",e.gaji_pokok),a.append("sk_terkini",n),e.file&&a.append("file",e.file);var t,i=Object(P.a)(a.entries());try{for(i.s();!(t=i.n()).done;){var c=t.value;console.log(c)}}catch(s){i.e(s)}finally{i.f()}Ze(r,d,a,p,o,G,I),_("")}(e)},children:function(e){var t=e.values,i=e.errors,c=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.handleReset,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"No. SK Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:r,onBlur:d,value:t.no_sk,className:i.no_sk&&c.no_sk?"is-invalid":null}),i.no_sk&&c.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Penetap SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:r,onBlur:d,value:t.penetap_sk,className:i.penetap_sk&&c.penetap_sk?"is-invalid":null}),i.penetap_sk&&c.penetap_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.penetap_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penetapan SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:r,onBlur:d,value:t.tgl_penetapan_sk,className:i.tgl_penetapan_sk&&c.tgl_penetapan_sk?"is-invalid":null}),i.tgl_penetapan_sk&&c.tgl_penetapan_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_penetapan_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Mulai Tugas"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 4 JAN s/d 31 DES 2021",onChange:r,onBlur:d,value:t.tgl_mulai_tugas,className:i.tgl_mulai_tugas&&c.tgl_mulai_tugas?"is-invalid":null}),i.tgl_mulai_tugas&&c.tgl_mulai_tugas&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_mulai_tugas})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tugas Pokok (Jabatan)"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(Ye.a,{styles:X,name:"tugas",id:"tugas",onChange:function(e){T(!1),h("tugas",e?e.value:"")},onFocus:function(){return T(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:A,defaultValue:{value:M?M.id_jabatan:"",label:M?M.nama_jabatan:""}}),!t.tugas&&B&&Object(u.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Gaji Pokok Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:r,onBlur:d,onKeyUp:function(e){return J(e.target.value)},value:t.gaji_pokok,className:i.gaji_pokok&&c.gaji_pokok?"is-invalid":null}),Object(u.jsx)("div",{className:"mt-1",children:f}),i.gaji_pokok&&c.gaji_pokok&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.gaji_pokok})]})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"SK Terkini"}),Object(u.jsx)(V,{values:t,handleChange:r,handleBlur:d}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan SK Anda saat ini"})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"File SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK baru",onChange:function(e){return h("file",e.target.files[0])},onBlur:d,className:i.file&&c.file?"is-invalid":null}),i.file&&c.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.file})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!m,onClick:function(){t.tugas?T(!1):T(!0)},children:m?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"submit",color:"warning",onClick:function(e){j(e),h("tugas","")},children:"Reset"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(Object(g.a)(Object(g.a)({},a),{},{modal:!1,id:null}))},children:"Batal"})]})]})}}):Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:l.c,alt:"load-animation"})})})})},ta=E()(B.a),ia=function(e){var a=e.modalTambah,n=e.setModalTambah,r=e.id_pegawai,d=e.setData,o=e.dataDiriDispatch,j=Object(i.useState)(!1),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useState)(""),k=Object(t.a)(p,2),O=k[0],f=k[1],_=Object(i.useState)([]),v=Object(t.a)(_,2),y=v[0],w=v[1],N=Object(i.useState)(!1),C=Object(t.a)(N,2),S=C[0],B=C[1],T=Object(i.useContext)(x.a).dashboardDispatch;Object(i.useEffect)((function(){a&&Object(Qe.a)(w)}),[a]);var E=c.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(y)}),[y]),D={no_sk:"",penetap_sk:"",tgl_penetapan_sk:"",tgl_mulai_tugas:"",tugas:"",gaji_pokok:"",sk_terkini:"",file:void 0},M=function(){ta.fire({icon:"success",title:"SK Berhasil Diperbarui",showConfirmButton:!1,timer:1500}).then((function(e){n(!a),Object(Ee.a)(o),Object(K.a)(T)}))},z=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ta.fire({icon:"error",title:"SK Gagal Diperbarui",text:a}).then((function(e){m(!1)}))},R=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],A=F.c().shape({no_sk:F.e().required("No. SK baru harus diisi!"),penetap_sk:F.e().required("Penetap SK"),tgl_penetapan_sk:F.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:F.e().required("Tgl mulai tugas harus diisi!"),tugas:F.e().required("Tugas pokok (jabatan) harus diisi!"),gaji_pokok:F.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&R.includes(e.type)}))}),q={control:function(e,a){return Object(g.a)(Object(g.a)({},e),{},{border:S?"1px solid #e55353":e.border})}},J=c.a.memo((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"sk_terkini",checked:1===a.sk_terkini||"on"===a.sk_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:D,validationSchema:A,enableReinitialize:!0,onSubmit:function(e){return function(e){var a=new FormData,n=1===e.sk_terkini||"on"===e.sk_terkini[0]?1:0;a.append("no_sk",e.no_sk),a.append("penetap_sk",e.penetap_sk),a.append("tgl_penetapan_sk",e.tgl_penetapan_sk),a.append("tgl_mulai_tugas",e.tgl_mulai_tugas),a.append("tugas",e.tugas),a.append("gaji_pokok",e.gaji_pokok),a.append("sk_terkini",n),e.file&&a.append("file",e.file);var t,i=Object(P.a)(a.entries());try{for(i.s();!(t=i.n()).done;){var c=t.value;console.log(c)}}catch(s){i.e(s)}finally{i.f()}ea(r,a,m,d,M,z),f("")}(e)},children:function(e){var t=e.values,i=e.errors,c=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.handleReset,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"No. SK Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:r,onBlur:d,value:t.no_sk,className:i.no_sk&&c.no_sk?"is-invalid":null}),i.no_sk&&c.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Penetap SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:r,onBlur:d,value:t.penetap_sk,className:i.penetap_sk&&c.penetap_sk?"is-invalid":null}),i.penetap_sk&&c.penetap_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.penetap_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penetapan SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:r,onBlur:d,value:t.tgl_penetapan_sk,className:i.tgl_penetapan_sk&&c.tgl_penetapan_sk?"is-invalid":null}),i.tgl_penetapan_sk&&c.tgl_penetapan_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_penetapan_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Mulai Tugas"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 4 JAN s/d 31 DES 2021",onChange:r,onBlur:d,value:t.tgl_mulai_tugas,className:i.tgl_mulai_tugas&&c.tgl_mulai_tugas?"is-invalid":null}),i.tgl_mulai_tugas&&c.tgl_mulai_tugas&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_mulai_tugas})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tugas Pokok (Jabatan)"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(Ye.a,{styles:q,name:"tugas",id:"tugas",onChange:function(e){B(!1),h("tugas",e?e.value:"")},onBlur:function(){return t.tugas?B(!1):B(!0)},onFocus:function(){return B(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:E}),!t.tugas&&S&&Object(u.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Gaji Pokok Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:r,onBlur:d,onKeyUp:function(e){return function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});f("RpNaN"!==a?a:"")}(e.target.value)},value:t.gaji_pokok,className:i.gaji_pokok&&c.gaji_pokok?"is-invalid":null}),Object(u.jsx)("div",{className:"mt-1",children:O}),i.gaji_pokok&&c.gaji_pokok&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.gaji_pokok})]})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"SK Terkini"}),Object(u.jsx)(J,{values:t,handleChange:r,handleBlur:d}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan SK Anda saat ini"})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"File SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK",onChange:function(e){return h("file",e.target.files[0])},onBlur:d,className:i.file&&c.file?"is-invalid":null}),i.file&&c.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.file})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!b,onClick:function(){t.tugas?B(!1):B(!0)},children:b?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"submit",color:"warning",onClick:function(e){j(e),h("tugas","")},children:"Reset"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(!a)},children:"Batal"})]})]})}})})},ca=function(e){var a=e.modalDetail,n=e.setModalDetail,c=e.id_pegawai,d=e.id_riwayat_sk,o=Object(i.useState)(""),j=Object(t.a)(o,2),h=j[0],b=j[1];return Object(i.useEffect)((function(){return d&&$e(c,d,b),function(){return b("")}}),[c,d]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.O,{children:h?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("table",{className:"table table-striped table-borderless",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"No. SK"}),Object(u.jsx)("td",{children:h.no_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Penetap SK"}),Object(u.jsx)("td",{children:h.penetap_sk})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(u.jsx)("td",{children:Object(r.a)(new Date(h.tgl_penetapan_sk),"dd/MM/y")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(u.jsx)("td",{children:h.tgl_mulai_tugas})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Tugas Pokok (Jabatan)"}),Object(u.jsx)("td",{children:h.nama_jabatan})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Gaji Pokok"}),Object(u.jsx)("td",{children:h.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"File SK"}),Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:Object(Xe.a)(h.file),target:"_blank",rel:"noreferrer",children:Object(Me.a)(h.file)})})]})]})})}):Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:l.c,alt:"load-animation"})})})}),Object(u.jsx)(s.P,{children:Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(Object(g.a)(Object(g.a)({},a),{},{modal:!1,id:null}))},children:"Tutup"})})]})},sa=E()(B.a),la=function(e){var a=e.modalTambah,n=e.setModalTambah,r=e.id_pegawai,d=e.setData,o=e.dataDiriDispatch,j=Object(i.useState)(!1),h=Object(t.a)(j,2),b=h[0],m=h[1],p=Object(i.useState)(""),k=Object(t.a)(p,2),O=k[0],f=k[1],_=Object(i.useState)([]),v=Object(t.a)(_,2),y=v[0],w=v[1],N=Object(i.useState)(!1),C=Object(t.a)(N,2),S=C[0],B=C[1],T=Object(i.useContext)(x.a).dashboardDispatch;Object(i.useEffect)((function(){a&&Object(Qe.a)(w)}),[a]);var E=c.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(y)}),[y]),D={no_sk:"",penetap_sk:"",tgl_penetapan_sk:"",tgl_mulai_tugas:"",tugas:"",kontrak_ke:"",masa_kerja_tahun:"",masa_kerja_bulan:"",gaji_pokok:"",sk_terkini:"",file:void 0},M=function(){sa.fire({icon:"success",title:"SK Berhasil Diperbarui",showConfirmButton:!1,timer:1500}).then((function(e){n(!a),Object(Ee.a)(o),Object(K.a)(T)}))},z=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");sa.fire({icon:"error",title:"SK Gagal Diperbarui",text:a}).then((function(e){m(!1)}))},R=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],A=F.c().shape({no_sk:F.e().required("No. SK baru harus diisi!"),penetap_sk:F.e().required("Penetap SK"),tgl_penetapan_sk:F.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:F.e().required("Tgl mulai tugas harus diisi!"),tugas:F.e().required("Tugas pokok (jabatan) harus diisi!"),kontrak_ke:F.e().required("Kontrak baru harus diisi!"),masa_kerja_tahun:F.e().required("Tahun harus diisi!"),masa_kerja_bulan:F.e().required("Bulan harus diisi!"),gaji_pokok:F.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&R.includes(e.type)}))}),q={control:function(e,a){return Object(g.a)(Object(g.a)({},e),{},{border:S?"1px solid #e55353":e.border})}},J=c.a.memo((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"sk_terkini",checked:1===a.sk_terkini||"on"===a.sk_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(L.a,{initialValues:D,validationSchema:A,enableReinitialize:!0,onSubmit:function(e){return function(e){var a=new FormData,n="".concat(e.masa_kerja_tahun," Tahun ").concat(e.masa_kerja_bulan," Bulan"),t=1===e.sk_terkini||"on"===e.sk_terkini[0]?1:0;a.append("no_sk",e.no_sk),a.append("penetap_sk",e.penetap_sk),a.append("tgl_penetapan_sk",e.tgl_penetapan_sk),a.append("tgl_mulai_tugas",e.tgl_mulai_tugas),a.append("tugas",e.tugas),a.append("kontrak_ke",e.kontrak_ke),a.append("masa_kerja",n),a.append("gaji_pokok",e.gaji_pokok),a.append("sk_terkini",t),e.file&&a.append("file",e.file);var i,c=Object(P.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(l){c.e(l)}finally{c.f()}ea(r,a,m,d,M,z),f("")}(e)},children:function(e){var t=e.values,i=e.errors,c=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.handleReset,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"No. SK Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:r,onBlur:d,value:t.no_sk,className:i.no_sk&&c.no_sk?"is-invalid":null}),i.no_sk&&c.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Penetap SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:r,onBlur:d,value:t.penetap_sk,className:i.penetap_sk&&c.penetap_sk?"is-invalid":null}),i.penetap_sk&&c.penetap_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.penetap_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penetapan SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:r,onBlur:d,value:t.tgl_penetapan_sk,className:i.tgl_penetapan_sk&&c.tgl_penetapan_sk?"is-invalid":null}),i.tgl_penetapan_sk&&c.tgl_penetapan_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_penetapan_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Mulai Tugas"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 01 Januari s/d 31 Desember 2021",onChange:r,onBlur:d,value:t.tgl_mulai_tugas,className:i.tgl_mulai_tugas&&c.tgl_mulai_tugas?"is-invalid":null}),i.tgl_mulai_tugas&&c.tgl_mulai_tugas&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_mulai_tugas})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tugas Pokok (Jabatan)"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(Ye.a,{styles:q,name:"tugas",id:"tugas",onChange:function(e){B(!1),h("tugas",e?e.value:"")},onBlur:function(){return t.tugas?B(!1):B(!0)},onFocus:function(){return B(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:E}),!t.tugas&&S&&Object(u.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Kontrak Ke"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"kontrak_ke",id:"kontrak_ke",placeholder:"Masukkan kontrak baru",min:"0",onChange:r,onBlur:d,value:t.kontrak_ke||0,className:i.kontrak_ke&&c.kontrak_ke?"is-invalid":null}),i.kontrak_ke&&c.kontrak_ke&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.kontrak_ke})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Masa Kerja"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"masa_kerja_tahun",id:"masa_kerja_tahun",min:"0",placeholder:"Masukkan tahun",onChange:r,onBlur:d,value:t.masa_kerja_tahun||0,className:i.masa_kerja_tahun&&c.masa_kerja_tahun?"is-invalid":null}),i.masa_kerja_tahun&&c.masa_kerja_tahun&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_tahun})]}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"masa_kerja_bulan",id:"masa_kerja_bulan",min:"0",placeholder:"Masukkan bulan",onChange:r,onBlur:d,value:t.masa_kerja_bulan||0,className:i.masa_kerja_bulan&&c.masa_kerja_bulan?"is-invalid":null}),i.masa_kerja_bulan&&c.masa_kerja_bulan&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_bulan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Gaji Pokok Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:r,onBlur:d,onKeyUp:function(e){return function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});f("RpNaN"!==a?a:"")}(e.target.value)},value:t.gaji_pokok,className:i.gaji_pokok&&c.gaji_pokok?"is-invalid":null}),Object(u.jsx)("div",{className:"mt-1",children:O}),i.gaji_pokok&&c.gaji_pokok&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.gaji_pokok})]})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"SK Terkini"}),Object(u.jsx)(J,{values:t,handleChange:r,handleBlur:d}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan SK Anda saat ini"})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"File SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK",onChange:function(e){return h("file",e.target.files[0])},onBlur:d,className:i.file&&c.file?"is-invalid":null}),i.file&&c.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.file})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!b,onClick:function(){t.tugas?B(!1):B(!0)},children:b?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"submit",color:"warning",onClick:function(e){j(e),h("tugas","")},children:"Reset"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(!a)},children:"Batal"})]})]})}})})},ra=E()(B.a),da=function(e){var a=e.modalEdit,n=e.setModalEdit,r=e.id_pegawai,d=e.id_riwayat_sk,o=e.setDataRiwayat,j=e.dataDiriDispatch,h=Object(i.useState)(!1),b=Object(t.a)(h,2),m=b[0],p=b[1],k=Object(i.useState)(""),O=Object(t.a)(k,2),f=O[0],_=O[1],v=Object(i.useState)([]),y=Object(t.a)(v,2),w=y[0],N=y[1],C=Object(i.useState)(!1),S=Object(t.a)(C,2),B=S[0],T=S[1],E=Object(i.useState)(""),D=Object(t.a)(E,2),M=D[0],z=D[1],R=Object(i.useContext)(x.a).dashboardDispatch;Object(i.useEffect)((function(){return d&&$e(r,d,z),function(){return z("")}}),[r,d]),Object(i.useEffect)((function(){a.modal&&Object(Qe.a)(N)}),[a]),Object(i.useEffect)((function(){M&&G(M.gaji_pokok)}),[M]);var A=c.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_jabatan,label:e.nama_jabatan})})),a}(w)}),[w]),q=function(e){var a=e.split(" ");return{tahun:a[0],bulan:a[2]}},J={no_sk:M?M.no_sk:"",penetap_sk:M?M.penetap_sk:"",tgl_penetapan_sk:M?M.tgl_penetapan_sk:"",tgl_mulai_tugas:M?M.tgl_mulai_tugas:"",tugas:M?M.tugas:"",kontrak_ke:M?M.kontrak_ke:"",masa_kerja_tahun:M?q(M.masa_kerja).tahun:"",masa_kerja_bulan:M?q(M.masa_kerja).bulan:"",gaji_pokok:M?M.gaji_pokok:"",sk_terkini:M?M.sk_terkini:"",file:void 0},G=function(e){var a=parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR"});_("RpNaN"!==a?a:"")},I=function(){ra.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(Object(g.a)(Object(g.a)({},a),{},{modal:!a.modal,id:null})),Object(Ee.a)(j),Object(K.a)(R)}))},H=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ra.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){p(!1)}))},U=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],X=F.c().shape({no_sk:F.e().required("No. SK baru harus diisi!"),penetap_sk:F.e().required("Penetap SK"),tgl_penetapan_sk:F.e().required("Tgl penatapan harus diisi!"),tgl_mulai_tugas:F.e().required("Tgl mulai tugas harus diisi!"),tugas:F.e().required("Tugas pokok (jabatan) harus diisi!"),kontrak_ke:F.e().required("Kontrak ke harus diisi!"),masa_kerja_tahun:F.e().required("Tahun harus diisi!"),masa_kerja_bulan:F.e().required("Bulan harus diisi!"),gaji_pokok:F.b().typeError("Gaji pokok baru harus berupa bilangan").integer().required("Gaji pokok baru harus diisi!"),file:F.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=1048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, docx, atau doc",(function(e){return!e||e&&U.includes(e.type)}))}),V={control:function(e,a){return Object(g.a)(Object(g.a)({},e),{},{border:B?"1px solid #e55353":e.border})}},Y=c.a.memo((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",{type:"checkbox",name:"sk_terkini",checked:1===a.sk_terkini||"on"===a.sk_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(u.jsx)(u.Fragment,{children:M?Object(u.jsx)(L.a,{initialValues:J,validationSchema:X,enableReinitialize:!0,onSubmit:function(e){var a=new FormData,n="".concat(e.masa_kerja_tahun," Tahun ").concat(e.masa_kerja_bulan," Bulan"),t=1===e.sk_terkini||"on"===e.sk_terkini[0]?1:0;a.append("no_sk",e.no_sk),a.append("penetap_sk",e.penetap_sk),a.append("tgl_penetapan_sk",e.tgl_penetapan_sk),a.append("tgl_mulai_tugas",e.tgl_mulai_tugas),a.append("tugas",e.tugas),a.append("kontrak_ke",e.kontrak_ke),a.append("masa_kerja",n),a.append("gaji_pokok",e.gaji_pokok),a.append("sk_terkini",t),e.file&&a.append("file",e.file);var i,c=Object(P.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var s=i.value;console.log(s)}}catch(l){c.e(l)}finally{c.f()}Ze(r,d,a,p,o,I,H),_("")},children:function(e){var t=e.values,i=e.errors,c=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,j=e.handleReset,h=e.setFieldValue;return Object(u.jsxs)(s.x,{onSubmit:o,children:[Object(u.jsxs)(s.O,{children:[Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"No. SK Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"no_sk",id:"no_sk",placeholder:"Masukkan No. SK baru",onChange:r,onBlur:d,value:t.no_sk,className:i.no_sk&&c.no_sk?"is-invalid":null}),i.no_sk&&c.no_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Penetap SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"penetap_sk",id:"penetap_sk",placeholder:"Masukkan penetap SK",onChange:r,onBlur:d,value:t.penetap_sk,className:i.penetap_sk&&c.penetap_sk?"is-invalid":null}),i.penetap_sk&&c.penetap_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.penetap_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Penetapan SK"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"date",name:"tgl_penetapan_sk",id:"tgl_penetapan_sk",placeholder:"Masukkan tgl penetapan SK",onChange:r,onBlur:d,value:t.tgl_penetapan_sk,className:i.tgl_penetapan_sk&&c.tgl_penetapan_sk?"is-invalid":null}),i.tgl_penetapan_sk&&c.tgl_penetapan_sk&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_penetapan_sk})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tgl. Mulai Tugas"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"tgl_mulai_tugas",id:"tgl_mulai_tugas",placeholder:"Contoh: 01 Januari s/d 31 Desember 2021",onChange:r,onBlur:d,value:t.tgl_mulai_tugas,className:i.tgl_mulai_tugas&&c.tgl_mulai_tugas?"is-invalid":null}),i.tgl_mulai_tugas&&c.tgl_mulai_tugas&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.tgl_mulai_tugas})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Tugas Pokok (Jabatan)"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(Ye.a,{styles:V,name:"tugas",id:"tugas",onChange:function(e){T(!1),h("tugas",e?e.value:"")},onFocus:function(){return T(!0)},placeholder:"-- Pilih Tugas --",isSearchable:!0,isClearable:!0,options:A,defaultValue:{value:M?M.id_jabatan:"",label:M?M.nama_jabatan:""}}),!t.tugas&&B&&Object(u.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Tugas pokok (jabatan) harus diisi"})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Kontrak Ke"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"kontrak_ke",id:"kontrak_ke",placeholder:"Masukkan kontrak baru",min:"0",onChange:r,onBlur:d,value:t.kontrak_ke||0,className:i.kontrak_ke&&c.kontrak_ke?"is-invalid":null}),i.kontrak_ke&&c.kontrak_ke&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.kontrak_ke})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Masa Kerja"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"masa_kerja_tahun",id:"masa_kerja_tahun",min:"0",placeholder:"Masukkan tahun",onChange:r,onBlur:d,value:t.masa_kerja_tahun||0,className:i.masa_kerja_tahun&&c.masa_kerja_tahun?"is-invalid":null}),i.masa_kerja_tahun&&c.masa_kerja_tahun&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_tahun})]}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"number",name:"masa_kerja_bulan",id:"masa_kerja_bulan",min:"0",placeholder:"Masukkan bulan",onChange:r,onBlur:d,value:t.masa_kerja_bulan||0,className:i.masa_kerja_bulan&&c.masa_kerja_bulan?"is-invalid":null}),i.masa_kerja_bulan&&c.masa_kerja_bulan&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.masa_kerja_bulan})]})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"Gaji Pokok Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"text",name:"gaji_pokok",id:"gaji_pokok",placeholder:"Masukkan gaji pokok",onChange:r,onBlur:d,onKeyUp:function(e){return G(e.target.value)},value:t.gaji_pokok,className:i.gaji_pokok&&c.gaji_pokok?"is-invalid":null}),Object(u.jsx)("div",{className:"mt-1",children:f}),i.gaji_pokok&&c.gaji_pokok&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.gaji_pokok})]})]}),Object(u.jsxs)(s.y,{children:[Object(u.jsx)(s.L,{children:"SK Terkini"}),Object(u.jsx)(Y,{values:t,handleChange:r,handleBlur:d}),Object(u.jsx)(s.z,{children:"Cek apabila merupakan SK Anda saat ini"})]}),Object(u.jsxs)(s.y,{row:!0,children:[Object(u.jsx)(s.n,{md:"3",children:Object(u.jsx)(s.L,{children:"File SK Baru"})}),Object(u.jsxs)(s.n,{children:[Object(u.jsx)(s.E,{type:"file",name:"file",id:"file",placeholder:"Masukkan file SK baru",onChange:function(e){return h("file",e.target.files[0])},onBlur:d,className:i.file&&c.file?"is-invalid":null}),i.file&&c.file&&Object(u.jsx)("div",{className:"invalid-feedback",children:i.file})]})]})]}),Object(u.jsxs)(s.P,{children:[Object(u.jsx)(s.f,{type:"submit",color:"primary",disabled:!!m,onClick:function(){t.tugas?T(!1):T(!0)},children:m?Object(u.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(u.jsx)(s.f,{type:"submit",color:"warning",onClick:function(e){j(e),h("tugas","")},children:"Reset"})," ",Object(u.jsx)(s.f,{type:"button",color:"secondary",onClick:function(){return n(Object(g.a)(Object(g.a)({},a),{},{modal:!1,id:null}))},children:"Batal"})]})]})}}):Object(u.jsx)(s.X,{children:Object(u.jsx)(s.n,{className:"text-center",children:Object(u.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:l.c,alt:"load-animation"})})})})},oa=E()(B.a),ja=function(e){var a=e.id,n=e.dataActive,c=e.dataDiriDispatch,l=e.pegawai,d=Object(i.useState)(!1),o=Object(t.a)(d,2),j=o[0],h=o[1],b=Object(i.useState)(null),m=Object(t.a)(b,2),p=m[0],k=m[1],f=Object(i.useState)(!1),v=Object(t.a)(f,2),S=v[0],B=v[1],T=Object(i.useContext)(x.a).userState.data;console.log(S);var E=Object(i.useState)({modal:!1,id:null}),M=Object(t.a)(E,2),P=M[0],F=M[1],L=Object(i.useState)({modal:!1,id:null}),z=Object(t.a)(L,2),K=z[0],R=z[1];Object(i.useEffect)((function(){p||"riwayat-sk"===n&&We(T.id_pegawai,B,k)}),[a,p,n,T]);var A=[{name:"No. SK",selector:"no_sk",sortable:!0,wrap:!0},{name:"Penetap SK",selector:"penetap_sk",sortable:!0,wrap:!0},{name:"Tgl. Penetapan SK",selector:"tgl_penetapan_sk",sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:Object(r.a)(new Date(e.tgl_penetapan_sk),"dd/MM/y")})}},{name:"Tgl. Mulai Tugas",selector:"tgl_mulai_tugas",sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:e.tgl_mulai_tugas})}},{name:"Status",selector:function(e){return e.sk_terkini},sortable:!0,wrap:!0,cell:function(e){return Object(u.jsx)("div",{children:1===e.sk_terkini?Object(u.jsx)(s.b,{className:"p-1",color:"success",children:"SK Terkini"}):""})}},{name:"Action",sortable:!0,cell:function(e){return Object(u.jsx)("div",{"data-tag":"allowRowEvents",children:Object(u.jsxs)(s.g,{children:[Object(u.jsx)(s.f,{color:"info",size:"sm",onClick:function(){R(Object(g.a)(Object(g.a)({},K),{},{modal:!K.modal,id:e.id_riwayat_sk}))},className:"text-white",children:Object(u.jsx)(y.a,{content:xe.a})}),Object(u.jsx)(s.f,{color:"warning",size:"sm",onClick:function(){F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,id:e.id_riwayat_sk}))},className:"text-white",children:Object(u.jsx)(y.a,{content:w.a})}),Object(u.jsx)(s.f,{disabled:1===e.sk_terkini,color:"danger",size:"sm",onClick:function(){return q(e.id_riwayat_sk)},children:Object(u.jsx)(y.a,{content:N.a})})]})})}}],q=function(e){oa.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(a){a.isConfirmed&&(!function(e,a,n,t){_.a.delete("user/data-kepegawaian/".concat(e,"/riwayat-sk/").concat(a)).then((function(a){We(e,n,t),console.log(a.data)})).catch((function(e){console.log(e.response.data)}))}(T.id_pegawai,e,B,k),oa.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}))}))},J=function(){return Object(u.jsxs)("div",{style:{width:"100%"},className:"d-flex justify-content-between",children:[Object(u.jsx)(s.f,{type:"button",color:"primary",className:"ml-2",onClick:function(){return h(!0)},children:"Tambah Riwayat SK"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(s.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return Object(Ve.a)(T.id_pegawai)},children:["PDF ",Object(u.jsx)(y.a,{content:C.a})]}),Object(u.jsxs)(s.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(Ue.a)("riwayat-sk/"+T.id_pegawai)},children:["Excel ",Object(u.jsx)(y.a,{content:C.a})]})]})]})},G=function(e){var a=e.data;return Object(u.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(u.jsxs)(s.X,{className:"mb-1",children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Gaji Pokok"})}),Object(u.jsx)(s.n,{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]}),Object(u.jsxs)(s.X,{className:"mb-1",children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"Tugas"})}),Object(u.jsx)(s.n,{children:a.nama_jabatan})]}),Object(u.jsxs)(s.X,{className:"mb-1",children:[Object(u.jsx)(s.n,{md:"2",children:Object(u.jsx)("strong",{children:"File SK"})}),Object(u.jsx)(s.n,{children:a.file?Object(u.jsx)("a",{href:Object(Xe.a)(a.file),target:"_blank",rel:"noreferrer",children:Object(Me.a)(a.file)}):"Belum ada file"})]})]})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mt-2",children:p?Object(u.jsx)(O.a,{columns:A,data:p,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},pagination:!0,subHeader:!0,subHeaderComponent:Object(u.jsx)(J,{}),highlightOnHover:!0,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(u.jsx)(G,{})}):Object(u.jsx)(D.a,{})}),Object(u.jsxs)(s.N,{show:j,onClose:function(){return h(!j)},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Perbarui SK"})}),2===l.id_status_pegawai?Object(u.jsx)(ia,{modalTambah:j,setModalTambah:h,setData:k,id_pegawai:T.id_pegawai,dataDiriDispatch:c}):Object(u.jsx)(la,{modalTambah:j,setModalTambah:h,setData:k,id_pegawai:T.id_pegawai,dataDiriDispatch:c})]}),Object(u.jsxs)(s.N,{show:P.modal,onClose:function(){F(Object(g.a)(Object(g.a)({},P),{},{modal:!P.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Edit Riwayat SK"})}),2===l.id_status_pegawai?Object(u.jsx)(na,{id_riwayat_sk:P.id,id_pegawai:T.id_pegawai,modalEdit:P,setDataRiwayat:k,setModalEdit:F,dataDiriDispatch:c}):Object(u.jsx)(da,{id_riwayat_sk:P.id,id_pegawai:T.id_pegawai,modalEdit:P,setDataRiwayat:k,setModalEdit:F,dataDiriDispatch:c})]}),Object(u.jsxs)(s.N,{show:K.modal,onClose:function(){R(Object(g.a)(Object(g.a)({},K),{},{modal:!K.modal,id:null}))},size:"lg",children:[Object(u.jsx)(s.Q,{closeButton:!0,children:Object(u.jsx)(s.R,{children:"Detail Riwayat SK"})}),Object(u.jsx)(ca,{id_riwayat_sk:K.id,id_pegawai:T.id_pegawai,modalDetail:K,setModalDetail:R})]})]})};a.default=function(){var e=Object(i.useContext)(x.a),a=e.dataDiriState,n=e.dataDiriDispatch,c=a.data,l=Object(i.useState)("data-diri"),r=Object(t.a)(l,2),d=r[0],o=r[1];return Object(i.useEffect)((function(){c||Object(Ee.a)(n)}),[n,c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(s.h,{children:[Object(u.jsx)(s.l,{className:"d-flex justify-content-between",children:Object(u.jsx)("h3",{children:"Data Kepegawaian"})}),Object(u.jsx)(s.i,{children:Object(u.jsxs)(s.kb,{activeTab:"data-diri",onActiveTabChange:function(e){return o(e)},children:[Object(u.jsxs)(s.S,{variant:"tabs",children:[Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"data-diri",children:"Data Diri"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"keluarga",children:"Keluarga"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"pendidikan",children:"Pendidikan"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"diklat",children:"Diklat / Pelatihan"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"riwayat-kerja",children:"Riwayat Kerja"})}),c&&1===c.id_status_pegawai&&Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"riwayat-golongan",children:"Golongan"})}),c&&(2===c.id_status_pegawai||3===c.id_status_pegawai)&&Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"riwayat-sk",children:"Riwayat SK"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"penghargaan",children:"Penghargaan"})}),Object(u.jsx)(s.T,{children:Object(u.jsx)(s.U,{"data-tab":"berkas",children:"Berkas"})})]}),Object(u.jsxs)(s.ib,{children:[Object(u.jsx)(s.jb,{"data-tab":"data-diri",children:Object(u.jsx)(p,{data:c})}),Object(u.jsx)(s.jb,{"data-tab":"keluarga",children:Object(u.jsx)(I,{dataActive:d})}),Object(u.jsx)(s.jb,{"data-tab":"pendidikan",children:Object(u.jsx)(W,{dataActive:d})}),Object(u.jsx)(s.jb,{"data-tab":"diklat",children:Object(u.jsx)(ce,{dataActive:d})}),Object(u.jsx)(s.jb,{"data-tab":"riwayat-kerja",children:Object(u.jsx)(he,{dataActive:d})}),c&&1===c.id_status_pegawai&&Object(u.jsx)(s.jb,{"data-tab":"riwayat-golongan",children:Object(u.jsx)(He,{id:localStorage.id_user,dataActive:d,dataDiriDispatch:n,pegawai:c})}),c&&(2===c.id_status_pegawai||3===c.id_status_pegawai)&&Object(u.jsx)(s.jb,{"data-tab":"riwayat-sk",children:Object(u.jsx)(ja,{id:localStorage.id_user,dataActive:d,dataDiriDispatch:n,pegawai:c})}),Object(u.jsx)(s.jb,{"data-tab":"penghargaan",children:Object(u.jsx)(Te,{dataActive:d})}),Object(u.jsx)(s.jb,{"data-tab":"berkas",children:Object(u.jsx)(Oe,{dataActive:d})})]})]})})]})})}},646:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e){t.a.get("jabatan").then((function(a){e(a.data.data)})).catch((function(e){}))}},647:function(e,a,n){"use strict";var t=n(628),i=(n(1),n(629)),c=n(17);a.a=function(){return Object(c.jsx)(t.X,{className:"mb-3",children:Object(c.jsx)(t.n,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.c,alt:"load-animation"})})})}},651:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/");return a[a.length-1]}},652:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e){t.a.get("agama").then((function(a){e(a.data.data)})).catch((function(e){}))}},654:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=n(40),i=n(626),c=function(e){e({type:t.DASHBOARD_LOADING}),i.a.get("user/dashboard").then((function(a){e({type:t.DASHBOARD_SUCCESS,payload:a.data.data}),console.log(a.data)})).catch((function(a){e({type:t.DASHBOARD_ERROR,payload:a.response.data.message}),console.log(a.response.data)}))}},656:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},660:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=n(40),i=n(626),c=function(e){e({type:t.LOADING}),i.a.get("user/data-kepegawaian/data-diri").then((function(a){console.log(a.data),e({type:t.SUCCESS,payload:a.data.data})})).catch((function(a){e({type:t.ERROR,payload:a.response.data}),console.log(a.response.data)}))}},661:function(e,a,n){"use strict";n(1);var t=n(629),i=n(17);a.a=function(){return Object(i.jsx)("img",{width:21,src:t.d,alt:"load-animation"})}},662:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"sk/").concat(n)}},664:function(e,a,n){"use strict";a.a=function(e,a){window.open("".concat(localStorage.baseURL,"print-pegawai/").concat(e,"/").concat(a),"_blank")}},668:function(e,a,n){"use strict";var t=n(748);a.a=function(e){var a=Object(t.a)(new Date(e),"d"),n=Object(t.a)(new Date(e),"MMM"),i=Object(t.a)(new Date(e),"y"),c="";switch(n){case"Jan":c="Januari";break;case"Feb":c="Februari";break;case"Mar":c="Maret";break;case"Apr":c="April";break;case"May":c="Mei";break;case"Jun":c="Juni";break;case"Jul":c="Juli";break;case"Aug":c="Agustus";break;case"Sep":c="September";break;case"Oct":c="Oktober";break;case"Nov":c="November";break;case"Dec":c="Desember"}return"".concat(a," ").concat(c," ").concat(i)}},673:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},675:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"dok_penghargaan/").concat(n)}},676:function(e,a,n){"use strict";a.a={headCells:{style:{fontSize:"1.15em"}}}},683:function(e,a,n){"use strict";a.a=function(e){window.open("".concat(localStorage.baseURL,"print-riwayat-sk/").concat(e),"_blank")}},689:function(e,a,n){"use strict";n.d(a,"a",(function(){return i})),n.d(a,"b",(function(){return c})),n.d(a,"e",(function(){return s})),n.d(a,"c",(function(){return l})),n.d(a,"d",(function(){return r}));var t=n(626),i=function(e){t.a.get("user/master-data/agama").then((function(a){e(a.data.data)})).catch((function(e){}))},c=function(e){t.a.get("user/master-data/bidang").then((function(a){e(a.data.data)})).catch((function(e){}))},s=function(e){t.a.get("user/master-data/jabatan").then((function(a){e(a.data.data)})).catch((function(e){}))},l=function(e){t.a.get("user/master-data/eselon").then((function(a){e(a.data.data)})).catch((function(e){}))},r=function(e){t.a.get("user/master-data/golongan").then((function(a){e(a.data.data)})).catch((function(e){}))}},736:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"dok_diklat/").concat(n)}},737:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"berkas/").concat(n)}}}]);
//# sourceMappingURL=14.74ccdccf.chunk.js.map