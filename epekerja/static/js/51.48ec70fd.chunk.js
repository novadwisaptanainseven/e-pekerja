(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[51],{1050:function(e,a,t){"use strict";t.r(a);var n=t(2),i=t(642),r=t(10),s=t(628),c=t(1),o=t.n(c),l=t(20),u=t(632),d=t.n(u),m=t(633),j=t.n(m),h=t(637),b=t(636),g=t(678),f=t(654),p=t(693),x=t(626),O=t(17),w=j()(d.a);a.default=function(){var e=Object(l.g)(),a=Object(c.useState)([]),t=Object(r.a)(a,2),u=t[0],d=t[1],m=Object(c.useState)(!1),j=Object(r.a)(m,2),k=j[0],v=j[1],y=Object(c.useState)(!1),S=Object(r.a)(y,2),_=S[0],C=S[1];Object(c.useEffect)((function(){Object(g.a)(d)}),[]);var N=o.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_pegawai,label:e.nama})})),a}(u)}),[u]),G=function(){w.fire({icon:"success",title:"Mutasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(a){e.push("/epekerja/admin/mutasi")}))},M=function(e){var a="";for(var t in e)a+="".concat(e[t],", ");w.fire({icon:"error",title:"Mutasi Gagal",text:a}).then((function(e){v(!1)}))},B=h.c().shape({id_pegawai:h.e().required("Pegawai harus diisi"),tgl_mutasi:h.e().required("Tanggal mutasi harus diisi"),keterangan:h.e().required("Keterangan / alasan mutasi harus diisi")}),D={control:function(e,a){return Object(n.a)(Object(n.a)({},e),{},{border:_?"1px solid #e55353":e.border})}};return Object(O.jsxs)(s.h,{children:[Object(O.jsxs)(s.l,{className:"d-flex justify-content-between",children:[Object(O.jsx)("h3",{children:"Tambah Data Mutasi"}),Object(O.jsx)(s.f,{type:"button",color:"warning",className:"text-white",onClick:function(){e.goBack()},children:"Kembali"})]}),Object(O.jsx)(b.a,{initialValues:{id_pegawai:"",tgl_mutasi:"",keterangan:""},validationSchema:B,onSubmit:function(e){var a=new FormData;for(var t in e)a.append(t,e[t]);var n,r=Object(i.a)(a.entries());try{for(r.s();!(n=r.n()).done;){var s=n.value;console.log(s)}}catch(c){r.e(c)}finally{r.f()}!function(e,a,t,n){a(!0),x.a.post("admin/mutasi",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){console.log(e.data),a(!1),t()})).catch((function(e){console.log(e.response.data),n(e.response.data.errors)}))}(a,v,G,M)},children:function(e){var a=e.values,t=e.errors,n=e.touched,i=e.handleChange,r=e.handleBlur,c=e.handleSubmit,o=e.setFieldValue;return Object(O.jsxs)(s.w,{onSubmit:c,children:[Object(O.jsxs)(s.i,{children:[Object(O.jsxs)(s.x,{row:!0,children:[Object(O.jsx)(s.m,{md:"2",children:Object(O.jsx)(s.K,{children:"Nama Pegawai"})}),Object(O.jsxs)(s.m,{children:[Object(O.jsx)(f.a,{styles:D,name:"id_pegawai",id:"id_pegawai",onChange:function(e){C(!1),o("id_pegawai",e?e.value:"")},onFocus:function(){return C(!0)},placeholder:"-- Pilih Pegawai --",isSearchable:!0,isClearable:!0,options:N}),!a.id_pegawai&&_&&Object(O.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Nama penerima harus diisi"})]})]}),Object(O.jsxs)(s.x,{row:!0,children:[Object(O.jsx)(s.m,{md:"2",children:Object(O.jsx)(s.K,{children:"Tgl. Mutasi"})}),Object(O.jsxs)(s.m,{children:[Object(O.jsx)(s.D,{type:"date",name:"tgl_mutasi",id:"tgl_mutasi",onChange:i,onBlur:r,value:a.tgl_mutasi||"",placeholder:"Masukkan tgl. mutasi",className:t.tgl_mutasi&&n.tgl_mutasi?"is-invalid":null}),t.tgl_mutasi&&n.tgl_mutasi&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.tgl_mutasi})]})]}),Object(O.jsxs)(s.x,{row:!0,children:[Object(O.jsx)(s.m,{md:"2",children:Object(O.jsx)(s.K,{children:"Keterangan"})}),Object(O.jsxs)(s.m,{children:[Object(O.jsx)(s.D,{type:"text",name:"keterangan",id:"keterangan",onChange:i,onBlur:r,value:a.keterangan||"",placeholder:"Masukkan keterangan / alasan mutasi",className:t.keterangan&&n.keterangan?"is-invalid":null}),t.keterangan&&n.keterangan&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.keterangan})]})]})]}),Object(O.jsx)(s.j,{children:Object(O.jsx)(s.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!k,onClick:function(){a.id_pegawai?C(!1):C(!0)},children:k?Object(O.jsx)(p.a,{}):"Simpan"})})]})}})]})}},659:function(e,a,t){"use strict";a.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},678:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(626),i=function(e){n.a.get("admin/pegawai/semua-pegawai").then((function(a){e(a.data.data)})).catch((function(e){}))}},693:function(e,a,t){"use strict";t(1);var n=t(630),i=t(17);a.a=function(){return Object(i.jsx)("img",{width:21,src:n.d,alt:"load-animation"})}}}]);
//# sourceMappingURL=51.48ec70fd.chunk.js.map