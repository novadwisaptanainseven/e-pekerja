(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[66],{1047:function(e,n,a){"use strict";a.r(n);var t=a(10),i=a(1),c=a(632),s=a.n(c),r=a(633),l=a.n(r),d=a(637),u=a(628),o=a(20),j=a(736),h=a(636),b=a(630),m=a(626),g=a(17),p=l()(s.a);n.default=function(e){var n=e.match.params,a=Object(o.g)(),c=Object(i.useState)(""),s=Object(t.a)(c,2),r=s[0],l=s[1],x=Object(i.useState)(!1),O=Object(t.a)(x,2),f=O[0],k=O[1];Object(i.useEffect)((function(){Object(j.a)(n.id,l)}),[n]);var v={id_pegawai:r?r.id_pegawai:"",tgl_pensiun:r?r.tgl_pensiun:"",keterangan:r?r.keterangan:""},w=function(){p.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){a.push("/epekerja/admin/pensiun")}))},_=function(e){var n="";for(var a in e)n+="".concat(e[a],", ");p.fire({icon:"error",title:"Edit Data Gagal",text:n}).then((function(e){k(!1)}))},N=d.c().shape({id_pegawai:d.e().required("Pegawai harus diisi"),tgl_pensiun:d.e().required("Tanggal pensiun harus diisi"),keterangan:d.e().required("Keterangan / alasan harus diisi")}),y=function(e){!function(e,n,a,t,i){a(!0),m.a.put("admin/pensiun/".concat(e),n).then((function(e){console.log(e.data),a(!1),t()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(n.id,e,k,w,_)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(u.h,{children:[Object(g.jsxs)(u.l,{className:"d-flex justify-content-between",children:[Object(g.jsxs)("h3",{children:["Edit Data Pensiun : ",n.id]}),Object(g.jsx)(u.f,{type:"button",color:"warning",className:"text-white",onClick:function(){a.goBack()},children:"Kembali"})]}),r?Object(g.jsx)(h.a,{initialValues:v,validationSchema:N,enableReinitialize:!0,onSubmit:function(e){return y(e)},children:function(e){var n=e.values,a=e.errors,t=e.touched,i=e.handleChange,c=e.handleBlur,s=e.handleSubmit;e.setFieldValue;return Object(g.jsxs)(u.w,{onSubmit:s,children:[Object(g.jsxs)(u.i,{children:[Object(g.jsxs)(u.x,{row:!0,children:[Object(g.jsx)(u.m,{md:"2",children:Object(g.jsx)(u.K,{children:"Nama Pegawai"})}),Object(g.jsx)(u.m,{children:Object(g.jsx)(u.D,{type:"text",name:"nama",value:r.nama,readOnly:!0})})]}),Object(g.jsxs)(u.x,{row:!0,children:[Object(g.jsx)(u.m,{md:"2",children:Object(g.jsx)(u.K,{children:"Tgl. Pensiun"})}),Object(g.jsxs)(u.m,{children:[Object(g.jsx)(u.D,{type:"date",name:"tgl_pensiun",id:"tgl_pensiun",onChange:i,onBlur:c,value:n.tgl_pensiun||"",placeholder:"Masukkan tgl. pensiun",className:a.tgl_pensiun&&t.tgl_pensiun?"is-invalid":null}),a.tgl_pensiun&&t.tgl_pensiun&&Object(g.jsx)("div",{className:"invalid-feedback",children:a.tgl_pensiun})]})]}),Object(g.jsxs)(u.x,{row:!0,children:[Object(g.jsx)(u.m,{md:"2",children:Object(g.jsx)(u.K,{children:"Keterangan"})}),Object(g.jsxs)(u.m,{children:[Object(g.jsx)(u.D,{type:"text",name:"keterangan",id:"keterangan",onChange:i,onBlur:c,value:n.keterangan||"",placeholder:"Masukkan keterangan / alasan pensiun",className:a.keterangan&&t.keterangan?"is-invalid":null}),a.keterangan&&t.keterangan&&Object(g.jsx)("div",{className:"invalid-feedback",children:a.keterangan})]})]})]}),Object(g.jsx)(u.j,{children:Object(g.jsx)(u.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!f,children:f?Object(g.jsx)("img",{width:21,src:b.d,alt:"load-animation"}):"Simpan"})})]})}}):Object(g.jsx)("div",{children:Object(g.jsx)(u.W,{children:Object(g.jsx)(u.m,{className:"text-center",children:Object(g.jsx)("img",{className:"my-4 ml-3",width:30,src:b.c,alt:"load-animation"})})})})]})})}},736:function(e,n,a){"use strict";a.d(n,"a",(function(){return i}));var t=a(626),i=function(e,n){t.a.get("admin/pensiun/".concat(e)).then((function(e){n(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}}}]);
//# sourceMappingURL=66.ec89104c.chunk.js.map