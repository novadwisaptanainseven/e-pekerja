(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{1004:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(664),c=n(653),i=n(571),o=n(639),l=n(628),s=n(738),u=n(1),d=n.n(u),b=n(641),j=n.n(b),h=n(20),m=n(640),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e.bulan||"",n=e.tahun||"";window.open("".concat(localStorage.baseURL,"print-mutasi-pegawai?bulan=").concat(t,"&tahun=").concat(n),"_blank")},f=n(626),x=n(40),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e({type:x.LOADING});var n="";n=t?"admin/mutasi?bulan=".concat(t.bulan,"&tahun=").concat(t.tahun):"admin/mutasi",f.a.get(n).then((function(t){e({type:x.SUCCESS,payload:t.data.data})})).catch((function(t){e({type:x.ERROR,payload:t.response.data.message}),console.log(t.response.data)}))},g=n(163),v=n(732),w=n(676),y=n(645),k=n(692),C=n(632),N=n.n(C),S=n(633),M=n.n(S),_=n(17),D=M()(N.a);t.default=function(){var e=Object(h.g)(),t=Object(u.useState)(""),n=Object(a.a)(t,2),b=n[0],x=n[1],C=Object(u.useState)(!1),N=Object(a.a)(C,2),S=N[0],M=N[1],F=Object(u.useContext)(g.a),R=F.mutasiState,A=F.mutasiDispatch,P=R.data,H=R.loading,B=Object(u.useState)({bulan:"",tahun:""}),L=Object(a.a)(B,2),T=L[0],J=L[1];Object(u.useEffect)((function(){O(A)}),[A]);var U=P.filter((function(e){return e.nama.toLowerCase().includes(b.toLowerCase())})),Z=[{name:"No",selector:"no",sortable:!0,width:"50px"},{name:"NIP/NIK",sortable:!0,wrap:!0,cell:function(e){return e.nip?e.nip:e.nik}},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Tgl. Mutasi",selector:"tgl_mutasi",sortable:!0,wrap:!0,cell:function(e){return Object(s.a)(new Date(e.tgl_mutasi),"dd/MM/yyyy")}},{name:"Status",sortable:!0,wrap:!0,cell:function(e){return Date.parse(new Date)<Date.parse(new Date(e.tgl_mutasi))?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(l.b,{color:"primary",shape:"pill",className:"px-2 py-2",children:"Akan Mutasi"})}):Object(_.jsx)(l.b,{color:"dark",shape:"pill",className:"px-2 py-2",children:"Mutasi"})}},{name:"Keterangan",selector:"keterangan",wrap:!0,width:"250px"},{name:"Action",sortable:!0,cell:function(t){return Object(_.jsxs)("div",{"data-tag":"allowRowEvents",className:"my-1",children:[Object(_.jsxs)(l.g,{className:"mb-1",children:[Object(_.jsx)(l.f,{color:"info",className:"btn btn-sm",onClick:function(){return n=t.id_mutasi,void e.push("/epekerja/admin/mutasi/detail/".concat(n));var n},children:Object(_.jsx)(o.a,{content:r.a,color:"white"})}),Object(_.jsx)(l.f,{color:"success",className:"btn btn-sm",onClick:function(){return n=t.id_mutasi,void e.push("/epekerja/admin/mutasi/edit/".concat(n));var n},children:Object(_.jsx)(o.a,{content:c.a,color:"white"})})]}),Object(_.jsx)(l.f,{color:"dark",className:"btn btn-sm",onClick:function(){return K(t.id_mutasi)},children:"Batalkan Mutasi"})]})}}],E=d.a.useMemo((function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(_.jsx)(l.f,{type:"button",color:"primary",onClick:function(t){e.push("/epekerja/admin/mutasi/tambah")},children:"Tambah Mutasi"}),Object(_.jsxs)("div",{className:"d-flex",children:[Object(_.jsx)(y.a,{onFilter:function(e){return x(e.target.value)},onClear:function(){b&&(M(!S),x(""))},filterText:b}),Object(_.jsxs)(l.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return p(T)},children:["PDF ",Object(_.jsx)(o.a,{content:i.a})]}),Object(_.jsxs)(l.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(m.a)("mutasi-pegawai",T,"filter_bulan_tahun")},children:["Excel ",Object(_.jsx)(o.a,{content:i.a})]})]})]})})}),[b,S,e,T]),K=function(e){D.fire({icon:"warning",title:"Anda yakin ingin membatalkan mutasi untuk pegawai ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(t){t.isConfirmed&&(!function(e,t){f.a.delete("admin/mutasi-batal/".concat(e)).then((function(e){console.log(e.data),O(t)})).catch((function(e){console.log(e.response.data)}))}(e,A),D.fire({icon:"success",title:"Sukses",text:"Mutasi Berhasil Dibatalkan"}))}))};return Object(_.jsx)("div",{children:Object(_.jsxs)(l.h,{children:[Object(_.jsx)(l.l,{children:Object(_.jsx)("h3",{children:"Data Mutasi"})}),Object(_.jsxs)(l.i,{children:[Object(_.jsx)(l.W,{children:Object(_.jsx)(l.m,{md:"6",children:Object(_.jsx)(w.a,{paramsFilter:T,setParamsFilter:J,handleResetFilter:function(){O(A)},handleFilterCari:function(e){e.preventDefault(),O(A,T)}})})}),P.length>0?Object(_.jsx)(j.a,{columns:Z,data:U,noHeader:!0,responsive:!0,customStyles:v.a,pagination:!0,paginationResetDefaultPage:S,subHeader:!0,subHeaderComponent:E,highlightOnHover:!0}):H?Object(_.jsx)(k.a,{}):Object(_.jsx)(j.a,{columns:Z,data:U,noHeader:!0,responsive:!0,customStyles:v.a,pagination:!0,paginationResetDefaultPage:S,subHeader:!0,subHeaderComponent:E,highlightOnHover:!0})]})]})})}},638:function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return a}))},640:function(e,t,n){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n){if("filter_tanggal"===n){var a="first_date=".concat(t.startDate,"&last_date=").concat(t.endDate);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(a),"_self")}else if("filter_tahun"===n){var r="tahun=".concat(t);window.open("".concat(localStorage.baseURL).concat(e,"/export/?").concat(r),"_self")}else if("filter_bulan_tahun"===n){var c="bulan=".concat(t.bulan,"&tahun=").concat(t.tahun);window.open("".concat(localStorage.baseURL).concat(e,"/export?").concat(c),"_self")}}else window.open("".concat(localStorage.baseURL).concat(e,"/export"),"_self")}},644:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},645:function(e,t,n){"use strict";n(1);var a,r,c=n(638),i=n(643),o=i.default.button(a||(a=Object(c.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),l=i.default.input(r||(r=Object(c.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),s=n(17);t.a=function(e){var t=e.filterText,n=e.onFilter,a=e.onClear;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:t,onChange:n}),Object(s.jsx)(o,{type:"button",onClick:a,children:"Reset"})]})}},653:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},664:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},667:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(17),i=function(){return Object(c.jsx)(c.Fragment,{children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((function(e,t){return Object(c.jsx)("option",{value:t+1,children:e},t)}))})};t.a=r.a.memo(i)},676:function(e,t,n){"use strict";var a=n(168),r=n(2),c=n(10),i=n(628),o=n(1),l=n(667),s=n(17);t.a=function(e){var t=e.paramsFilter,n=e.setParamsFilter,u=e.handleFilterCari,d=e.handleResetFilter,b=Object(o.useState)(!1),j=Object(c.a)(b,2),h=j[0],m=j[1];return Object(s.jsxs)(i.h,{children:[Object(s.jsx)(i.l,{className:"bg-dark",children:Object(s.jsx)("h5",{className:"mb-0",children:"Filter Pencarian Berdasarkan Bulan dan Tahun"})}),Object(s.jsxs)(i.w,{children:[Object(s.jsx)(i.n,{show:h,children:Object(s.jsx)(i.i,{children:Object(s.jsxs)(i.W,{children:[Object(s.jsx)(i.m,{children:Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.K,{children:"Bulan"}),Object(s.jsxs)(i.X,{required:!0,name:"bulan",onChange:function(e){return n(Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value)))},children:[Object(s.jsx)("option",{value:"",children:"-- Pilih Bulan --"}),Object(s.jsx)(l.a,{})]})]})}),Object(s.jsx)(i.m,{children:Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.K,{children:"Tahun"}),Object(s.jsx)(i.D,{required:!0,type:"number",name:"tahun",placeholder:"Masukkan Tahun, exp: ".concat((new Date).getFullYear()),onChange:function(e){return n(Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value)))}})]})})]})})}),Object(s.jsxs)(i.j,{className:"text-right",children:[Object(s.jsx)(i.f,{type:"submit",color:"primary",className:"mr-2",onClick:function(e){return u(e)},disabled:!t.bulan||!t.tahun,children:"Cari"}),Object(s.jsx)(i.f,{color:"warning",className:"mr-2",onClick:d,children:"Reset"}),Object(s.jsx)(i.f,{color:"secondary",onClick:function(){return m(!h)},children:h?"Tutup":"Klik untuk melihat"})]})]})]})}},692:function(e,t,n){"use strict";var a=n(628),r=(n(1),n(630)),c=n(17);t.a=function(){return Object(c.jsx)(a.W,{className:"mb-3",children:Object(c.jsx)(a.m,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:r.c,alt:"load-animation"})})})}},732:function(e,t,n){"use strict";t.a={headCells:{style:{fontSize:"1.15em"}}}}}]);
//# sourceMappingURL=19.2aa520d9.chunk.js.map