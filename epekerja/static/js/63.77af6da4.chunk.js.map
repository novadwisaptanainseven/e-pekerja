{"version":3,"sources":["views/dashboard/Dashboard.js","context/actions/UserPage/Dashboard/getStruktur.js","context/actions/UserPage/Dashboard/getDashboardInformation.js","helpers/capitalizeFirst.js"],"names":["Dashboard","useContext","GlobalContext","dashboardState","dashboardDispatch","strukturState","strukturDispatch","dataDashboard","data","dataStruktur","useState","activeTab","setActiveTab","useEffect","getDashboardInformation","dispatch","type","LOADING","axiosInstance","get","then","res","SUCCESS","payload","console","log","catch","err","ERROR","response","message","nama_pegawai","xs","sm","lg","className","width","src","getImage","foto_pegawai","alt","md","text","header","total_keluarga","toString","color","iconPadding","content","cilGroup","gaji_pokok","toLocaleString","style","currency","cilMoney","status_pegawai","name","pegawai","nama","alamat","no_hp","email","onActiveTabChange","tab","variant","map","item","index","data-tab","id","capitalizeFirst","nama_struktur","gambar","getDocument","DASHBOARD_LOADING","DASHBOARD_SUCCESS","DASHBOARD_ERROR","str","replace","txt","charAt","toUpperCase","substr","toLowerCase"],"mappings":"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","file":"static/js/63.77af6da4.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCardTitle,\r\n  CCol,\r\n  CNav,\r\n  CNavItem,\r\n  CNavLink,\r\n  CRow,\r\n  CTabContent,\r\n  CTabPane,\r\n  CTabs,\r\n  CWidgetIcon,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\n\r\n// import { CChartPie } from \"@coreui/react-chartjs\";\r\nimport { cilGroup, cilMoney } from \"@coreui/icons\";\r\nimport { GlobalContext } from \"src/context/Provider\";\r\nimport { getDocument, getImage } from \"src/context/actions/DownloadFile\";\r\nimport { getDashboardInformation } from \"src/context/actions/UserPage/Dashboard/getDashboardInformation\";\r\nimport { getStruktur } from \"src/context/actions/UserPage/Dashboard/getStruktur\";\r\nimport capitalizeFirst from \"src/helpers/capitalizeFirst\";\r\n\r\nconst Dashboard = () => {\r\n  const {\r\n    // userState,\r\n    dashboardState,\r\n    dashboardDispatch,\r\n    strukturState,\r\n    strukturDispatch,\r\n  } = useContext(GlobalContext);\r\n  // const { data } = userState;\r\n  const { data: dataDashboard } = dashboardState;\r\n  const { data: dataStruktur } = strukturState;\r\n  const [activeTab, setActiveTab] = useState(\"1\");\r\n\r\n  // Get dashboard information\r\n  useEffect(() => {\r\n    if (!dataDashboard) {\r\n      getDashboardInformation(dashboardDispatch);\r\n    }\r\n  }, [dataDashboard, dashboardDispatch]);\r\n\r\n  // Get struktur organisasi\r\n  useEffect(() => {\r\n    getStruktur(strukturDispatch);\r\n  }, [strukturDispatch]);\r\n\r\n  return (\r\n    <>\r\n      <h1>\r\n        Selamat Datang {dataDashboard && dataDashboard.nama_pegawai} di\r\n        E-Pekerja\r\n      </h1>\r\n      <hr />\r\n      <CRow>\r\n        <CCol xs=\"12\" sm=\"4\" lg=\"4\">\r\n          <img\r\n            className=\"img-thumbnail mb-4\"\r\n            width={400}\r\n            src={dataDashboard ? getImage(dataDashboard.foto_pegawai) : \"\"}\r\n            alt=\"foto-pegawai\"\r\n          />\r\n        </CCol>\r\n        <CCol>\r\n          <CRow>\r\n            <CCol md=\"4\">\r\n              <CWidgetIcon\r\n                text=\"Jumlah Keluarga\"\r\n                header={\r\n                  dataDashboard\r\n                    ? dataDashboard.total_keluarga.toString()\r\n                    : \"...\"\r\n                }\r\n                color=\"primary\"\r\n                iconPadding={false}\r\n              >\r\n                <CIcon width={24} content={cilGroup} />\r\n              </CWidgetIcon>\r\n            </CCol>\r\n            <CCol md=\"4\">\r\n              <CWidgetIcon\r\n                text=\"Gaji Pokok\"\r\n                header={\r\n                  dataDashboard\r\n                    ? dataDashboard.gaji_pokok.toLocaleString(\"id\", {\r\n                        style: \"currency\",\r\n                        currency: \"IDR\",\r\n                      })\r\n                    : \"...\"\r\n                }\r\n                color=\"success\"\r\n                iconPadding={false}\r\n              >\r\n                <CIcon width={24} content={cilMoney} />\r\n              </CWidgetIcon>\r\n            </CCol>\r\n            <CCol md=\"4\">\r\n              <CWidgetIcon\r\n                text=\"Status Pegawai\"\r\n                header={dataDashboard ? dataDashboard.status_pegawai : \"...\"}\r\n                color=\"info\"\r\n                iconPadding={false}\r\n              >\r\n                <CIcon width={24} name=\"cil-user\" />\r\n              </CWidgetIcon>\r\n            </CCol>\r\n          </CRow>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardHeader>\r\n                  <CCardTitle>Biodata Singkat</CCardTitle>\r\n                </CCardHeader>\r\n                <CCardBody>\r\n                  <table className=\"table\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <th>Nama</th>\r\n                        <th>:</th>\r\n                        <td>{dataDashboard && dataDashboard.pegawai.nama}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Alamat</th>\r\n                        <th>:</th>\r\n                        <td>{dataDashboard && dataDashboard.pegawai.alamat}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>No. HP</th>\r\n                        <th>:</th>\r\n                        <td>{dataDashboard && dataDashboard.pegawai.no_hp}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Email</th>\r\n                        <th>:</th>\r\n                        <td>{dataDashboard && dataDashboard.pegawai.email}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n          {/* <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardHeader>Informasi Absensi Pegawai</CCardHeader>\r\n                <CCardBody>\r\n                  <CChartPie\r\n                    datasets={[\r\n                      {\r\n                        backgroundColor: [\r\n                          \"#41B883\",\r\n                          \"#FFCE56\",\r\n                          \"#e55353\",\r\n                          \"#00D8FF\",\r\n                          \"#636f83\",\r\n                        ],\r\n                        data: [\r\n                          absen.totHadir,\r\n                          absen.totIzin,\r\n                          absen.totSakit,\r\n                          absen.totCuti,\r\n                          absen.totTK,\r\n                        ],\r\n                      },\r\n                    ]}\r\n                    labels={[\r\n                      \"Hadir\",\r\n                      \"Izin\",\r\n                      \"Sakit\",\r\n                      \"Cuti\",\r\n                      \"Tanpa Keterangan\",\r\n                    ]}\r\n                    options={{\r\n                      tooltips: {\r\n                        enabled: true,\r\n                      },\r\n                    }}\r\n                  />\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow> */}\r\n        </CCol>\r\n      </CRow>\r\n\r\n      {/* Struktur Organisasi */}\r\n      <CRow>\r\n        <CCol>\r\n          <CCard>\r\n            <CCardHeader>Struktur Organisasi</CCardHeader>\r\n            <CCardBody>\r\n              <CTabs\r\n                activeTab={activeTab}\r\n                onActiveTabChange={(tab) => {\r\n                  setActiveTab(tab);\r\n                }}\r\n              >\r\n                <CNav variant=\"pills\">\r\n                  {dataStruktur &&\r\n                    dataStruktur.map((item, index) => (\r\n                      <CNavItem key={index}>\r\n                        <CNavLink data-tab={item.id}>\r\n                          {capitalizeFirst(item.nama_struktur)}\r\n                        </CNavLink>\r\n                      </CNavItem>\r\n                    ))}\r\n                </CNav>\r\n                <CTabContent>\r\n                  {dataStruktur &&\r\n                    dataStruktur.map((item, index) => (\r\n                      <CTabPane key={index} data-tab={item.id}>\r\n                        <div className=\"mt-3\">\r\n                          {item.gambar ? (\r\n                            <div className=\"mt-3\">\r\n                              <img\r\n                                style={{ width: \"100%\" }}\r\n                                src={getDocument(item.gambar)}\r\n                                alt=\"struktur-organisasi-img\"\r\n                              />\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"text-center mt-3\">\r\n                              Belum ada Gambar. Silahkan upload terlebih dahulu\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </CTabPane>\r\n                    ))}\r\n                </CTabContent>\r\n              </CTabs>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { ERROR, LOADING, SUCCESS } from \"src/context/actionTypes\";\r\nimport axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getStruktur = (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n\r\n  axiosInstance\r\n    .get(\"user/struktur\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SUCCESS,\r\n        payload: res.data.data,\r\n      });\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: err.response.data.message,\r\n      });\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import {\r\n  DASHBOARD_ERROR,\r\n  DASHBOARD_LOADING,\r\n  DASHBOARD_SUCCESS,\r\n} from \"src/context/actionTypes\";\r\nimport axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getDashboardInformation = (dispatch) => {\r\n  dispatch({\r\n    type: DASHBOARD_LOADING,\r\n  });\r\n\r\n  axiosInstance\r\n    .get(\"user/dashboard\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: DASHBOARD_SUCCESS,\r\n        payload: res.data.data,\r\n      });\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: DASHBOARD_ERROR,\r\n        payload: err.response.data.message,\r\n      });\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","// Ini merupakan fungsi untuk memberi huruf kapital setiap kata\r\nconst capitalizeFirst = (str) => {\r\n  return str.replace(\r\n    /\\w\\S*/g,\r\n    (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\r\n  );\r\n};\r\n\r\nexport default capitalizeFirst;\r\n"],"sourceRoot":""}