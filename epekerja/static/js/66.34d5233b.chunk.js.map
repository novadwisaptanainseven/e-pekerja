{"version":3,"sources":["views/pages/Admin/KGB/EditKGB.js","context/actions/KGB/getKGBById.js","context/actions/KGB/editKGB.js","views/pages/Admin/KGB/TambahKGB.js","context/actions/KGB/getKGBTerbaru.js","context/actions/KGB/insertKGB.js","context/actions/KGB/getKGB.js","context/actions/DownloadFile/printKGBPegawai.js","views/pages/Admin/KGB/DaftarKGB.js","context/actions/KGB/deleteKGB.js","context/actions/Pegawai/PNS/getPNSById.js","../node_modules/@coreui/icons/js/free/cil-pen.js"],"names":["MySwal","withReactContent","swal2","EditKGB","id_pegawai","id_kgb","modalEdit","setModalEdit","history","useHistory","useState","loading","setLoading","data","setData","formatGaji","setFormatGaji","useEffect","setKGB","axiosInstance","get","then","res","console","log","catch","err","response","getKGBById","convertToCurrency","gaji_pokok_baru","initState","gaji_pokok_lama","tmt_kenaikan_gaji","kenaikan_gaji_yad","peraturan","gaji","formattedGaji","parseInt","toLocaleString","style","currency","showAlertSuccess","fire","icon","title","showConfirmButton","timer","modal","id","push","showAlertError","message","err_message","key","text","result","validationSchema","Yup","shape","required","typeError","integer","handleFormSubmit","values","post","errors","editKGB","initialValues","enableReinitialize","onSubmit","touched","handleChange","handleBlur","handleSubmit","row","md","type","name","placeholder","onChange","onBlur","value","className","onKeyUp","e","target","color","disabled","width","src","LoadAnimationWhite","alt","onClick","LoadAnimationBlue","TambahKGB","modalTambah","setModalTambah","kgbTerbaru","setKgbTerbaru","formatGaji2","setFormatGaji2","getKGBTerbaru","keterangan","formData","FormData","append","entries","pair","header","_boundary","insertKGB","readOnly","max","min","getKGB","printKGBPegawai","window","open","localStorage","baseURL","DaftarKGB","params","match","pegawai","setPegawai","getPNSById","columns","selector","no","sortable","wrap","cell","format","Date","timestampCurrent","getTime","timestampTMTGaji","timestampGajiYAD","status","data-tag","content","cilPrint","cilPen","handleDelete","cilTrash","customStyles","headCells","fontSize","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","deleteKGB","SubHeaderComponentMemo","exportExcel","ExpandableComponent","padding","created_at","nama","height","length","noHeader","responsive","pagination","subHeader","subHeaderComponent","highlightOnHover","expandableRows","expandOnRowClicked","expandableRowsComponent","show","onClose","size","closeButton","setPNS"],"mappings":"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","file":"static/js/66.34d5233b.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CFormGroup,\r\n  CCol,\r\n  CLabel,\r\n  CInput,\r\n  CForm,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n  CRow,\r\n} from \"@coreui/react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationBlue, LoadAnimationWhite } from \"src/assets\";\r\nimport { useHistory } from \"react-router\";\r\nimport { getKGBById } from \"src/context/actions/KGB/getKGBById\";\r\nimport { editKGB } from \"src/context/actions/KGB/editKGB\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditKGB = ({ id_pegawai, id_kgb, modalEdit, setModalEdit }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n  const [formatGaji, setFormatGaji] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (id_kgb) {\r\n      // Get KGB By ID\r\n      getKGBById(id_pegawai, id_kgb, setData);\r\n    }\r\n\r\n    return () => {\r\n      setData(\"\");\r\n    };\r\n  }, [id_pegawai, id_kgb]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      convertToCurrency(data.gaji_pokok_baru);\r\n    }\r\n  }, [data]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    gaji_pokok_lama: data ? data.gaji_pokok_lama : \"\",\r\n    gaji_pokok_baru: data ? data.gaji_pokok_baru : \"\",\r\n    tmt_kenaikan_gaji: data ? data.tmt_kenaikan_gaji : \"\",\r\n    kenaikan_gaji_yad: data ? data.kenaikan_gaji_yad : \"\",\r\n    peraturan: data ? data.peraturan : \"\",\r\n  };\r\n\r\n  // Mengubah format gaji dari number ke currency\r\n  const convertToCurrency = (gaji) => {\r\n    let formattedGaji = parseInt(gaji).toLocaleString(\"id\", {\r\n      style: \"currency\",\r\n      currency: \"IDR\",\r\n    });\r\n\r\n    if (formattedGaji !== \"RpNaN\") {\r\n      setFormatGaji(formattedGaji);\r\n    } else {\r\n      setFormatGaji(\"\");\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success Edit data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Data Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalEdit({\r\n        ...modalEdit,\r\n        modal: !modalEdit.modal,\r\n        id: null,\r\n      });\r\n      history.push(`/epekerja/admin/kgb/${id_pegawai}/daftar`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error Edit data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Data Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    gaji_pokok_lama: Yup.string().required(\"Gaji pokok lama harus diisi!\"),\r\n    gaji_pokok_baru: Yup.number()\r\n      .typeError(\"Gaji pokok baru harus berupa bilangan\")\r\n      .integer()\r\n      .required(\"Gaji pokok baru harus diisi!\"),\r\n    tmt_kenaikan_gaji: Yup.string().required(\"TMT kenaikan gaji harus diisi!\"),\r\n    kenaikan_gaji_yad: Yup.string().required(\r\n      \"Kenaikan gaji yang akan datand harus diisi!\"\r\n    ),\r\n    peraturan: Yup.string().required(\"Peraturan harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    editKGB(\r\n      id_pegawai,\r\n      id_kgb,\r\n      values,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n\r\n    setFormatGaji(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {data ? (\r\n        <Formik\r\n          initialValues={initState}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={(values) => handleFormSubmit(values)}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          }) => (\r\n            <CForm onSubmit={handleSubmit}>\r\n              <CModalBody>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Gaji Pokok Lama</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"gaji_pokok_lama\"\r\n                      id=\"gaji_pokok_lama\"\r\n                      placeholder=\"Masukkan gaji pokok lama\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.gaji_pokok_lama}\r\n                      className={\r\n                        errors.gaji_pokok_lama && touched.gaji_pokok_lama\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.gaji_pokok_lama && touched.gaji_pokok_lama && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.gaji_pokok_lama}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"mt-1\">\r\n                      {values.gaji_pokok_lama.toLocaleString(\"id\", {\r\n                        style: \"currency\",\r\n                        currency: \"IDR\",\r\n                      })}\r\n                    </div>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Gaji Pokok Baru</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"gaji_pokok_baru\"\r\n                      id=\"gaji_pokok_baru\"\r\n                      placeholder=\"Masukkan gaji pokok baru\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      onKeyUp={(e) => convertToCurrency(e.target.value)}\r\n                      value={values.gaji_pokok_baru}\r\n                      className={\r\n                        errors.gaji_pokok_baru && touched.gaji_pokok_baru\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    <div className=\"mt-1\">{formatGaji}</div>\r\n                    {errors.gaji_pokok_baru && touched.gaji_pokok_baru && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.gaji_pokok_baru}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>TMT. Kenaikan Gaji</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"tmt_kenaikan_gaji\"\r\n                      id=\"tmt_kenaikan_gaji\"\r\n                      placeholder=\"Masukkan tmt kenaikan gaji\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.tmt_kenaikan_gaji}\r\n                      className={\r\n                        errors.tmt_kenaikan_gaji && touched.tmt_kenaikan_gaji\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.tmt_kenaikan_gaji && touched.tmt_kenaikan_gaji && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.tmt_kenaikan_gaji}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Kenaikan Gaji YAD</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"kenaikan_gaji_yad\"\r\n                      id=\"kenaikan_gaji_yad\"\r\n                      placeholder=\"Masukkan tanggal gaji yang akan datang\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.kenaikan_gaji_yad}\r\n                      className={\r\n                        errors.kenaikan_gaji_yad && touched.kenaikan_gaji_yad\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.kenaikan_gaji_yad && touched.kenaikan_gaji_yad && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.kenaikan_gaji_yad}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Peraturan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"peraturan\"\r\n                      id=\"peraturan\"\r\n                      placeholder=\"Masukkan peraturan yang mengatur sistem penggajian\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.peraturan}\r\n                      className={\r\n                        errors.peraturan && touched.peraturan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.peraturan && touched.peraturan && (\r\n                      <div className=\"invalid-feedback\">{errors.peraturan}</div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CModalBody>\r\n              <CModalFooter>\r\n                <CButton\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  // onClick={() => handleFormSubmit(values)}\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  {loading ? (\r\n                    <img\r\n                      width={21}\r\n                      src={LoadAnimationWhite}\r\n                      alt=\"load-animation\"\r\n                    />\r\n                  ) : (\r\n                    \"Simpan\"\r\n                  )}\r\n                </CButton>{\" \"}\r\n                <CButton\r\n                  type=\"button\"\r\n                  color=\"secondary\"\r\n                  onClick={() =>\r\n                    setModalEdit({\r\n                      ...modalEdit,\r\n                      modal: false,\r\n                      id: null,\r\n                    })\r\n                  }\r\n                >\r\n                  Batal\r\n                </CButton>\r\n              </CModalFooter>\r\n            </CForm>\r\n          )}\r\n        </Formik>\r\n      ) : (\r\n        <div>\r\n          <CRow>\r\n            <CCol className=\"text-center\">\r\n              <img\r\n                className=\"mt-4 ml-3 mb-4\"\r\n                width={30}\r\n                src={LoadAnimationBlue}\r\n                alt=\"load-animation\"\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditKGB;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getKGBById = (id_pegawai, id_kgb, setKGB) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/kgb/${id_kgb}`)\r\n    .then((res) => {\r\n      setKGB(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const editKGB = (\r\n  id_pegawai,\r\n  id_kgb,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/kgb/${id_kgb}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport { LoadAnimationBlue, LoadAnimationWhite } from \"src/assets\";\r\n\r\nimport {\r\n  CFormGroup,\r\n  CCol,\r\n  CLabel,\r\n  CInput,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CForm,\r\n  CButton,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { insertKGB } from \"src/context/actions/KGB/insertKGB\";\r\nimport { getKGBTerbaru } from \"src/context/actions/KGB/getKGBTerbaru\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst TambahKGB = ({ modalTambah, setModalTambah, id_pegawai }) => {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [kgbTerbaru, setKgbTerbaru] = useState(\"\");\r\n  const [formatGaji, setFormatGaji] = useState(\"\");\r\n  const [formatGaji2, setFormatGaji2] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (modalTambah) {\r\n      // Get KGB Terbaru\r\n      getKGBTerbaru(id_pegawai, setKgbTerbaru, setLoading);\r\n    }\r\n  }, [id_pegawai, modalTambah]);\r\n\r\n  // Inisialisasi State Formik\r\n  const initState = {\r\n    gaji_pokok_lama: kgbTerbaru ? kgbTerbaru : \"\",\r\n    gaji_pokok_baru: \"\",\r\n    tmt_kenaikan_gaji: \"\",\r\n    kenaikan_gaji_yad: \"\",\r\n    peraturan: \"\",\r\n    keterangan: \"\",\r\n  };\r\n\r\n  // Mengubah format gaji dari number ke currency\r\n  const convertToCurrency = (gaji, setFormatGaji) => {\r\n    let formattedGaji = parseInt(gaji).toLocaleString(\"id\", {\r\n      style: \"currency\",\r\n      currency: \"IDR\",\r\n    });\r\n\r\n    if (formattedGaji !== \"RpNaN\") {\r\n      setFormatGaji(formattedGaji);\r\n    } else {\r\n      setFormatGaji(\"\");\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Berhasil Melakukan Kenaikan Gaji\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      setModalTambah(!modalTambah);\r\n      history.push(`/epekerja/admin/kgb/${id_pegawai}/daftar`);\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Gagal Melakukan Kenaikan Gaji\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    gaji_pokok_lama: Yup.number()\r\n      .typeError(\"Gaji pokok baru harus berupa bilangan\")\r\n      .integer()\r\n      .required(\"Gaji pokok lama harus diisi!\"),\r\n    gaji_pokok_baru: Yup.number()\r\n      .typeError(\"Gaji pokok baru harus berupa bilangan\")\r\n      .integer()\r\n      .required(\"Gaji pokok baru harus diisi!\"),\r\n    tmt_kenaikan_gaji: Yup.string().required(\"TMT kenaikan gaji harus diisi!\"),\r\n    kenaikan_gaji_yad: Yup.string().required(\r\n      \"Kenaikan gaji yang akan datand harus diisi!\"\r\n    ),\r\n    peraturan: Yup.string().required(\"Peraturan harus diisi!\"),\r\n    keterangan: Yup.string().required(\"Keterangan harus diisi!\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    const formData = new FormData();\r\n    formData.append(\"gaji_pokok_lama\", values.gaji_pokok_lama);\r\n    formData.append(\"gaji_pokok_baru\", values.gaji_pokok_baru);\r\n    formData.append(\"tmt_kenaikan_gaji\", values.tmt_kenaikan_gaji);\r\n    formData.append(\"kenaikan_gaji_yad\", values.kenaikan_gaji_yad);\r\n    formData.append(\"peraturan\", values.peraturan);\r\n    formData.append(\"keterangan\", values.keterangan);\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair);\r\n    }\r\n\r\n    // Memanggil method Insert KGB untuk menambah data KGB ke database\r\n    insertKGB(\r\n      id_pegawai,\r\n      formData,\r\n      setLoading,\r\n      showAlertSuccess,\r\n      showAlertError\r\n    );\r\n\r\n    setFormatGaji(\"\");\r\n    setKgbTerbaru(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <Formik\r\n          initialValues={initState}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={(values) => handleFormSubmit(values)}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          }) => (\r\n            <CForm onSubmit={handleSubmit}>\r\n              <CModalBody>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Gaji Pokok Lama</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      readOnly={kgbTerbaru ? true : false}\r\n                      type=\"text\"\r\n                      name=\"gaji_pokok_lama\"\r\n                      id=\"gaji_pokok_lama\"\r\n                      placeholder=\"Masukkan gaji pokok lama\"\r\n                      onChange={handleChange}\r\n                      onKeyUp={(e) =>\r\n                        convertToCurrency(e.target.value, setFormatGaji2)\r\n                      }\r\n                      onBlur={handleBlur}\r\n                      value={values.gaji_pokok_lama}\r\n                      className={\r\n                        errors.gaji_pokok_lama && touched.gaji_pokok_lama\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {!kgbTerbaru ? (\r\n                      <div className=\"mt-1\">{formatGaji2}</div>\r\n                    ) : (\r\n                      <div className=\"mt-1\">\r\n                        {values.gaji_pokok_lama.toLocaleString(\"id\", {\r\n                          style: \"currency\",\r\n                          currency: \"IDR\",\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    {errors.gaji_pokok_lama && touched.gaji_pokok_lama && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.gaji_pokok_lama}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Gaji Pokok Baru</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"gaji_pokok_baru\"\r\n                      id=\"gaji_pokok_baru\"\r\n                      placeholder=\"Masukkan gaji pokok baru\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      onKeyUp={(e) =>\r\n                        convertToCurrency(e.target.value, setFormatGaji)\r\n                      }\r\n                      value={values.gaji_pokok_baru}\r\n                      className={\r\n                        errors.gaji_pokok_baru && touched.gaji_pokok_baru\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    <div className=\"mt-1\">{formatGaji}</div>\r\n                    {errors.gaji_pokok_baru && touched.gaji_pokok_baru && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.gaji_pokok_baru}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>TMT. Kenaikan Gaji</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"tmt_kenaikan_gaji\"\r\n                      id=\"tmt_kenaikan_gaji\"\r\n                      placeholder=\"Masukkan tmt kenaikan gaji\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      max={values.kenaikan_gaji_yad}\r\n                      value={values.tmt_kenaikan_gaji}\r\n                      className={\r\n                        errors.tmt_kenaikan_gaji && touched.tmt_kenaikan_gaji\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.tmt_kenaikan_gaji && touched.tmt_kenaikan_gaji && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.tmt_kenaikan_gaji}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Kenaikan Gaji YAD</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"kenaikan_gaji_yad\"\r\n                      id=\"kenaikan_gaji_yad\"\r\n                      placeholder=\"Masukkan tanggal gaji yang akan datang\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      min={values.tmt_kenaikan_gaji}\r\n                      value={values.kenaikan_gaji_yad}\r\n                      className={\r\n                        errors.kenaikan_gaji_yad && touched.kenaikan_gaji_yad\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.kenaikan_gaji_yad && touched.kenaikan_gaji_yad && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.kenaikan_gaji_yad}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Peraturan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"peraturan\"\r\n                      id=\"peraturan\"\r\n                      placeholder=\"Masukkan peraturan yang mengatur sistem penggajian\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.peraturan}\r\n                      className={\r\n                        errors.peraturan && touched.peraturan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.peraturan && touched.peraturan && (\r\n                      <div className=\"invalid-feedback\">{errors.peraturan}</div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Keterangan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"keterangan\"\r\n                      id=\"keterangan\"\r\n                      placeholder=\"Masukkan keterangan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.keterangan}\r\n                      className={\r\n                        errors.keterangan && touched.keterangan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.keterangan && touched.keterangan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.keterangan}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CModalBody>\r\n              <CModalFooter>\r\n                <CButton\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  // onClick={() => handleFormSubmit(values)}\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  {loading ? (\r\n                    <img\r\n                      width={21}\r\n                      src={LoadAnimationWhite}\r\n                      alt=\"load-animation\"\r\n                    />\r\n                  ) : (\r\n                    \"Simpan\"\r\n                  )}\r\n                </CButton>{\" \"}\r\n                <CButton\r\n                  type=\"button\"\r\n                  color=\"secondary\"\r\n                  onClick={() => setModalTambah(!modalTambah)}\r\n                >\r\n                  Batal\r\n                </CButton>\r\n              </CModalFooter>\r\n            </CForm>\r\n          )}\r\n        </Formik>\r\n      ) : (\r\n        <div>\r\n          <CRow>\r\n            <CCol className=\"text-center\">\r\n              <img\r\n                className=\"mt-4 ml-3 mb-4\"\r\n                width={30}\r\n                src={LoadAnimationBlue}\r\n                alt=\"load-animation\"\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TambahKGB;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getKGBTerbaru = (id_pegawai, setData, setLoading) => {\r\n  setLoading(true);\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/kgb-terbaru`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const insertKGB = (\r\n  id_pegawai,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${id_pegawai}/kgb`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getKGB = (id_pegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/kgb`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      setLoading(false);\r\n    });\r\n};\r\n","const printKGBPegawai = (id) => {\r\n  window.open(`${localStorage.baseURL}print-kgb-pegawai/${id}`, \"_blank\");\r\n};\r\n\r\nexport default printKGBPegawai;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CCol,\r\n  CBadge,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport EditKGB from \"./EditKGB\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPen, cilTrash, cilPrint } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TambahKGB from \"./TambahKGB\";\r\nimport { getKGB } from \"src/context/actions/KGB/getKGB\";\r\nimport { deleteKGB } from \"src/context/actions/KGB/deleteKGB\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport { format } from \"date-fns\";\r\nimport printKGBPegawai from \"src/context/actions/DownloadFile/printKGBPegawai\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst DaftarKGB = ({ match }) => {\r\n  const params = match.params;\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const [modalEdit, setModalEdit] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goBackToParent = () => {\r\n    history.push(`/epekerja/admin/kgb`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Get Pegawai by Id Pegawai\r\n    getPNSById(params.id, setPegawai);\r\n\r\n    // Get KGB By Id Pegawai\r\n    getKGB(params.id, setLoading, setData);\r\n\r\n    // Unmount\r\n    return () => {\r\n      setPegawai(\"\");\r\n      setData([]);\r\n    };\r\n  }, [params]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No\",\r\n      selector: (row) => row.no,\r\n      sortable: true,\r\n      wrap: true,\r\n      width: \"100px\",\r\n    },\r\n    {\r\n      name: \"TMT. Kenaikan Gaji\",\r\n      selector: (row) => row.tmt_kenaikan_gaji,\r\n      sortable: true,\r\n      // maxWidth: \"200px\",\r\n      wrap: true,\r\n      cell: (row) => (\r\n        <div>{format(new Date(row.tmt_kenaikan_gaji), \"dd/MM/y\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Gaji P. Lama\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (row) => (\r\n        <div>\r\n          {row.gaji_pokok_lama.toLocaleString(\"id\", {\r\n            style: \"currency\",\r\n            currency: \"IDR\",\r\n          })}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Gaji P. Baru\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (row) => (\r\n        <div>\r\n          {row.gaji_pokok_baru.toLocaleString(\"id\", {\r\n            style: \"currency\",\r\n            currency: \"IDR\",\r\n          })}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Kenaikan Gaji YAD\",\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => (\r\n        <div>{format(new Date(row.kenaikan_gaji_yad), \"dd/MM/y\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Status\",\r\n      sortable: true,\r\n      wrap: true,\r\n      cell: (row) => {\r\n        // Get timestamp from current date\r\n        let timestampCurrent = new Date().getTime();\r\n        // Get timestamp from tmt kenaikan gaji\r\n        let timestampTMTGaji = new Date(row.tmt_kenaikan_gaji).getTime();\r\n        // Get timestamp from kenaikan gaji yad\r\n        let timestampGajiYAD = new Date(row.kenaikan_gaji_yad).getTime();\r\n\r\n        let status = false;\r\n\r\n        if (timestampCurrent < timestampTMTGaji) {\r\n          status = \"akan-aktif\";\r\n        } else if (timestampCurrent <= timestampGajiYAD) {\r\n          status = \"aktif\";\r\n        } else {\r\n          status = \"tidak-aktif\";\r\n        }\r\n\r\n        return (\r\n          <div>\r\n            {status === \"akan-aktif\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"dark\" shape=\"pill\">\r\n                KGB Belum Aktif\r\n              </CBadge>\r\n            )}\r\n            {status === \"aktif\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"success\" shape=\"pill\">\r\n                KGB Aktif\r\n              </CBadge>\r\n            )}\r\n            {status === \"tidak-aktif\" && (\r\n              <CBadge className=\"py-2 px-3\" color=\"warning\" shape=\"pill\">\r\n                KGB Kadaluarsa\r\n              </CBadge>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      // maxWidth: \"150px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => {\r\n        // Get timestamp from current date\r\n        let timestampCurrent = new Date().getTime();\r\n        // Get timestamp from tmt kenaikan gaji\r\n        let timestampTMTGaji = new Date(row.tmt_kenaikan_gaji).getTime();\r\n        // Get timestamp from kenaikan gaji yad\r\n        let timestampGajiYAD = new Date(row.kenaikan_gaji_yad).getTime();\r\n\r\n        let status = false;\r\n\r\n        if (timestampCurrent < timestampTMTGaji) {\r\n          status = false;\r\n        } else if (timestampCurrent <= timestampGajiYAD) {\r\n          status = true;\r\n        } else {\r\n          status = false;\r\n        }\r\n\r\n        return (\r\n          <div data-tag=\"allowRowEvents\">\r\n            <CButton\r\n              className=\"mr-1\"\r\n              color=\"info\"\r\n              disabled={status ? false : true}\r\n            >\r\n              <CIcon content={cilPrint} />\r\n            </CButton>\r\n            <CButton\r\n              color=\"warning\"\r\n              onClick={() => {\r\n                setModalEdit({\r\n                  ...modalEdit,\r\n                  modal: !modalEdit.modal,\r\n                  id: row.id_kgb,\r\n                });\r\n              }}\r\n              className=\"text-white mr-1\"\r\n            >\r\n              <CIcon content={cilPen} />\r\n            </CButton>\r\n            <CButton color=\"danger\" onClick={() => handleDelete(row.id_kgb)}>\r\n              <CIcon content={cilTrash} />\r\n            </CButton>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_kgb) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteKGB(params.id, id_kgb, setLoading, setData);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"d-flex justify-content-between\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Perbarui Gaji\r\n          </CButton>\r\n          <div className=\"d-flex\">\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"info\"\r\n              className=\"ml-2\"\r\n              onClick={() => printKGBPegawai(params.id)}\r\n            >\r\n              PDF <CIcon content={cilPrint} />\r\n            </CButton>\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"success\"\r\n              className=\"ml-2\"\r\n              onClick={() => exportExcel(`kgb-pegawai/` + params.id)}\r\n            >\r\n              Excel <CIcon content={cilPrint} />\r\n            </CButton>\r\n          </div>\r\n        </div>\r\n        <div className=\"mx-auto\">\r\n          <h3 className=\"font-weight-normal text-center\">\r\n            Riwayat KGB Pegawai\r\n          </h3>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Expandable Component\r\n  const ExpandableComponent = ({ data }) => {\r\n    return (\r\n      <div style={{ padding: \"10px 63px\" }}>\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"3\">\r\n            <strong>Tgl. Pembuatan KGB</strong>\r\n          </CCol>\r\n          <CCol>{format(new Date(data.created_at), \"dd/MM/y\")}</CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"3\">\r\n            <strong>Peraturan</strong>\r\n          </CCol>\r\n          <CCol>{data.peraturan}</CCol>\r\n        </CRow>\r\n\r\n        <CRow className=\"mb-1\">\r\n          <CCol md=\"3\">\r\n            <strong>Keterangan</strong>\r\n          </CCol>\r\n          <CCol>{data.keterangan}</CCol>\r\n        </CRow>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Daftar Kenaikan Gaji Berkala</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n              expandableRows\r\n              expandOnRowClicked\r\n              expandableRowsComponent={<ExpandableComponent />}\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Perbarui Gaji</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <TambahKGB\r\n          modalTambah={modalTambah}\r\n          setModalTambah={setModalTambah}\r\n          id_pegawai={params.id}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Modal Edit KGB */}\r\n      <CModal\r\n        show={modalEdit.modal}\r\n        onClose={() => {\r\n          setModalEdit({\r\n            ...modalEdit,\r\n            modal: !modalEdit.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Edit Histori Gaji</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <EditKGB\r\n          id_kgb={modalEdit.id}\r\n          id_pegawai={params.id}\r\n          modalEdit={modalEdit}\r\n          setModalEdit={setModalEdit}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DaftarKGB;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getKGB } from \"./getKGB\";\r\n\r\nexport const deleteKGB = (id_pegawai, id_kgb, setLoading, setKGB) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/kgb/${id_kgb}/delete`)\r\n    .then((res) => {\r\n      getKGB(id_pegawai, setLoading, setKGB);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]"],"sourceRoot":""}