(this.webpackJsonpEPekerja=this.webpackJsonpEPekerja||[]).push([[107],{1055:function(e,n,a){"use strict";a.r(n);var t=a(638),r=a(7),s=a(1),c=a(631),i=a.n(c),o=a(632),l=a.n(o),u=a(635),d=a(627),j=a(20),h=a(163),m=a(634),b=a(629),f=a(626),O=a(726),x=a(17),p=l()(i.a);n.default=function(e){e.match;var n=Object(j.g)(),a=Object(s.useState)(!1),c=Object(r.a)(a,2),i=c[0],o=c[1],l=Object(s.useContext)(h.a),v=l.userState,k=l.userDispatch,g=v.data,w=Object(s.useState)(""),y=Object(r.a)(w,2),S=y[0],C=y[1],E={username:g?g.username:""},B=function(){p.fire({icon:"success",title:"Edit Akun Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){window.location.href="/epekerja/user/akun"}))},N=function(e){var n="";for(var a in e)n+="".concat(e[a],", ");p.fire({icon:"error",title:"Edit Akun Gagal",text:n}).then((function(e){o(!1)}))},A=u.c().shape({username:u.e().required("Username harus diisi")}),D=function(e){var n=new FormData;n.append("username",e.username);var a,r=Object(t.a)(n.entries());try{for(r.s();!(a=r.n()).done;){var s=a.value;console.log(s)}}catch(c){r.e(c)}finally{r.f()}console.log(S),function(e,n,a,t,r,s){n(!0),f.a.post("user/akun",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){console.log(e.data),Object(O.a)(s,r),n(!1),a()})).catch((function(e){console.log(e.response.data),t(e.response.data.errors)}))}(n,o,B,N,k,C)};return Object(x.jsx)("div",{children:Object(x.jsxs)(d.h,{children:[Object(x.jsxs)(d.l,{className:"d-flex justify-content-between",children:[Object(x.jsx)("h3",{children:"Edit Akun"}),Object(x.jsx)(d.f,{color:"warning",className:"text-white",onClick:function(){n.goBack()},children:"Kembali"})]}),Object(x.jsx)(m.a,{initialValues:E,enableReinitialize:!0,validationSchema:A,onSubmit:function(e){return D(e)},children:function(e){var n=e.values,a=e.errors,t=e.touched,r=e.handleChange,s=e.handleBlur,c=e.handleSubmit;e.setFieldValue;return Object(x.jsxs)(d.x,{onSubmit:c,children:[Object(x.jsx)(d.i,{children:Object(x.jsx)(d.X,{children:Object(x.jsx)(d.n,{md:"6",children:Object(x.jsxs)(d.y,{children:[Object(x.jsx)(d.L,{children:"Username"}),Object(x.jsx)(d.E,{type:"text",id:"username",name:"username",placeholder:"Masukkan username",onChange:r,onBlur:s,value:n.username||"",className:a.username&&t.username?"is-invalid":null}),a.username&&t.username&&Object(x.jsx)("div",{className:"invalid-feedback",children:a.username})]})})})}),Object(x.jsx)(d.j,{children:Object(x.jsx)(d.f,{type:"submit",color:"primary",className:"mr-1",disabled:!!i,children:i?Object(x.jsx)("img",{width:21,src:b.e,alt:"load-animation"}):"Simpan"})})]})}})]})})}}}]);
//# sourceMappingURL=107.e9c0ebf1.chunk.js.map