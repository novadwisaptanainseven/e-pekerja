(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[62],{1017:function(a,n,e){"use strict";e.r(n);var i=e(10),t=e(1),c=e(632),d=e.n(c),r=e(633),s=e.n(r),b=e(637),u=e(636),l=e(630),o=e(628),j=e(20),h=e(649),g=e(626),m=e(17),f=s()(d.a);n.default=function(a){var n=a.match,e=Object(j.g)(),c=n.params,d=Object(t.useState)(!1),r=Object(i.a)(d,2),s=r[0],O=r[1],_=Object(t.useState)([]),x=Object(i.a)(_,2),k=x[0],p=x[1],v=Object(t.useState)(null),B=Object(i.a)(v,2),S=B[0],N=B[1];Object(t.useEffect)((function(){Object(h.a)(p),function(a,n){g.a.get("admin/master-data/sub-bidang/".concat(a)).then((function(a){n(a.data.data)})).catch((function(a){}))}(c.id,N)}),[c]);var C=function(){e.goBack()},K={id_bidang:S?S.id_bidang:"",nama_sub_bidang:S?S.nama_sub_bidang:"",keterangan:S?S.keterangan:""},w=function(){f.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(a){e.push("/epekerja/admin/master-data/sub-bidang")}))},D=function(a){var n="";for(var e in a)n+="".concat(a[e],", ");f.fire({icon:"error",title:"Edit Data Gagal",text:n}).then((function(a){O(!1)}))},q=b.c().shape({id_bidang:b.e().required("Bidang harus dipilih!"),nama_sub_bidang:b.e().required("Sub Bidang harus diisi!"),keterangan:b.e().required("Keterangan harus diisi!")}),y=function(a){!function(a,n,e,i,t){e(!0),g.a.put("admin/master-data/sub-bidang/".concat(a),n).then((function(a){e(!1),i()})).catch((function(a){t(a.response.data.errors)}))}(c.id,a,O,w,D)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(o.h,{children:[Object(m.jsx)(o.l,{children:Object(m.jsx)("h3",{children:"Ubah Sub Bidang"})}),Object(m.jsx)(u.a,{initialValues:K,validationSchema:q,enableReinitialize:!0,onSubmit:function(a){return y(a)},children:function(a){var n=a.values,e=a.errors,i=a.touched,t=a.handleChange,c=a.handleBlur,d=a.handleSubmit;return Object(m.jsxs)(o.w,{onSubmit:d,children:[Object(m.jsx)(o.i,{children:Object(m.jsx)(o.W,{children:Object(m.jsxs)(o.m,{xs:"12",md:"6",children:[Object(m.jsxs)(o.x,{children:[Object(m.jsx)(o.K,{children:"Bidang"}),Object(m.jsxs)(o.X,{custom:!0,name:"id_bidang",id:"id_bidang",onChange:t,onBlur:c,value:n.id_bidang,className:e.id_bidang&&i.id_bidang?"is-invalid":null,children:[Object(m.jsx)("option",{value:"",children:"-- Pilih Bidang --"}),k.length>0&&k.map((function(a,n){return Object(m.jsx)("option",{value:a.id_bidang,children:a.nama_bidang},n)}))]}),e.id_bidang&&i.id_bidang&&Object(m.jsx)("div",{className:"invalid-feedback",children:e.id_bidang})]}),Object(m.jsxs)(o.x,{children:[Object(m.jsx)(o.K,{htmlFor:"name",children:"Sub Bidang"}),Object(m.jsx)(o.D,{id:"nama_sub_bidang",name:"nama_sub_bidang",placeholder:"Masukkan sub bidang",onChange:t,onBlur:c,value:n.nama_sub_bidang,className:e.nama_sub_bidang&&i.nama_sub_bidang?"is-invalid":null}),e.nama_sub_bidang&&i.nama_sub_bidang&&Object(m.jsx)("div",{className:"invalid-feedback",children:e.nama_sub_bidang})]}),Object(m.jsxs)(o.x,{children:[Object(m.jsx)(o.K,{htmlFor:"name",children:"Keterangan"}),Object(m.jsx)(o.D,{id:"keterangan",name:"keterangan",placeholder:"Masukkan keterangan",onChange:t,onBlur:c,value:n.keterangan,className:e.keterangan&&i.keterangan?"is-invalid":null}),e.keterangan&&i.keterangan&&Object(m.jsx)("div",{className:"invalid-feedback",children:e.keterangan})]})]})})}),Object(m.jsxs)(o.j,{children:[Object(m.jsx)(o.f,{type:"submit",color:"primary",className:"mr-1",disabled:!!s,children:s?Object(m.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"}),Object(m.jsx)(o.f,{type:"button",color:"danger",onClick:C,children:"Kembali"})]})]})}})]})})}},649:function(a,n,e){"use strict";e.d(n,"a",(function(){return t}));var i=e(626),t=function(a){i.a.get("admin/master-data/bidang").then((function(n){a(n.data.data)})).catch((function(a){}))}}}]);
//# sourceMappingURL=62.912a81ca.chunk.js.map