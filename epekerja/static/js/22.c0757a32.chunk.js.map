{"version":3,"sources":["context/actions/Pegawai/PNS/getPNSById.js","../node_modules/@coreui/icons/js/free/cil-pen.js","context/actions/Absensi/getRekapAbsensiPerTahun.js","context/actions/Absensi/getRiwayatAbsensiPegawai.js","views/pages/Admin/Absensi/TambahAbsen.js","context/actions/Absensi/insertOrUpdateAbsensi.js","context/actions/Absensi/insertAbsensi.js","helpers/capitalizeFirst.js","context/actions/DownloadFile/printAbsensiByIdPegawai.js","views/pages/Admin/Absensi/EditAbsensi.js","context/actions/Absensi/getAbsensiById.js","context/actions/Absensi/editAbsensi.js","views/pages/Admin/Absensi/RiwayatAbsensi.js","context/actions/Absensi/deleteAbsensi.js","context/actions/DownloadFile/printAbsensiByFilterTanggal.js"],"names":["getPNSById","id","setPNS","axiosInstance","get","then","res","data","catch","err","cilPen","getRekapAbsensiPerTahun","idPegawai","setLoading","setData","console","log","response","getRiwayatAbsensiPegawai","values","startDate","endDate","TambahAbsen","modal","setRiwayatAbsen","setRekapAbsensi","setLoadingRiwayatAbsen","setLoadingRekapAbsensi","formattedDateRiwayatAbsen","useState","tglAbsen","setTglAbsen","absen","setAbsen","keterangan","setKeterangan","namaHari","setNamaHari","loading","getNamaHari","useCallback","$tgl","hari","format","Date","filterYear","filterMonth","tgl","useEffect","tgl_absen","handleOnSubmit","e","preventDefault","id_pegawai","saveData","id_absensi","parseInt","trigger","setModal","post","header","_boundary","prevState","insertOrUpdateAbsensi","setTriggerUpdateData","insertAbsensi","onSubmit","row","md","type","name","value","onChange","target","placeholder","readOnly","custom","required","disabled","selected","color","onClick","document","getElementById","setAttribute","capitalizeFirst","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","printRekapAbsensiByIdPegawai","window","open","localStorage","baseURL","EditAbsen","setAbsensi","idAbsensi","put","editAbsensi","MySwal","withReactContent","swal2","RiwayatAbsensi","params","match","modalTambah","setModalTambah","collapse","setCollapse","collapse2","setCollapse2","history","useHistory","rekap","setRekap","loading2","setLoading2","pegawai","setPegawai","key","state","setState","formattedDate","setFormattedDate","modalEdit","setModalEdit","columns","selector","sortable","wrap","width","cell","item","shape","className","maxWidth","data-tag","content","handleDelete","cilTrash","fire","icon","title","text","showConfirmButton","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","deleteAbsensi","SubHeaderComponentMemo","style","InformasiComponent","map","index","tahun","hadir","izin","sakit","cuti","tanpa_keterangan","Kalender","editableDateInputs","selection","timestampStartDate","parse","timestampEndDate","handleDateChange","moveRangeOnFirstSelection","ranges","nama","height","goBack","show","cilPrint","exportExcel","filter","src","LoadAnimationBlue","alt","noHeader","responsive","customStyles","headCells","fontSize","pagination","subHeader","subHeaderComponent","highlightOnHover","onClose","size","closeButton"],"mappings":"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","file":"static/js/22.c0757a32.chunk.js","sourcesContent":["import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPNSById = (id, setPNS) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/pns/${id}`)\r\n    .then((res) => {\r\n      setPNS(res.data.data);\r\n      // console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err.response.data);\r\n    });\r\n};\r\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRekapAbsensiPerTahun = (idPegawai, setLoading, setData) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .get(`admin/pegawai/${idPegawai}/rekap-absensi`)\r\n    .then((res) => {\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getRiwayatAbsensiPegawai = (\r\n  idPegawai,\r\n  setLoading,\r\n  setData,\r\n  values\r\n) => {\r\n  setLoading(true);\r\n\r\n  console.log(values);\r\n\r\n  axiosInstance\r\n    .get(\r\n      `admin/pegawai/${idPegawai}/absensi?first_date=${values.startDate}&last_date=${values.endDate}`\r\n    )\r\n    .then((res) => {\r\n      setData(res.data.data);\r\n      setLoading(false);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CForm,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n} from \"@coreui/react\";\r\nimport { format } from \"date-fns\";\r\nimport { insertOrUpdateAbsensi } from \"src/context/actions/Absensi/insertOrUpdateAbsensi\";\r\nimport { insertAbsensi } from \"src/context/actions/Absensi/insertAbsensi\";\r\n\r\nconst TambahAbsen = ({\r\n  data,\r\n  modal,\r\n  idPegawai,\r\n  setRiwayatAbsen,\r\n  setRekapAbsensi,\r\n  setLoadingRiwayatAbsen,\r\n  setLoadingRekapAbsensi,\r\n  formattedDateRiwayatAbsen,\r\n}) => {\r\n  const [tglAbsen, setTglAbsen] = useState(\"\");\r\n  const [absen, setAbsen] = useState(\"\");\r\n  const [keterangan, setKeterangan] = useState(\"\");\r\n  const [namaHari, setNamaHari] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const getNamaHari = useCallback(\r\n    ($tgl = null) => {\r\n      let hari = \"\";\r\n      if (data) {\r\n        hari = format(\r\n          new Date(data.filterYear, data.filterMonth, data.tgl),\r\n          \"EEEEEE\"\r\n        );\r\n      } else {\r\n        hari = format(new Date(), \"EEEEEE\");\r\n      }\r\n\r\n      if ($tgl) {\r\n        hari = format(new Date($tgl), \"EEEEEE\");\r\n      }\r\n\r\n      switch (hari) {\r\n        case \"Su\":\r\n          hari = \"minggu\";\r\n          break;\r\n        case \"Mo\":\r\n          hari = \"senin\";\r\n          break;\r\n        case \"Tu\":\r\n          hari = \"selasa\";\r\n          break;\r\n        case \"We\":\r\n          hari = \"rabu\";\r\n          break;\r\n        case \"Th\":\r\n          hari = \"kamis\";\r\n          break;\r\n        case \"Fr\":\r\n          hari = \"jumat\";\r\n          break;\r\n        case \"Sa\":\r\n          hari = \"sabtu\";\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n\r\n      return hari;\r\n    },\r\n    [data]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let tgl_absen = null;\r\n\r\n    // Cek apakah data dan properti tgl ada\r\n    if (!data) {\r\n      tgl_absen = format(new Date(), \"yyyy-MM-dd\");\r\n      setTglAbsen(tgl_absen);\r\n      // Get Nama Hari\r\n      setNamaHari(getNamaHari());\r\n    }\r\n    if (data && data.tgl) {\r\n      tgl_absen = format(\r\n        new Date(data.filterYear, data.filterMonth, data.tgl),\r\n        \"yyyy-MM-dd\"\r\n      );\r\n      setTglAbsen(tgl_absen);\r\n      setAbsen(data.absen);\r\n      setKeterangan(data.keterangan);\r\n      // Get Nama Hari\r\n      setNamaHari(getNamaHari());\r\n    }\r\n  }, [data, getNamaHari]);\r\n\r\n  useEffect(() => {\r\n    setNamaHari(getNamaHari(tglAbsen));\r\n  }, [tglAbsen, getNamaHari]);\r\n\r\n  // Handle kosongkan input keterangan ketika tombol close modal diklik\r\n  const handleCloseModal = () => {\r\n    setKeterangan(\"\");\r\n    modal.setModal(!modal.modal);\r\n\r\n    let inputKeterangan = document.getElementById(\"keterangan\");\r\n    inputKeterangan.setAttribute(\"value\", \"\");\r\n  };\r\n\r\n  // Handle ketika data disimpan\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // let valTanggal = document.getElementById(\"tgl_absen\").getAttribute(\"value\");\r\n    // let valHari = document.getElementById(\"hari\").getAttribute(\"value\");\r\n    // let valAbsen = document.getElementById(\"absen\").getAttribute(\"value\");\r\n\r\n    // let valKeterangan = document\r\n    //   .getElementById(\"keterangan\")\r\n    //   .getAttribute(\"value\");\r\n\r\n    let id_pegawai = data ? data.id_pegawai : idPegawai;\r\n\r\n    const saveData = {\r\n      // id_pegawai: idPegawai ? idPegawai : data.id_pegawai,\r\n      id_absensi: data ? data.id_absensi : \"\",\r\n      tgl_absen: tglAbsen,\r\n      hari: namaHari,\r\n      absen: absen === \"empty\" ? \"\" : parseInt(absen),\r\n      keterangan: keterangan,\r\n    };\r\n\r\n    console.log(saveData);\r\n    // Insert or Update Absensi\r\n\r\n    if (data) {\r\n      insertOrUpdateAbsensi(\r\n        id_pegawai,\r\n        setLoading,\r\n        saveData,\r\n        data.setTriggerUpdateData,\r\n        modal.setModal\r\n      );\r\n    } else {\r\n      insertAbsensi(\r\n        id_pegawai,\r\n        setLoading,\r\n        saveData,\r\n        modal.setModal,\r\n        setRiwayatAbsen,\r\n        setRekapAbsensi,\r\n        setLoadingRiwayatAbsen,\r\n        setLoadingRekapAbsensi,\r\n        formattedDateRiwayatAbsen\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CForm onSubmit={(e) => handleOnSubmit(e)}>\r\n        <CModalBody>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Tanggal Absen</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CInput\r\n                type=\"date\"\r\n                name=\"tgl_absen\"\r\n                id=\"tgl_absen\"\r\n                value={tglAbsen || \"\"}\r\n                onChange={(e) => setTglAbsen(e.target.value)}\r\n                placeholder=\"Masukkan tanggal absen\"\r\n                readOnly={data && data.tgl ? true : false}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Hari</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              {data ? (\r\n                // Jika ada nama hari\r\n                <CInput\r\n                  name=\"hari\"\r\n                  id=\"hari\"\r\n                  value={namaHari || \"\"}\r\n                  onChange={(e) => setNamaHari(e.target.value)}\r\n                  readOnly={data && data.tgl ? true : false}\r\n                />\r\n              ) : (\r\n                // Jika Tidak Ada nama hari\r\n                <CSelect\r\n                  custom\r\n                  name=\"hari\"\r\n                  id=\"hari\"\r\n                  required\r\n                  value={namaHari || \"\"}\r\n                  onChange={(e) => setNamaHari(e.target.value)}\r\n                  disabled\r\n                >\r\n                  <option value=\"\">-- Pilih Hari --</option>\r\n                  <option value=\"senin\">Senin</option>\r\n                  <option value=\"selasa\">Selasa</option>\r\n                  <option value=\"rabu\">Rabu</option>\r\n                  <option value=\"kamis\">Kamis</option>\r\n                  <option value=\"jumat\">Jumat</option>\r\n                  <option value=\"sabtu\">Sabtu</option>\r\n                  <option value=\"minggu\">Minggu</option>\r\n                </CSelect>\r\n              )}\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Absen</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              {data ? (\r\n                <CSelect\r\n                  custom\r\n                  name=\"absen\"\r\n                  id=\"absen\"\r\n                  onChange={(e) => setAbsen(e.target.value)}\r\n                  required={true}\r\n                >\r\n                  <option value=\"\" selected={absen === \"empty\" ? true : false}>\r\n                    -- Pilih Absen --\r\n                  </option>\r\n                  <option value=\"5\" selected={absen === 5 ? true : false}>\r\n                    Tanpa Keterangan\r\n                  </option>\r\n                  <option value=\"1\" selected={absen === 1 ? true : false}>\r\n                    Hadir\r\n                  </option>\r\n                  <option value=\"2\" selected={absen === 2 ? true : false}>\r\n                    Izin\r\n                  </option>\r\n                  <option value=\"3\" selected={absen === 3 ? true : false}>\r\n                    Sakit\r\n                  </option>\r\n                  <option value=\"4\" selected={absen === 4 ? true : false}>\r\n                    Cuti\r\n                  </option>\r\n                </CSelect>\r\n              ) : (\r\n                <CSelect\r\n                  custom\r\n                  name=\"absen\"\r\n                  id=\"absen\"\r\n                  required\r\n                  value={absen}\r\n                  onChange={(e) => setAbsen(e.target.value)}\r\n                >\r\n                  <option value=\"\">-- Pilih Absen --</option>\r\n                  <option value=\"5\">Tanpa Keterangan</option>\r\n                  <option value=\"1\">Hadir</option>\r\n                  <option value=\"2\">Izin</option>\r\n                  <option value=\"3\">Sakit</option>\r\n                  <option value=\"4\">Cuti</option>\r\n                </CSelect>\r\n              )}\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Keterangan</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              {keterangan ? (\r\n                <CInput\r\n                  type=\"text\"\r\n                  name=\"keterangan\"\r\n                  id=\"keterangan\"\r\n                  value={keterangan || \"\"}\r\n                  onChange={(e) => setKeterangan(e.target.value)}\r\n                  required\r\n                />\r\n              ) : (\r\n                <CInput\r\n                  type=\"text\"\r\n                  name=\"keterangan\"\r\n                  id=\"keterangan\"\r\n                  value={keterangan || \"\"}\r\n                  onChange={(e) => setKeterangan(e.target.value)}\r\n                  required\r\n                />\r\n              )}\r\n            </CCol>\r\n          </CFormGroup>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            disabled={loading ? true : false}\r\n          >\r\n            {loading ? \"Sedang menyimpan...\" : \"Simpan\"}\r\n          </CButton>{\" \"}\r\n          <CButton type=\"button\" color=\"secondary\" onClick={handleCloseModal}>\r\n            Batal\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CForm>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TambahAbsen;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const insertOrUpdateAbsensi = (\r\n  idPegawai,\r\n  setLoading,\r\n  values,\r\n  trigger,\r\n  setModal\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${idPegawai}/absensi/insert-update`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      setLoading(false);\r\n      trigger((prevState) => !prevState);\r\n      setModal((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          modal: !prevState.modal,\r\n        };\r\n      });\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRekapAbsensiPerTahun } from \"./getRekapAbsensiPerTahun\";\r\nimport { getRiwayatAbsensiPegawai } from \"./getRiwayatAbsensiPegawai\";\r\n\r\nexport const insertAbsensi = (\r\n  idPegawai,\r\n  setLoading,\r\n  values,\r\n  setModal,\r\n  setRiwayatAbsen,\r\n  setRekapAbsensi,\r\n  setLoadingRiwayatAbsen,\r\n  setLoadingRekapAbsensi,\r\n  formattedDateRiwayatAbsen\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .post(`admin/pegawai/${idPegawai}/absensi`, values, {\r\n      header: {\r\n        \"Content-Type\": `multipart/form-data; boundary=${values._boundary}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      setLoading(false);\r\n      setModal(false);\r\n      getRiwayatAbsensiPegawai(\r\n        idPegawai,\r\n        setLoadingRiwayatAbsen,\r\n        setRiwayatAbsen,\r\n        formattedDateRiwayatAbsen\r\n      );\r\n      getRekapAbsensiPerTahun(\r\n        idPegawai,\r\n        setLoadingRekapAbsensi,\r\n        setRekapAbsensi\r\n      );\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","// Ini merupakan fungsi untuk memberi huruf kapital setiap kata\r\nconst capitalizeFirst = (str) => {\r\n  return str.replace(\r\n    /\\w\\S*/g,\r\n    (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\r\n  );\r\n};\r\n\r\nexport default capitalizeFirst;\r\n","export const printRekapAbsensiByIdPegawai = (idPegawai) => {\r\n  window.open(\r\n    `${localStorage.baseURL}print-rekap-absensi-pegawai/${idPegawai}`,\r\n    \"_blank\"\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CSelect,\r\n  CForm,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n} from \"@coreui/react\";\r\nimport { format } from \"date-fns\";\r\nimport { getAbsensiById } from \"src/context/actions/Absensi/getAbsensiById\";\r\nimport { editAbsensi } from \"src/context/actions/Absensi/editAbsensi\";\r\n\r\nconst EditAbsen = ({\r\n  modal,\r\n  setModal,\r\n  idPegawai,\r\n  setRiwayatAbsen,\r\n  setRekapAbsensi,\r\n  setLoadingRiwayatAbsen,\r\n  setLoadingRekapAbsensi,\r\n  formattedDateRiwayatAbsen,\r\n}) => {\r\n  const [data, setData] = useState(\"\");\r\n  const [keterangan, setKeterangan] = useState(\"\");\r\n  const [namaHari, setNamaHari] = useState(data ? data.namaHari : \"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [absen, setAbsen] = useState(data ? data.absen : \"\");\r\n  const [tglAbsen, setTglAbsen] = useState(data ? data.tglAbsen : \"\");\r\n\r\n  const getNamaHari = useCallback(($tgl = null) => {\r\n    let hari = \"\";\r\n\r\n    if ($tgl) {\r\n      hari = format(new Date($tgl), \"EEEEEE\");\r\n    } else {\r\n      hari = format(new Date(), \"EEEEEE\");\r\n    }\r\n\r\n    switch (hari) {\r\n      case \"Su\":\r\n        hari = \"minggu\";\r\n        break;\r\n      case \"Mo\":\r\n        hari = \"senin\";\r\n        break;\r\n      case \"Tu\":\r\n        hari = \"selasa\";\r\n        break;\r\n      case \"We\":\r\n        hari = \"rabu\";\r\n        break;\r\n      case \"Th\":\r\n        hari = \"kamis\";\r\n        break;\r\n      case \"Fr\":\r\n        hari = \"jumat\";\r\n        break;\r\n      case \"Sa\":\r\n        hari = \"sabtu\";\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return hari;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (modal.id) {\r\n      // Get Absensi by Id\r\n      getAbsensiById(idPegawai, modal.id, setData);\r\n    }\r\n\r\n    return () => {\r\n      setTglAbsen(\"\");\r\n      setNamaHari(\"\");\r\n      setKeterangan(\"\");\r\n      setAbsen(\"\");\r\n    };\r\n  }, [idPegawai, modal]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setTglAbsen(data.tgl_absen);\r\n      setNamaHari(data.hari);\r\n      setKeterangan(data.keterangan);\r\n      setAbsen(data.absen);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    setNamaHari(getNamaHari(tglAbsen));\r\n  }, [tglAbsen, getNamaHari]);\r\n\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const saveData = {\r\n      tgl_absen: tglAbsen,\r\n      hari: namaHari,\r\n      absen: parseInt(absen),\r\n      keterangan: keterangan,\r\n    };\r\n\r\n    // console.log(saveData);\r\n\r\n    editAbsensi(\r\n      idPegawai,\r\n      modal.id,\r\n      setLoading,\r\n      saveData,\r\n      setModal,\r\n      setRiwayatAbsen,\r\n      setRekapAbsensi,\r\n      setLoadingRiwayatAbsen,\r\n      setLoadingRekapAbsensi,\r\n      formattedDateRiwayatAbsen\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CForm onSubmit={(e) => handleOnSubmit(e)}>\r\n        <CModalBody>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Tanggal Absen</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CInput\r\n                type=\"date\"\r\n                name=\"tgl_absen\"\r\n                id=\"tgl_absen\"\r\n                value={tglAbsen || \"\"}\r\n                onChange={(e) => setTglAbsen(e.target.value)}\r\n                placeholder=\"Masukkan tanggal absen\"\r\n                required\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Hari</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CSelect\r\n                custom\r\n                name=\"hari\"\r\n                id=\"hari\"\r\n                value={namaHari || \"\"}\r\n                onChange={(e) => setNamaHari(e.target.value)}\r\n                required\r\n                disabled\r\n              >\r\n                <option value=\"\">-- Pilih Hari --</option>\r\n                <option value=\"senin\">Senin</option>\r\n                <option value=\"selasa\">Selasa</option>\r\n                <option value=\"rabu\">Rabu</option>\r\n                <option value=\"kamis\">Kamis</option>\r\n                <option value=\"jumat\">Jumat</option>\r\n                <option value=\"sabtu\">Sabtu</option>\r\n                <option value=\"minggu\">Minggu</option>\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Absen</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CSelect\r\n                custom\r\n                name=\"absen\"\r\n                id=\"absen\"\r\n                value={absen || \"\"}\r\n                onChange={(e) => setAbsen(e.target.value)}\r\n              >\r\n                <option value=\"\">-- Pilih Absen --</option>\r\n                <option value=\"5\">Tanpa Keterangan</option>\r\n                <option value=\"1\">Hadir</option>\r\n                <option value=\"2\">Izin</option>\r\n                <option value=\"3\">Sakit</option>\r\n                <option value=\"4\">Cuti</option>\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"2\">\r\n              <CLabel>Keterangan</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CInput\r\n                type=\"text\"\r\n                name=\"keterangan\"\r\n                id=\"keterangan\"\r\n                value={keterangan || \"\"}\r\n                onChange={(e) => setKeterangan(e.target.value)}\r\n                placeholder=\"Masukkan keterangan\"\r\n                required\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            disabled={loading ? true : false}\r\n          >\r\n            {loading ? \"Sedang menyimpan...\" : \"Simpan\"}\r\n          </CButton>{\" \"}\r\n          <CButton\r\n            type=\"button\"\r\n            color=\"secondary\"\r\n            onClick={() =>\r\n              setModal({\r\n                ...modal,\r\n                modal: false,\r\n                id: null,\r\n              })\r\n            }\r\n          >\r\n            Batal\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CForm>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditAbsen;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getAbsensiById = (id_pegawai, id_absensi, setAbsensi) => {\r\n  axiosInstance\r\n    .get(`admin/pegawai/${id_pegawai}/absensi/${id_absensi}`)\r\n    .then((res) => {\r\n      setAbsensi(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRekapAbsensiPerTahun } from \"./getRekapAbsensiPerTahun\";\r\nimport { getRiwayatAbsensiPegawai } from \"./getRiwayatAbsensiPegawai\";\r\n\r\nexport const editAbsensi = (\r\n  idPegawai,\r\n  idAbsensi,\r\n  setLoading,\r\n  values,\r\n  setModal,\r\n  setRiwayatAbsen,\r\n  setRekapAbsensi,\r\n  setLoadingRiwayatAbsen,\r\n  setLoadingRekapAbsensi,\r\n  formattedDateRiwayatAbsen\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .put(`admin/pegawai/${idPegawai}/absensi/${idAbsensi}`, values)\r\n    .then((res) => {\r\n      setLoading(false);\r\n      setModal(false);\r\n      getRiwayatAbsensiPegawai(\r\n        idPegawai,\r\n        setLoadingRiwayatAbsen,\r\n        setRiwayatAbsen,\r\n        formattedDateRiwayatAbsen\r\n      );\r\n      getRekapAbsensiPerTahun(\r\n        idPegawai,\r\n        setLoadingRekapAbsensi,\r\n        setRekapAbsensi\r\n      );\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CBadge,\r\n  CRow,\r\n  CCol,\r\n  CCollapse,\r\n  CCardFooter,\r\n  CPopover,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\n// import styled from \"styled-components\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPen, cilTrash, cilPrint } from \"@coreui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"react-date-range/dist/styles.css\"; // main css file\r\nimport \"react-date-range/dist/theme/default.css\"; // theme css file\r\nimport { DateRange } from \"react-date-range\";\r\nimport { format } from \"date-fns\";\r\nimport TambahAbsen from \"./TambahAbsen\";\r\nimport EditAbsen from \"./EditAbsensi\";\r\nimport { getRiwayatAbsensiPegawai } from \"src/context/actions/Absensi/getRiwayatAbsensiPegawai\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\nimport { getRekapAbsensiPerTahun } from \"src/context/actions/Absensi/getRekapAbsensiPerTahun\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { deleteAbsensi } from \"src/context/actions/Absensi/deleteAbsensi\";\r\nimport capitalizeFirst from \"src/helpers/capitalizeFirst\";\r\nimport { printAbsensiByFilterTanggal } from \"src/context/actions/DownloadFile/printAbsensiByFilterTanggal\";\r\nimport { printRekapAbsensiByIdPegawai } from \"src/context/actions/DownloadFile/printAbsensiByIdPegawai\";\r\nimport { getPNSById } from \"src/context/actions/Pegawai/PNS/getPNSById\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst RiwayatAbsensi = ({ match }) => {\r\n  const params = match.params;\r\n  const [modalTambah, setModalTambah] = useState(false);\r\n  const [collapse, setCollapse] = useState(false);\r\n  const [collapse2, setCollapse2] = useState(false);\r\n  const history = useHistory();\r\n  const [data, setData] = useState([]);\r\n  const [rekap, setRekap] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loading2, setLoading2] = useState(false);\r\n  const [pegawai, setPegawai] = useState(\"\");\r\n  const [state, setState] = useState([\r\n    {\r\n      startDate: new Date(),\r\n      endDate: new Date(),\r\n      key: \"selection\",\r\n    },\r\n  ]);\r\n  const [formattedDate, setFormattedDate] = useState({\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n  });\r\n\r\n  const [modalEdit, setModalEdit] = useState({\r\n    modal: false,\r\n    id: null,\r\n  });\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  console.log(loading2);\r\n\r\n  useEffect(() => {\r\n    // Get Pegawai by ID\r\n    getPNSById(params.id, setPegawai);\r\n    // Get riwayat absensi\r\n    getRiwayatAbsensiPegawai(params.id, setLoading, setData, formattedDate);\r\n    // Get Rekap Absensi\r\n    getRekapAbsensiPerTahun(params.id, setLoading2, setRekap);\r\n  }, [params, formattedDate]);\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No\",\r\n      selector: \"no\",\r\n      sortable: true,\r\n      wrap: true,\r\n      width: \"50px\",\r\n    },\r\n    {\r\n      name: \"Tgl. Absen\",\r\n      selector: \"tgl_absen\",\r\n      sortable: true,\r\n      // maxWidth: \"150px\",\r\n      wrap: true,\r\n      cell: (item) => (\r\n        <div>{format(new Date(item.tgl_absen), \"dd/MM/yyyy\")}</div>\r\n      ),\r\n    },\r\n    {\r\n      name: \"Hari\",\r\n      selector: \"hari\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (row) => {\r\n        return <div>{capitalizeFirst(row.hari)}</div>;\r\n      },\r\n    },\r\n    {\r\n      name: \"Absen\",\r\n      selector: \"absen\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n      cell: (row) => {\r\n        switch (row.absen) {\r\n          case 5:\r\n            return (\r\n              <CBadge color=\"secondary\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Tanpa Keterangan\r\n              </CBadge>\r\n            );\r\n          case 1:\r\n            return (\r\n              <CBadge color=\"success\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Hadir\r\n              </CBadge>\r\n            );\r\n\r\n          case 2:\r\n            return (\r\n              <CBadge color=\"dark\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Izin\r\n              </CBadge>\r\n            );\r\n          case 3:\r\n            return (\r\n              <CBadge color=\"warning\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Sakit\r\n              </CBadge>\r\n            );\r\n          case 4:\r\n            return (\r\n              <CBadge color=\"info\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Cuti\r\n              </CBadge>\r\n            );\r\n          default:\r\n            return (\r\n              <CBadge color=\"dark\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Tanpa Keterangan\r\n              </CBadge>\r\n            );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      name: \"Keterangan\",\r\n      selector: \"keterangan\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"150px\",\r\n    },\r\n    {\r\n      maxWidth: \"180px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => (\r\n        <div data-tag=\"allowRowEvents\">\r\n          <CButton\r\n            color=\"warning\"\r\n            onClick={() => {\r\n              setModalEdit({\r\n                ...modalEdit,\r\n                modal: !modalEdit.modal,\r\n                id: row.id_absensi,\r\n              });\r\n            }}\r\n            className=\"text-white mr-1\"\r\n          >\r\n            <CIcon content={cilPen} />\r\n          </CButton>\r\n          <CButton color=\"danger\" onClick={() => handleDelete(row.id_absensi)}>\r\n            <CIcon content={cilTrash} />\r\n          </CButton>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1.15em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // Menangani tombol hapus\r\n  const handleDelete = (id_absensi) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin menghapus data ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        deleteAbsensi(\r\n          params.id,\r\n          id_absensi,\r\n          setLoading,\r\n          setLoading2,\r\n          setData,\r\n          setRekap,\r\n          formattedDate\r\n        );\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Terhapus\",\r\n          text: \"Data berhasil dihapus\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const SubHeaderComponentMemo = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"d-flex justify-content-between\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <CButton\r\n            color=\"primary\"\r\n            className=\"btn btn-md\"\r\n            onClick={() => setModalTambah(!modalTambah)}\r\n          >\r\n            Tambah Absen\r\n          </CButton>\r\n          <div className=\"d-flex\"></div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const InformasiComponent = () => {\r\n    // const arr = [2020, 2021, 2022];\r\n\r\n    return (\r\n      <>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>Tahun</th>\r\n              <th>Hadir</th>\r\n              <th>Izin</th>\r\n              <th>Sakit</th>\r\n              <th>Cuti</th>\r\n              <th>TK</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rekap.map((item, index) => (\r\n              <tr key={index}>\r\n                <td>{item.tahun}</td>\r\n                <td>{item.hadir}</td>\r\n                <td>{item.izin}</td>\r\n                <td>{item.sakit}</td>\r\n                <td>{item.cuti}</td>\r\n                <td>{item.tanpa_keterangan}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleDateChange = (item) => {\r\n    setState([item.selection]);\r\n    let timestampStartDate = Date.parse(item.selection.startDate);\r\n    let timestampEndDate = Date.parse(item.selection.endDate);\r\n\r\n    let startDate = format(timestampStartDate, \"y-MM-dd\");\r\n    let endDate = format(timestampEndDate, \"y-MM-dd\");\r\n\r\n    setFormattedDate({\r\n      ...formattedDate,\r\n      startDate: startDate,\r\n      endDate: endDate,\r\n    });\r\n    // console.log(formattedDate);\r\n  };\r\n\r\n  const Kalender = () => {\r\n    return (\r\n      <>\r\n        <DateRange\r\n          editableDateInputs={true}\r\n          onChange={(item) => handleDateChange(item)}\r\n          moveRangeOnFirstSelection={false}\r\n          ranges={state}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader className=\"d-flex justify-content-between my-card-header\">\r\n          <div className=\"title mb-2\">\r\n            <h3>Riwayat Absensi Pegawai</h3>\r\n            <h5 className=\"font-weight-normal\">{pegawai.nama}</h5>\r\n          </div>\r\n          <CButton\r\n            color=\"warning\"\r\n            className=\"text-white\"\r\n            style={{ height: \"40px\", width: \"100px\" }}\r\n            onClick={goBackToParent}\r\n          >\r\n            Kembali\r\n          </CButton>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CRow>\r\n            <CCol md=\"6\">\r\n              <CCard className=\"shadow\">\r\n                <CCardHeader className=\"bg-dark\">\r\n                  <h5 className=\"mb-0\">Informasi Absensi Per Tahun</h5>\r\n                </CCardHeader>\r\n                <CCollapse show={collapse}>\r\n                  <CCardBody>\r\n                    <InformasiComponent />\r\n                  </CCardBody>\r\n                </CCollapse>\r\n                <CCardFooter className=\"d-flex justify-content-between\">\r\n                  <CButton\r\n                    type=\"button\"\r\n                    color=\"secondary\"\r\n                    onClick={() => setCollapse(!collapse)}\r\n                  >\r\n                    {!collapse ? \"Klik untuk melihat\" : \"Tutup\"}\r\n                  </CButton>\r\n                  <div>\r\n                    <CPopover content=\"Cetak Rekapan Absensi Pegawai\">\r\n                      <CButton\r\n                        type=\"button\"\r\n                        color=\"info\"\r\n                        className=\"ml-2\"\r\n                        onClick={() => printRekapAbsensiByIdPegawai(params.id)}\r\n                      >\r\n                        <span className=\"my-text-button\">\r\n                          Cetak Rekapan Absensi\r\n                        </span>{\" \"}\r\n                        <CIcon content={cilPrint} />\r\n                      </CButton>\r\n                    </CPopover>\r\n                    <CPopover content=\"Export Rekapan Absensi Pegawai ke Excel\">\r\n                      <CButton\r\n                        type=\"button\"\r\n                        color=\"success\"\r\n                        className=\"ml-2\"\r\n                        onClick={() =>\r\n                          exportExcel(\"absensi-per-tahun/\" + params.id)\r\n                        }\r\n                      >\r\n                        <span className=\"my-text-button\">Excel</span>{\" \"}\r\n                        <CIcon content={cilPrint} />\r\n                      </CButton>\r\n                    </CPopover>\r\n                  </div>\r\n                </CCardFooter>\r\n              </CCard>\r\n            </CCol>\r\n            <CCol md=\"6\">\r\n              <CCard className=\"shadow\">\r\n                <CCardHeader className=\"bg-dark\">\r\n                  <h5 className=\"mb-0\">Filter berdasarkan Tanggal</h5>\r\n                </CCardHeader>\r\n                <CCollapse show={collapse2}>\r\n                  <CCardBody className=\"text-center\">\r\n                    <p>Atur range tanggal untuk menampilkan data absensi</p>\r\n                    <Kalender />\r\n                  </CCardBody>\r\n                </CCollapse>\r\n                <CCardFooter className=\"d-flex justify-content-between\">\r\n                  <div>\r\n                    <CButton\r\n                      type=\"button\"\r\n                      color=\"secondary\"\r\n                      className=\"mr-2\"\r\n                      onClick={() => setCollapse2(!collapse2)}\r\n                    >\r\n                      {!collapse2 ? \"Klik untuk melihat\" : \"Tutup\"}\r\n                    </CButton>\r\n                    <CButton\r\n                      type=\"button\"\r\n                      color=\"danger\"\r\n                      onClick={() =>\r\n                        setFormattedDate({\r\n                          ...formattedDate,\r\n                          startDate: \"\",\r\n                          endDate: \"\",\r\n                        })\r\n                      }\r\n                    >\r\n                      Reset\r\n                    </CButton>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <CPopover content=\"Cetak Riwayat Absensi Pegawai\">\r\n                      <CButton\r\n                        type=\"button\"\r\n                        color=\"info\"\r\n                        className=\"ml-2\"\r\n                        onClick={() =>\r\n                          printAbsensiByFilterTanggal(params.id, formattedDate)\r\n                        }\r\n                      >\r\n                        <span className=\"my-text-button\">PDF</span>{\" \"}\r\n                        <CIcon content={cilPrint} />\r\n                      </CButton>\r\n                    </CPopover>\r\n                    <CPopover content=\"Export Rekapan Absensi Berdasarkan Filter Tanggal ke Excel\">\r\n                      <CButton\r\n                        type=\"button\"\r\n                        color=\"success\"\r\n                        className=\"ml-2\"\r\n                        onClick={() =>\r\n                          exportExcel(\r\n                            \"absensi-filter-tanggal/\" + params.id,\r\n                            formattedDate,\r\n                            \"filter_tanggal\"\r\n                          )\r\n                        }\r\n                      >\r\n                        <span className=\"my-text-button\">Excel</span>{\" \"}\r\n                        <CIcon content={cilPrint} />\r\n                      </CButton>\r\n                    </CPopover>\r\n                  </div>\r\n                </CCardFooter>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n\r\n          {!loading ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={data}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={<SubHeaderComponentMemo />}\r\n              highlightOnHover\r\n            />\r\n          ) : (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Tambah */}\r\n      <CModal\r\n        show={modalTambah}\r\n        onClose={() => setModalTambah(!modalTambah)}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Tambah Absensi Pegawai</CModalTitle>\r\n        </CModalHeader>\r\n\r\n        <TambahAbsen\r\n          modal={{\r\n            setModal: setModalTambah,\r\n            modal: modalTambah,\r\n          }}\r\n          idPegawai={params.id}\r\n          setRiwayatAbsen={setData}\r\n          setRekapAbsensi={setRekap}\r\n          setLoadingRiwayatAbsen={setLoading}\r\n          setLoadingRekapAbsensi={setLoading2}\r\n          formattedDateRiwayatAbsen={formattedDate}\r\n        />\r\n      </CModal>\r\n\r\n      {/* Modal Edit */}\r\n      <CModal\r\n        show={modalEdit.modal}\r\n        onClose={() => {\r\n          setModalEdit({\r\n            ...modalEdit,\r\n            modal: !modalEdit.modal,\r\n            id: null,\r\n          });\r\n        }}\r\n        size=\"lg\"\r\n      >\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Edit Absensi Pegawai</CModalTitle>\r\n        </CModalHeader>\r\n        <EditAbsen\r\n          modal={modalEdit}\r\n          setModal={setModalEdit}\r\n          idPegawai={params.id}\r\n          setRiwayatAbsen={setData}\r\n          setRekapAbsensi={setRekap}\r\n          setLoadingRiwayatAbsen={setLoading}\r\n          setLoadingRekapAbsensi={setLoading2}\r\n          formattedDateRiwayatAbsen={formattedDate}\r\n        />\r\n      </CModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RiwayatAbsensi;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getRekapAbsensiPerTahun } from \"./getRekapAbsensiPerTahun\";\r\nimport { getRiwayatAbsensiPegawai } from \"./getRiwayatAbsensiPegawai\";\r\n\r\nexport const deleteAbsensi = (\r\n  id_pegawai,\r\n  id_absensi,\r\n  setLoading,\r\n  setLoadingRekapAbsensi,\r\n  setData,\r\n  setRekapAbsensi,\r\n  formattedDate\r\n) => {\r\n  axiosInstance\r\n    .delete(`admin/pegawai/${id_pegawai}/absensi/${id_absensi}`)\r\n    .then((res) => {\r\n      getRiwayatAbsensiPegawai(id_pegawai, setLoading, setData, formattedDate);\r\n      getRekapAbsensiPerTahun(\r\n        id_pegawai,\r\n        setLoadingRekapAbsensi,\r\n        setRekapAbsensi\r\n      );\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","export const printAbsensiByFilterTanggal = (idPegawai, filter) => {\r\n  window.open(\r\n    `${localStorage.baseURL}print-rekap-absensi-filter/${idPegawai}?first_date=${filter.startDate}&last_date=${filter.endDate}`,\r\n    \"_blank\"\r\n  );\r\n};\r\n"],"sourceRoot":""}