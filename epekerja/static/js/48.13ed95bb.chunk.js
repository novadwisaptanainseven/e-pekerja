(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{1046:function(e,t,n){"use strict";n.r(t);var r,a,o=n(9),i=n(640),c=n(1),s=n.n(c),l=n(627),d=n(641),u=n.n(d),p=n(643),b=n(20),j=n(637),f=n(673),h=n(657),m=n(587),x=n(629),g=n(163),O=n(40),w=n(626),y=function(e){e({type:O.LOADING}),w.a.get("admin/users").then((function(t){console.log(t.data),e({type:O.SUCCESS,payload:t.data.data})})).catch((function(t){console.log(t.response.data),e({type:O.ERROR,payload:t.response.data})}))},v=n(642),C=n(631),k=n.n(C),A=n(632),S=n.n(A),N=n(17),H=S()(k.a),R=p.default.input(r||(r=Object(i.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),L=p.default.button(a||(a=Object(i.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),P=function(e){var t=e.filterText,n=e.onFilter,r=e.onClear;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(R,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:t,onChange:n}),Object(N.jsx)(L,{type:"button",onClick:r,children:"Reset"})]})};t.default=function(){var e=Object(b.g)(),t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),d=Object(o.a)(i,2),p=d[0],O=d[1],C=Object(c.useContext)(g.a),k=C.usersState,A=C.usersDispatch,S=k.data,R=k.loading;Object(c.useEffect)((function(){y(A)}),[A]);var L=S.filter((function(e){return!(!e.name||!e.username||!e.name.toLowerCase().includes(r.toLowerCase())&&!e.username.toLowerCase().includes(r.toLowerCase()))})),F=function(e){H.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(t){var n,r;t.isConfirmed&&(n=e,r=A,w.a.delete("admin/users/".concat(n)).then((function(e){y(r),console.log(e.data)})).catch((function(e){console.log(e.response.data)})),H.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}))}))},M=[{name:"No",selector:"no",sortable:!0,width:"75px"},{name:"Nama",sortable:!0,wrap:!0,cell:function(e){return Object(N.jsx)("div",{children:1===e.level?e.name:e.nama_pegawai})}},{name:"Username",selector:"username",sortable:!0,wrap:!0},{name:"Level",selector:"level",sortable:!0,wrap:!0,cell:function(e){return 1===e.level?"Administrator":"User"}},{maxWidth:"150px",name:"Action",sortable:!0,cell:function(e){return Object(N.jsx)("div",{"data-tag":"allowRowEvents",children:Object(N.jsxs)(l.g,{children:[Object(N.jsx)(l.f,{color:"info",className:"btn btn-sm",onClick:parseInt(localStorage.id_user)===e.id?function(){return B()}:function(){return D(e.id)},children:Object(N.jsx)(j.a,{content:f.a,color:"white"})}),parseInt(localStorage.id_user)===e.id&&Object(N.jsx)(l.f,{disabled:1!==e.level,color:"success",className:"btn btn-sm",onClick:function(){return Z(e.id)},children:Object(N.jsx)(j.a,{content:h.a,color:"white"})}),parseInt(localStorage.id_user)!==e.id&&Object(N.jsx)(l.f,{color:"danger",className:"btn btn-sm",onClick:function(){return F(e.id)},children:Object(N.jsx)(j.a,{content:m.a,color:"white"})})]})})}}],_={headCells:{style:{fontSize:"1.15em"}}},T=s.a.useMemo((function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(P,{onFilter:function(e){return a(e.target.value)},onClear:function(){r&&(O(!p),a(""))},filterText:r})})}),[r,p]),Z=function(t){e.push("/epekerja/admin/akun/edit/".concat(t))},B=function(){e.push("/epekerja/admin/akun")},D=function(t){e.push("/epekerja/admin/users/detail/".concat(t))},I=function(e){var t=e.data;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{padding:"10px 63px"},children:Object(N.jsxs)(l.X,{children:[Object(N.jsx)(l.n,{md:"2",children:Object(N.jsx)("strong",{children:"Foto Profil"})}),Object(N.jsx)(l.n,{children:Object(N.jsx)("img",{className:"img-thumbnail",width:100,src:1===t.level?Object(v.d)(t.foto_profil):t.foto_pegawai?Object(v.d)(t.foto_pegawai):"",alt:"foto-profil"})})]})})})};return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(l.h,{children:[Object(N.jsx)(l.l,{children:Object(N.jsx)("h3",{children:"Data Users"})}),Object(N.jsxs)(l.i,{children:[Object(N.jsx)(l.f,{className:"mr-2",type:"button",color:"primary",onClick:function(){e.push("/epekerja/admin/users/tambah")},children:"Tambah Akun Administrator"}),Object(N.jsx)(l.f,{type:"button",color:"primary",onClick:function(){e.push("/epekerja/admin/users/tambah-akun-pegawai")},children:"Tambah Akun Pegawai"}),S.length>0?Object(N.jsx)(u.a,{columns:M,data:L,noHeader:!0,responsive:!0,customStyles:_,pagination:!0,paginationResetDefaultPage:p,subHeader:!0,subHeaderComponent:T,expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(N.jsx)(I,{}),highlightOnHover:!0}):R?Object(N.jsx)("div",{children:Object(N.jsx)(l.X,{children:Object(N.jsx)(l.n,{className:"text-center",children:Object(N.jsx)("img",{className:"mt-4 ml-3",width:30,src:x.d,alt:"load-animation"})})})}):Object(N.jsx)(u.a,{columns:M,data:L,noHeader:!0,responsive:!0,customStyles:_,pagination:!0})]})]})})}},640:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},644:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},657:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=48.13ed95bb.chunk.js.map