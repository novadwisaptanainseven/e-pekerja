(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[53],{1067:function(e,a,n){"use strict";n.r(a);var i=n(638),t=n(9),r=n(631),s=n.n(r),o=n(632),c=n.n(o),d=n(635),l=n(628),u=n(1),m=n.n(u),p=n(20),h=n(634),b=n(747),j=n(629),f=n(678),w=n(649),g=n(2),O=function(e){return{control:function(a,n){return Object(g.a)(Object(g.a)({},a),{},{border:e?"1px solid #e55353":a.border})}}},x=n(17),v=c()(s.a);a.default=function(){var e=Object(p.g)(),a=Object(u.useState)(!1),n=Object(t.a)(a,2),r=n[0],s=n[1],o=Object(u.useState)([]),c=Object(t.a)(o,2),g=c[0],y=c[1],k=Object(u.useState)(!1),S=Object(t.a)(k,2),C=S[0],_=S[1];Object(u.useEffect)((function(){Object(f.a)(y)}),[]);var N=m.a.useMemo((function(){return function(e){var a=[];return e.forEach((function(e){a.push({value:e.id_pegawai,label:e.nama})})),a}(g)}),[g]),G=function(){v.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(a){e.push("/epekerja/admin/users")}))},P=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");v.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){s(!1)}))},B=d.c().shape({id_pegawai:d.e().required("Pegawai harus diisi"),username:d.e().required("Username harus diisi"),password:d.e().required("Password harus diisi")});return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(l.h,{children:[Object(x.jsxs)(l.l,{className:"d-flex justify-content-between",children:[Object(x.jsx)("h3",{children:"Tambah Akun Pegawai"}),Object(x.jsx)(l.f,{type:"button",color:"warning",className:"text-white",onClick:function(){e.goBack()},children:"Kembali"})]}),Object(x.jsx)(h.a,{initialValues:{id_pegawai:"",username:"",password:""},validationSchema:B,onSubmit:function(e){return function(e){var a=new FormData;a.append("id_pegawai",e.id_pegawai),a.append("username",e.username),a.append("password",e.password),a.append("level",2);var n,t=Object(i.a)(a.entries());try{for(t.s();!(n=t.n()).done;){var r=n.value;console.log(r)}}catch(o){t.e(o)}finally{t.f()}Object(b.a)(a,s,G,P)}(e)},children:function(e){var a=e.values,n=e.errors,i=e.touched,t=e.handleChange,s=e.handleBlur,o=e.handleSubmit,c=e.setFieldValue;return Object(x.jsxs)(l.x,{onSubmit:o,children:[Object(x.jsx)(l.i,{children:Object(x.jsx)(l.X,{children:Object(x.jsxs)(l.n,{md:"6",children:[Object(x.jsxs)(l.y,{children:[Object(x.jsx)(l.L,{children:"Pegawai"}),Object(x.jsx)(w.a,{styles:O(C),name:"id_pegawai",id:"id_pegawai",onChange:function(e){_(!1),c("id_pegawai",e?e.value:"")},onBlur:function(){return a.id_pegawai?_(!1):_(!0)},placeholder:"-- Pilih Pegawai --",isSearchable:!0,isClearable:!0,options:N}),!a.id_pegawai&&C&&Object(x.jsx)("div",{className:"text-danger mt-1",style:{fontSize:"0.8em"},children:"Nama penerima harus diisi"})]}),Object(x.jsxs)(l.y,{children:[Object(x.jsx)(l.L,{children:"Username"}),Object(x.jsx)(l.E,{type:"text",id:"username",name:"username",placeholder:"Masukkan username",onChange:t,onBlur:s,value:a.username||"",className:n.username&&i.username?"is-invalid":null}),n.username&&i.username&&Object(x.jsx)("div",{className:"invalid-feedback",children:n.username})]}),Object(x.jsxs)(l.y,{children:[Object(x.jsx)(l.L,{children:"Password"}),Object(x.jsx)(l.E,{type:"password",id:"password",name:"password",placeholder:"Masukkan password",onChange:t,onBlur:s,value:a.password||"",className:n.password&&i.password?"is-invalid":null}),n.password&&i.password&&Object(x.jsx)("div",{className:"invalid-feedback",children:n.password})]})]})})}),Object(x.jsx)(l.j,{children:Object(x.jsx)(l.f,{type:"submit",color:"primary",className:"mr-1",disabled:!!r,onClick:function(){a.id_pegawai?_(!1):_(!0)},children:r?Object(x.jsx)("img",{width:21,src:j.d,alt:"load-animation"}):"Simpan"})})]})}})]})})}},659:function(e,a,n){"use strict";a.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},678:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var i=n(626),t=function(e){i.a.get("admin/pegawai/semua-pegawai").then((function(a){e(a.data.data)})).catch((function(e){}))}},747:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var i=n(626),t=function(e,a,n,t){a(!0),i.a.post("admin/users",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){console.log(e.data),a(!1),n()})).catch((function(e){console.log(e.response.data),t(e.response.data.errors)}))}}}]);
//# sourceMappingURL=53.97c7331d.chunk.js.map