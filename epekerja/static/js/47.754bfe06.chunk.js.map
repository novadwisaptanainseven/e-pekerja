{"version":3,"sources":["views/pages/Admin/Mutasi/EditMutasi.js","context/actions/Mutasi/editMutasi.js","reusable/Loading.js","reusable/LoadingSubmit.js","context/actions/Mutasi/getMutasiById.js"],"names":["MySwal","withReactContent","swal2","EditMutasi","params","match","history","useHistory","useState","loading","setLoading","mutasi","setMutasi","useEffect","getMutasiById","id","initState","id_pegawai","tgl_mutasi","keterangan","showAlertSuccess","fire","icon","title","showConfirmButton","timer","then","res","push","showAlertError","message","err_message","key","text","result","validationSchema","Yup","shape","required","className","type","color","onClick","goBack","initialValues","enableReinitialize","onSubmit","values","axiosInstance","put","console","log","data","catch","err","response","errors","editMutasi","touched","handleChange","handleBlur","handleSubmit","row","md","name","value","nama","readOnly","onChange","onBlur","placeholder","disabled","LoadingSubmit","Loading","width","src","LoadAnimationBlue","alt","LoadAnimationWhite","get"],"mappings":"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","file":"static/js/47.754bfe06.chunk.js","sourcesContent":["import {\r\n  CCard,\r\n  CCardHeader,\r\n  CButton,\r\n  CInput,\r\n  CLabel,\r\n  CCol,\r\n  CCardFooter,\r\n  CFormGroup,\r\n  CCardBody,\r\n  CForm,\r\n} from \"@coreui/react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LoadingSubmit from \"src/reusable/LoadingSubmit\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { getMutasiById } from \"src/context/actions/Mutasi/getMutasiById\";\r\nimport { editMutasi } from \"src/context/actions/Mutasi/editMutasi\";\r\nimport Loading from \"src/reusable/Loading\";\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst EditMutasi = ({ match }) => {\r\n  const params = match.params;\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [mutasi, setMutasi] = useState(\"\");\r\n\r\n  const goBackToParent = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  // Get mutasi by id\r\n  useEffect(() => {\r\n    getMutasiById(params.id, setMutasi);\r\n  }, [params]);\r\n\r\n  // Inisialisasi state formik\r\n  const initState = {\r\n    id_pegawai: mutasi ? mutasi.id_pegawai : \"\",\r\n    tgl_mutasi: mutasi ? mutasi.tgl_mutasi : \"\",\r\n    keterangan: mutasi ? mutasi.keterangan : \"\",\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert success tambah data\r\n  const showAlertSuccess = () => {\r\n    MySwal.fire({\r\n      icon: \"success\",\r\n      title: \"Edit Mutasi Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    }).then((res) => {\r\n      history.push(\"/epekerja/admin/mutasi\");\r\n    });\r\n  };\r\n\r\n  // Fungsi untuk menampilkan alert error tambah data\r\n  const showAlertError = (message) => {\r\n    let err_message = \"\";\r\n\r\n    for (const key in message) {\r\n      err_message += `${message[key]}, `;\r\n    }\r\n\r\n    MySwal.fire({\r\n      icon: \"error\",\r\n      title: \"Edit Mutasi Gagal\",\r\n      text: err_message,\r\n    }).then((result) => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // Setting validasi form menggunakan YUP & FORMIK\r\n  const validationSchema = Yup.object().shape({\r\n    id_pegawai: Yup.string().required(\"Pegawai harus diisi\"),\r\n    tgl_mutasi: Yup.string().required(\"Tanggal mutasi harus diisi\"),\r\n    keterangan: Yup.string().required(\"Keterangan / alasan mutasi harus diisi\"),\r\n  });\r\n\r\n  // Menangani value dari form submit\r\n  const handleFormSubmit = (values) => {\r\n    editMutasi(params.id, values, setLoading, showAlertSuccess, showAlertError);\r\n  };\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader className=\"d-flex justify-content-between\">\r\n        <h3>Edit Data Mutasi</h3>\r\n        <CButton\r\n          type=\"button\"\r\n          color=\"warning\"\r\n          className=\"text-white\"\r\n          onClick={goBackToParent}\r\n        >\r\n          Kembali\r\n        </CButton>\r\n      </CCardHeader>\r\n      {!mutasi ? (\r\n        <Loading />\r\n      ) : (\r\n        <Formik\r\n          initialValues={initState}\r\n          enableReinitialize={true}\r\n          validationSchema={validationSchema}\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit,\r\n          }) => (\r\n            <CForm onSubmit={handleSubmit}>\r\n              <CCardBody>\r\n                <CFormGroup row>\r\n                  <CCol md=\"2\">\r\n                    <CLabel>Nama Pegawai</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"nama\"\r\n                      value={mutasi.nama}\r\n                      readOnly\r\n                    />\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"2\">\r\n                    <CLabel>Tgl. Mutasi</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"date\"\r\n                      name=\"tgl_mutasi\"\r\n                      id=\"tgl_mutasi\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.tgl_mutasi || \"\"}\r\n                      placeholder=\"Masukkan tgl. mutasi\"\r\n                      className={\r\n                        errors.tgl_mutasi && touched.tgl_mutasi\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.tgl_mutasi && touched.tgl_mutasi && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.tgl_mutasi}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"2\">\r\n                    <CLabel>Keterangan</CLabel>\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      name=\"keterangan\"\r\n                      id=\"keterangan\"\r\n                      onChange={handleChange}\r\n                      onBlur={handleBlur}\r\n                      value={values.keterangan || \"\"}\r\n                      placeholder=\"Masukkan keterangan / alasan mutasi\"\r\n                      className={\r\n                        errors.keterangan && touched.keterangan\r\n                          ? \"is-invalid\"\r\n                          : null\r\n                      }\r\n                    />\r\n                    {errors.keterangan && touched.keterangan && (\r\n                      <div className=\"invalid-feedback\">\r\n                        {errors.keterangan}\r\n                      </div>\r\n                    )}\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CCardBody>\r\n              <CCardFooter>\r\n                <CButton\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"mr-1\"\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  {loading ? <LoadingSubmit /> : \"Simpan\"}\r\n                </CButton>\r\n              </CCardFooter>\r\n            </CForm>\r\n          )}\r\n        </Formik>\r\n      )}\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default EditMutasi;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const editMutasi = (\r\n  id,\r\n  values,\r\n  setLoading,\r\n  showAlertSuccess,\r\n  showAlertError\r\n) => {\r\n  setLoading(true);\r\n\r\n  axiosInstance\r\n    .put(`admin/mutasi/${id}`, values)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      setLoading(false);\r\n      showAlertSuccess();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n      showAlertError(err.response.data.errors);\r\n    });\r\n};\r\n","import { CCol, CRow } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <CRow className=\"mb-3\">\r\n      <CCol className=\"text-center\">\r\n        <img\r\n          className=\"mt-4 ml-3\"\r\n          width={30}\r\n          src={LoadAnimationBlue}\r\n          alt=\"load-animation\"\r\n        />\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { LoadAnimationWhite } from \"src/assets\";\r\n\r\nconst LoadingSubmit = () => {\r\n  return <img width={21} src={LoadAnimationWhite} alt=\"load-animation\" />;\r\n};\r\n\r\nexport default LoadingSubmit;\r\n","import axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getMutasiById = (id, setMutasi) => {\r\n  axiosInstance\r\n    .get(`admin/mutasi/${id}`)\r\n    .then((res) => {\r\n      setMutasi(res.data.data);\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n"],"sourceRoot":""}