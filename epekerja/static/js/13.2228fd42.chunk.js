(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{649:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/");return a[a.length-1]}},651:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a){t.a.get("admin/pegawai/pns/".concat(e)).then((function(e){a(e.data.data)})).catch((function(e){}))}},652:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e){t.a.get("admin/master-data/agama").then((function(a){e(a.data.data)})).catch((function(e){}))}},654:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},657:function(e,a,n){"use strict";var t=n(628),i=(n(1),n(630)),c=n(17);a.a=function(){return Object(c.jsx)(t.W,{className:"mb-3",children:Object(c.jsx)(t.m,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.c,alt:"load-animation"})})})}},660:function(e,a,n){"use strict";var t=n(740);a.a=function(e){var a=Object(t.a)(new Date(e),"d"),n=Object(t.a)(new Date(e),"MMM"),i=Object(t.a)(new Date(e),"y"),c="";switch(n){case"Jan":c="Januari";break;case"Feb":c="Februari";break;case"Mar":c="Maret";break;case"Apr":c="April";break;case"May":c="Mei";break;case"Jun":c="Juni";break;case"Jul":c="Juli";break;case"Aug":c="Agustus";break;case"Sep":c="September";break;case"Oct":c="Oktober";break;case"Nov":c="November";break;case"Dec":c="Desember"}return"".concat(a," ").concat(c," ").concat(i)}},662:function(e,a,n){"use strict";n(1);var t=n(630),i=n(17);a.a=function(){return Object(i.jsx)("img",{width:21,src:t.d,alt:"load-animation"})}},667:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},669:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"dok_penghargaan/").concat(n)}},670:function(e,a,n){"use strict";a.a={headCells:{style:{fontSize:"1.15em"}}}},677:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e){t.a.get("admin/master-data/pangkat-golongan").then((function(a){e(a.data.data)})).catch((function(e){}))}},691:function(e,a,n){"use strict";n.d(a,"c",(function(){return i})),n.d(a,"d",(function(){return c})),n.d(a,"e",(function(){return l})),n.d(a,"b",(function(){return s})),n.d(a,"a",(function(){return r}));var t=n(626),i=function(e,a,n){n(!0),t.a.get("admin/pegawai/".concat(e,"/riwayat-golongan")).then((function(e){a(e.data.data),n(!1),console.log(e.data)})).catch((function(e){n(!1),console.log(e.response.data)}))},c=function(e,a,n){n(!0),t.a.get("admin/riwayat-golongan/".concat(e)).then((function(e){a(e.data.data),n(!1),console.log(e.data)})).catch((function(e){n(!1),console.log(e.response.data)}))},l=function(e,a,n,c,l,s,r){n(!0),t.a.post("admin/pegawai/".concat(e,"/riwayat-golongan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){console.log(a.data),n(!1),i(e,r,s),c()})).catch((function(e){console.log(e.response.data),n(!1),l(e.response.data.errors)}))},s=function(e,a,n,c,l,s,r,d){c(!0),t.a.post("admin/riwayat-golongan/".concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){console.log(a.data),c(!1),i(e,d,r),l()})).catch((function(e){console.log(e.response.data),c(!1),s(e.response.data.errors)}))},r=function(e,a,n,c,l){t.a.delete("admin/riwayat-golongan/".concat(a)).then((function(a){i(e,n,c),console.log(a.data),l.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"})})).catch((function(e){console.log(e.response.data),l.fire({icon:"error",title:"Gagal",text:"Data gagal dihapus. Terjadi kesalahan"})}))}},725:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"dok_diklat/").concat(n)}},726:function(e,a,n){"use strict";a.a=function(e){var a=e.split("/"),n=a[a.length-1];return"".concat(localStorage.baseURL,"berkas/").concat(n)}},728:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a){t.a.get("admin/pegawai/ptth/".concat(e)).then((function(e){a(e.data.data)})).catch((function(e){}))}},729:function(e,a,n){"use strict";n.d(a,"a",(function(){return i}));var t=n(626),i=function(e,a){t.a.get("admin/pegawai/pttb/".concat(e)).then((function(e){a(e.data.data)})).catch((function(e){}))}},991:function(e,a,n){"use strict";n.r(a);var t=n(9),i=n(1),c=n(628),l=n(630),s=n(740),r=n(645),d=n(20),j=n(17),o=function(e){var a=e.data,n=Object(d.g)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsx)(c.f,{color:"success",className:"mb-2",onClick:function(){return e=a.id_pegawai,void n.push("/epekerja/admin/pegawai-edit/".concat(e));var e},children:"Edit Data"}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"8",children:Object(j.jsx)("table",{className:"table table-sm table-striped",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NIP"}),Object(j.jsx)("td",{children:a.nip})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nama"}),Object(j.jsx)("td",{children:a.nama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Agama"}),Object(j.jsx)("td",{children:a.agama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jenis Kelamin"}),Object(j.jsx)("td",{children:a.jenis_kelamin})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TTL"}),Object(j.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(s.a)(new Date(a.tgl_lahir),"d MMMM Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Alamat"}),Object(j.jsx)("td",{children:a.alamat})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. HP"}),Object(j.jsx)("td",{children:a.no_hp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("td",{children:a.email})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. KTP"}),Object(j.jsx)("td",{children:a.no_ktp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jabatan"}),Object(j.jsx)("td",{children:a.jabatan})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Bidang"}),Object(j.jsx)("td",{children:a.bidang})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Pangkat / Golongan"}),Object(j.jsxs)("td",{children:[a.ket_golongan," / ",a.golongan]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Eselon"}),Object(j.jsx)("td",{children:a.eselon})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Status Pegawai"}),Object(j.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Karpeg"}),Object(j.jsx)("td",{children:a.karpeg})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"BPJS"}),Object(j.jsx)("td",{children:a.bpjs})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NPWP"}),Object(j.jsx)("td",{children:a.npwp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TMT. Golongan"}),Object(j.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(s.a)(new Date(a.tmt_golongan),"d-M-Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TMT. CPNS"}),Object(j.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(s.a)(new Date(a.tmt_cpns),"d-M-Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TMT. jabatan"}),Object(j.jsx)("td",{children:"".concat(a.tgl_lahir&&Object(s.a)(new Date(a.tmt_jabatan),"d-M-Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Masa Kerja Jabatan"}),Object(j.jsx)("td",{children:a.mk_jabatan})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Masa Kerja Sebelum CPNS"}),Object(j.jsx)("td",{children:a.mk_sebelum_cpns})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Masa Kerja Golongan"}),Object(j.jsx)("td",{children:a.mk_golongan})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Masa Kerja Seluruhnya"}),Object(j.jsx)("td",{children:a.mk_seluruhnya})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Gaji Pokok"}),Object(j.jsx)("td",{children:a?a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"}):0})]})]})})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.h,{children:[Object(j.jsx)(c.l,{className:"bg-dark text-center",children:Object(j.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(j.jsx)(c.i,{children:Object(j.jsx)("img",{width:"100%",src:a?Object(r.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})})},u=function(e){var a=e.data,n=Object(d.g)();return Object(j.jsx)(j.Fragment,{children:a?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsx)(c.f,{color:"success",className:"mb-2",onClick:function(){return e=a.id_pegawai,void n.push("/epekerja/admin/pegawai/ptth-edit/".concat(e));var e},children:"Edit Data"}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"8",children:Object(j.jsx)("table",{className:"table table-sm table-striped",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NIK"}),Object(j.jsx)("td",{children:a.nik})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nama"}),Object(j.jsx)("td",{children:a.nama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Agama"}),Object(j.jsx)("td",{children:a.agama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jenis Kelamin"}),Object(j.jsx)("td",{children:a.jenis_kelamin})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TTL"}),Object(j.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(s.a)(new Date(a.tgl_lahir),"d MMMM Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Alamat"}),Object(j.jsx)("td",{children:a.alamat})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. HP"}),Object(j.jsx)("td",{children:a.no_hp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("td",{children:a.email})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. KTP"}),Object(j.jsx)("td",{children:a.no_ktp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jabatan"}),Object(j.jsx)("td",{children:a.nama_jabatan})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Bidang"}),Object(j.jsx)("td",{children:a.nama_bidang})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Penetap SK"}),Object(j.jsx)("td",{children:a.penetap_sk})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. SK"}),Object(j.jsx)("td",{children:a.no_sk})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(j.jsx)("td",{children:Object(s.a)(new Date(a.tgl_penetapan_sk),"dd/MM/Y")})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(j.jsx)("td",{children:a.tmt_mulai_tugas})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Status Pegawai"}),Object(j.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"BPJS"}),Object(j.jsx)("td",{children:a.bpjs})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NPWP"}),Object(j.jsx)("td",{children:a.npwp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Gaji Pokok"}),Object(j.jsx)("td",{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]})]})})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.h,{children:[Object(j.jsx)(c.l,{className:"bg-dark text-center",children:Object(j.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(j.jsx)(c.i,{children:Object(j.jsx)("img",{width:"100%",src:a?Object(r.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},h=n(728),b=n(729),m=function(e){var a=e.data,n=Object(d.g)();return Object(j.jsx)(j.Fragment,{children:a?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsx)(c.f,{color:"success",className:"mb-2",onClick:function(){return e=a.id_pegawai,void n.push("/epekerja/admin/pegawai/pttb-edit/".concat(e));var e},children:"Edit Data"}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"8",children:Object(j.jsx)("table",{className:"table table-sm table-striped",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NIPTTB"}),Object(j.jsx)("td",{children:a.nip})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nama"}),Object(j.jsx)("td",{children:a.nama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Agama"}),Object(j.jsx)("td",{children:a.agama})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jenis Kelamin"}),Object(j.jsx)("td",{children:a.jenis_kelamin})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"TTL"}),Object(j.jsx)("td",{children:"".concat(a.tempat_lahir,", ").concat(a.tgl_lahir&&Object(s.a)(new Date(a.tgl_lahir),"d MMMM Y"))})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Alamat"}),Object(j.jsx)("td",{children:a.alamat})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. HP"}),Object(j.jsx)("td",{children:a.no_hp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("td",{children:a.email})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. KTP"}),Object(j.jsx)("td",{children:a.no_ktp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Jabatan"}),Object(j.jsx)("td",{children:a.jabatan})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Bidang"}),Object(j.jsx)("td",{children:a.nama_bidang})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Penetap SK"}),Object(j.jsx)("td",{children:a.penetap_sk})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"No. SK"}),Object(j.jsx)("td",{children:a.no_sk})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(j.jsx)("td",{children:Object(s.a)(new Date(a.tgl_penetapan_sk),"dd/MM/Y")})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(j.jsx)("td",{children:a.tgl_mulai_tugas})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Kontrak Ke"}),Object(j.jsx)("td",{children:a.kontrak_ke})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Masa Kerja"}),Object(j.jsx)("td",{children:a.masa_kerja})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Status Pegawai"}),Object(j.jsxs)("td",{children:[a.ket_status_pegawai," (",a.status_pegawai,")"]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"BPJS"}),Object(j.jsx)("td",{children:a.bpjs})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"NPWP"}),Object(j.jsx)("td",{children:a.npwp})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Gaji Pokok"}),Object(j.jsx)("td",{children:a.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]})]})})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.h,{children:[Object(j.jsx)(c.l,{className:"bg-dark text-center",children:Object(j.jsx)("h4",{className:"font-weight-normal mb-0",children:"Foto Pegawai"})}),Object(j.jsx)(c.i,{children:Object(j.jsx)("img",{width:"100%",src:a?Object(r.d)(a.foto):"",alt:"foto-pegawai"})})]})})]})]})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},g=function(e){var a=e.data,n=Object(i.useState)(""),s=Object(t.a)(n,2),r=s[0],d=s[1],g=Object(i.useState)(""),O=Object(t.a)(g,2),p=O[0],x=O[1];return Object(i.useEffect)((function(){a&&(2===a.id_status_pegawai?Object(h.a)(a.id_pegawai,d):3===a.id_status_pegawai&&Object(b.a)(a.id_pegawai,x))}),[a]),Object(j.jsx)(j.Fragment,{children:a?Object(j.jsxs)(j.Fragment,{children:[1===a.id_status_pegawai&&Object(j.jsx)(o,{data:a}),2===a.id_status_pegawai&&Object(j.jsx)(u,{data:r}),3===a.id_status_pegawai&&Object(j.jsx)(m,{data:p})]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})})})},O=n(2),p=n(640),x=n.n(p),k=n(632),f=n.n(k),_=n(633),v=n.n(_),y=n(639),w=n(654),N=n(587),C=n(571),D=n(641),S=n(636),B=n(635),K=n(652),M=n(626),T=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/keluarga")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},P=v()(f.a),F=function(e){var a=e.id,n=e.modalTambah,s=e.setModalTambah,r=e.keluarga,o=Object(d.g)(),u=Object(i.useState)([]),h=Object(t.a)(u,2),b=h[0],m=h[1],g=Object(i.useState)(!1),O=Object(t.a)(g,2),p=O[0],x=O[1];Object(i.useEffect)((function(){n&&Object(K.a)(m)}),[n]);var k=function(){P.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!n),o.push("/epekerja/admin/pegawai-detail/".concat(a))}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");P.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){x(!1)}))},_=S.c().shape({nik_nip:S.e().required("NIK/NIP harus diisi!"),nama:S.e().required("Nama harus diisi!"),hubungan:S.e().required("Hubungan harus diisi!"),id_agama:S.e().required("Agama harus diisi!"),jenis_kelamin:S.e().required("Jenis kelamin harus diisi!"),tgl_lahir:S.e().required("Tanggal lahir harus diisi!"),tempat_lahir:S.e().required("Tempat lahir harus diisi!"),pekerjaan:S.e().required("Pekerjaan harus diisi!"),telepon:S.e().required("Telepon harus diisi!"),alamat:S.e().required("Alamat harus diisi!")});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:{nik_nip:"",nama:"",hubungan:"",id_agama:"",jenis_kelamin:"",tgl_lahir:"",tempat_lahir:"",pekerjaan:"",telepon:"",alamat:""},validationSchema:_,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nik_nip",e.nik_nip),i.append("nama",e.nama),i.append("hubungan",e.hubungan),i.append("id_agama",e.id_agama),i.append("jenis_kelamin",e.jenis_kelamin),i.append("tgl_lahir",e.tgl_lahir),i.append("tempat_lahir",e.tempat_lahir),i.append("pekerjaan",e.pekerjaan),i.append("telepon",e.telepon),i.append("alamat",e.alamat);var c,l=Object(D.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var s=c.value;console.log(s)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/keluarga"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),T(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,x,k,f,r.setLoadingKeluarga,r.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit;e.handleReset;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nik_nip",children:"NIK/NIP"}),Object(j.jsx)(c.D,{id:"nik_nip",name:"nik_nip",placeholder:"Masukkan NIP/NIK",value:a.nik_nip,onChange:r,onBlur:d,className:t.nik_nip&&i.nik_nip?"is-invalid":null}),t.nik_nip&&i.nik_nip&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nik_nip})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama",children:"Nama"}),Object(j.jsx)(c.D,{id:"nama",name:"nama",placeholder:"Masukkan nama",value:a.nama,onChange:r,onBlur:d,className:t.nama&&i.nama?"is-invalid":null}),t.nama&&i.nama&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nama})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"hubungan",children:"Hubungan"}),Object(j.jsxs)(c.X,{custom:!0,name:"hubungan",id:"hubungan",value:a.hubungan,onChange:r,onBlur:d,className:t.hubungan&&i.hubungan?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Hubungan --"}),Object(j.jsx)("option",{value:"Ayah",children:"Ayah"}),Object(j.jsx)("option",{value:"Ibu",children:"Ibu"}),Object(j.jsx)("option",{value:"Suami",children:"Suami"}),Object(j.jsx)("option",{value:"Istri",children:"Istri"}),Object(j.jsx)("option",{value:"Anak Kandung",children:"Anak Kandung"}),Object(j.jsx)("option",{value:"Anak Tiri",children:"Anak Tiri"}),Object(j.jsx)("option",{value:"Saudara",children:"Saudara"}),Object(j.jsx)("option",{value:"Saudari",children:"Saudari"})]}),t.hubungan&&i.hubungan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.hubungan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"agama",children:"Agama"}),Object(j.jsxs)(c.X,{custom:!0,name:"id_agama",id:"id_agama",value:a.id_agama,onChange:r,onBlur:d,className:t.id_agama&&i.id_agama?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Agama --"}),b.map((function(e,a){return Object(j.jsx)("option",{value:e.id_agama,children:e.agama},a)}))]}),t.id_agama&&i.id_agama&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.id_agama})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Jenis Kelamin"}),Object(j.jsxs)(c.x,{variant:"custom-radio",children:[Object(j.jsx)(c.J,{custom:!0,id:"inline-radio1",name:"jenis_kelamin",value:"Laki-Laki",onChange:r,onBlur:d,required:!0}),Object(j.jsx)(c.K,{variant:"custom-checkbox",htmlFor:"inline-radio1",children:"Laki - Laki"})]}),Object(j.jsxs)(c.x,{variant:"custom-radio",children:[Object(j.jsx)(c.J,{custom:!0,id:"inline-radio2",name:"jenis_kelamin",onChange:r,onBlur:d,value:"Perempuan",required:!0}),Object(j.jsx)(c.K,{variant:"custom-checkbox",htmlFor:"inline-radio2",children:"Perempuan"})]})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tempat_lahir",children:"Tempat Lahir"}),Object(j.jsx)(c.D,{type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Masukkan tempat lahir",value:a.tempat_lahir,onChange:r,onBlur:d,className:t.tempat_lahir&&i.tempat_lahir?"is-invalid":null}),t.tempat_lahir&&i.tempat_lahir&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.tempat_lahir})]})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tempat_lahir",children:"Tanggal Lahir"}),Object(j.jsx)(c.D,{type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"Masukkan tanggal lahir",value:a.tgl_lahir,onChange:r,onBlur:d,className:t.tgl_lahir&&i.tgl_lahir?"is-invalid":null}),t.tgl_lahir&&i.tgl_lahir&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.tgl_lahir})]})})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"pekerjaan",children:"Pekerjaan"}),Object(j.jsx)(c.D,{type:"text",name:"pekerjaan",id:"pekerjaan",placeholder:"Masukkan pekerjaan",value:a.pekerjaan,onChange:r,onBlur:d,className:t.pekerjaan&&i.pekerjaan?"is-invalid":null}),t.pekerjaan&&i.pekerjaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.pekerjaan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"telepon",children:"Telepon"}),Object(j.jsx)(c.D,{type:"text",name:"telepon",id:"telepon",value:a.telepon,onChange:r,onBlur:d,placeholder:"Masukkan no. telepon",className:t.telepon&&i.telepon?"is-invalid":null}),t.telepon&&i.telepon&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.telepon})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"alamat",children:"Alamat"}),Object(j.jsx)(c.kb,{name:"alamat",id:"alamat",rows:"5",placeholder:"Masukkan alamat",value:a.alamat,onChange:r,onBlur:d,className:t.alamat&&i.alamat?"is-invalid":null}),t.alamat&&i.alamat&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.alamat})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!p,children:p?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){s(!n)},children:"Batal"})]})]})}})})},z=v()(f.a),A=function(e){var a=e.idPegawai,n=e.idKeluarga,s=e.modalEdit,r=e.setModalEdit,o=e.keluarga,u=Object(d.g)(),h=Object(i.useState)([]),b=Object(t.a)(h,2),m=b[0],g=b[1],O=Object(i.useState)(null),p=Object(t.a)(O,2),x=p[0],k=p[1],f=Object(i.useState)(!1),_=Object(t.a)(f,2),v=_[0],y=_[1];Object(i.useEffect)((function(){return n&&function(e,a,n){M.a.get("admin/pegawai/".concat(e,"/keluarga/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,k),s&&Object(K.a)(g),function(){k(null)}}),[a,n,s]);var w={nik_nip:x?x.nik_nip:"",nama:x?x.nama:"",hubungan:x?x.hubungan:"",id_agama:x?x.id_agama:"",jenis_kelamin:x?x.jenis_kelamin:"",tgl_lahir:x?x.tgl_lahir:"",tempat_lahir:x?x.tempat_lahir:"",pekerjaan:x?x.pekerjaan:"",telepon:x?x.telepon:"",alamat:x?x.alamat:""},N=function(){z.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!s),u.push("/epekerja/admin/pegawai-detail/".concat(a))}))},C=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");z.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){y(!1)}))},D=S.c().shape({nik_nip:S.e().required("NIK/NIP harus diisi!"),nama:S.e().required("Nama harus diisi!"),hubungan:S.e().required("Hubungan harus diisi!"),id_agama:S.e().required("Agama harus diisi!"),jenis_kelamin:S.e().required("Jenis kelamin harus diisi!"),tgl_lahir:S.e().required("Tanggal lahir harus diisi!"),tempat_lahir:S.e().required("Tempat lahir harus diisi!"),pekerjaan:S.e().required("Pekerjaan harus diisi!"),telepon:S.e().required("Telepon harus diisi!"),alamat:S.e().required("Alamat harus diisi!")}),P=function(e){!function(e,a,n,t,i,c,l,s){t(!0),M.a.put("admin/pegawai/".concat(e,"/keluarga/").concat(a),n).then((function(a){t(!1),T(e,l,s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,e,y,N,C,o.setData,o.setLoadingKeluarga)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:w,validationSchema:D,enableReinitialize:!0,onSubmit:function(e){return P(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit;e.handleReset;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nik_nip",children:"NIK/NIP"}),Object(j.jsx)(c.D,{id:"nik_nip",name:"nik_nip",placeholder:"Masukkan NIP/NIK",value:a.nik_nip,onChange:i,onBlur:d,className:n.nik_nip&&t.nik_nip?"is-invalid":null}),n.nik_nip&&t.nik_nip&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.nik_nip})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama",children:"Nama"}),Object(j.jsx)(c.D,{id:"nama",name:"nama",placeholder:"Masukkan nama",value:a.nama,onChange:i,onBlur:d,className:n.nama&&t.nama?"is-invalid":null}),n.nama&&t.nama&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.nama})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"hubungan",children:"Hubungan"}),Object(j.jsxs)(c.X,{custom:!0,name:"hubungan",id:"hubungan",value:a.hubungan,onChange:i,onBlur:d,className:n.hubungan&&t.hubungan?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Hubungan --"}),Object(j.jsx)("option",{value:"Ayah",children:"Ayah"}),Object(j.jsx)("option",{value:"Ibu",children:"Ibu"}),Object(j.jsx)("option",{value:"Suami",children:"Suami"}),Object(j.jsx)("option",{value:"Istri",children:"Istri"}),Object(j.jsx)("option",{value:"Anak Kandung",children:"Anak Kandung"}),Object(j.jsx)("option",{value:"Anak Tiri",children:"Anak Tiri"}),Object(j.jsx)("option",{value:"Saudara",children:"Saudara"}),Object(j.jsx)("option",{value:"Saudari",children:"Saudari"})]}),n.hubungan&&t.hubungan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.hubungan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"agama",children:"Agama"}),Object(j.jsxs)(c.X,{custom:!0,name:"id_agama",id:"id_agama",value:a.id_agama,onChange:i,onBlur:d,className:n.id_agama&&t.id_agama?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Agama --"}),m.map((function(e,a){return Object(j.jsx)("option",{value:e.id_agama,children:e.agama},a)}))]}),n.id_agama&&t.id_agama&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.id_agama})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Jenis Kelamin"}),Object(j.jsxs)(c.x,{variant:"custom-radio",children:[Object(j.jsx)(c.J,{custom:!0,id:"jenis_kelamin",onChange:i,onBlur:d,name:"jenis_kelamin",value:"Laki-Laki",checked:"Laki-Laki"===a.jenis_kelamin,required:!0}),Object(j.jsx)(c.K,{variant:"custom-checkbox",htmlFor:"jenis_kelamin",children:"Laki - Laki"})]}),Object(j.jsxs)(c.x,{variant:"custom-radio",children:[Object(j.jsx)(c.J,{custom:!0,id:"jenis_kelamin2",name:"jenis_kelamin",onChange:i,onBlur:d,value:"Perempuan",checked:"Perempuan"===a.jenis_kelamin,required:!0}),Object(j.jsx)(c.K,{variant:"custom-checkbox",htmlFor:"jenis_kelamin2",children:"Perempuan"})]})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tempat_lahir",children:"Tempat Lahir"}),Object(j.jsx)(c.D,{type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Masukkan tempat lahir",value:a.tempat_lahir,onChange:i,onBlur:d,className:n.tempat_lahir&&t.tempat_lahir?"is-invalid":null}),n.tempat_lahir&&t.tempat_lahir&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tempat_lahir})]})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tempat_lahir",children:"Tanggal Lahir"}),Object(j.jsx)(c.D,{type:"date",name:"tgl_lahir",id:"tgl_lahir",placeholder:"Masukkan tanggal lahir",value:a.tgl_lahir,onChange:i,onBlur:d,className:n.tgl_lahir&&t.tgl_lahir?"is-invalid":null}),n.tgl_lahir&&t.tgl_lahir&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tgl_lahir})]})})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"pekerjaan",children:"Pekerjaan"}),Object(j.jsx)(c.D,{type:"text",name:"pekerjaan",id:"pekerjaan",placeholder:"Masukkan pekerjaan",value:a.pekerjaan,onChange:i,onBlur:d,className:n.pekerjaan&&t.pekerjaan?"is-invalid":null}),n.pekerjaan&&t.pekerjaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.pekerjaan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"telepon",children:"Telepon"}),Object(j.jsx)(c.D,{type:"text",name:"telepon",id:"telepon",value:a.telepon,onChange:i,onBlur:d,placeholder:"Masukkan no. telepon",className:n.telepon&&t.telepon?"is-invalid":null}),n.telepon&&t.telepon&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.telepon})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"alamat",children:"Alamat"}),Object(j.jsx)(c.kb,{name:"alamat",id:"alamat",rows:"5",placeholder:"Masukkan alamat",value:a.alamat,onChange:i,onBlur:d,className:n.alamat&&t.alamat?"is-invalid":null}),n.alamat&&t.alamat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.alamat})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!v,children:v?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return r(!s)},children:"Batal"})]})]})}})})},E=function(e,a){window.open("".concat(localStorage.baseURL,"print-pegawai/").concat(e,"/").concat(a),"_blank")},q=n(660),J=n(643),L=v()(f.a),R=function(e){var a=e.id,n=e.dataActive,s=Object(i.useState)(!1),r=Object(t.a)(s,2),d=r[0],o=r[1],u=Object(i.useState)({modal:!1,id:null}),h=Object(t.a)(u,2),b=h[0],m=h[1],g=Object(i.useState)(null),p=Object(t.a)(g,2),k=p[0],f=p[1],_=Object(i.useState)(!1),v=Object(t.a)(_,2),D=v[0],S=v[1];Object(i.useEffect)((function(){k||"keluarga"===n&&T(a,f,S)}),[a,n,k]);var B=[{name:"NIK / NIP",selector:"nik_nip",wrap:!0,sortable:!0},{name:"Nama",selector:"nama",wrap:!0,sortable:!0},{name:"Hubungan",selector:"hubungan",wrap:!0,sortable:!0},{name:"TTL",selector:"ttl",wrap:!0,sortable:!0,cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:"".concat(e.tempat_lahir,", ").concat(Object(q.a)(e.tgl_lahir))})})}},{name:"Pekerjaan",selector:"pekerjaan",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"success",className:"btn btn-sm",onClick:function(){return m(Object(O.a)(Object(O.a)({},b),{},{modal:!b.modal,id:e.id_keluarga}))},children:Object(j.jsx)(y.a,{content:w.a,color:"white"})}),Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return P(a,e.id_keluarga)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],K=function(e){var a=e.data;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Agama"})}),Object(j.jsx)(c.m,{children:a.agama})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Jenis Kelamin"})}),Object(j.jsx)(c.m,{children:a.jenis_kelamin})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Telepon"})}),Object(j.jsx)(c.m,{children:a.telepon})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Alamat"})}),Object(j.jsx)(c.m,{children:a.alamat})]})]})})},P=function(e,a){L.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/keluarga/").concat(a)).then((function(a){T(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,f),L.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){T(e,f,S)})))}))};return Object(j.jsxs)(j.Fragment,{children:[!D&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsxs)("div",{className:"button-control mb-2",children:[Object(j.jsx)(c.f,{color:"primary",className:"btn btn-md",onClick:function(){return o(!d)},children:"Tambah Data"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",onClick:function(){return E(a,"keluarga")},children:["PDF ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(J.a)("laporan-pegawai/"+a+"/keluarga")},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]}),Object(j.jsx)(x.a,{columns:B,data:k||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},expandableRows:!0,expandableRowsComponent:Object(j.jsx)(K,{}),expandOnRowClicked:!0,highlightOnHover:!0})]})}),D&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:d,onClose:function(){return o(!d)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(F,{id:a,modalTambah:d,setModalTambah:o,keluarga:{setLoadingKeluarga:S,data:k,setData:f}})]}),Object(j.jsxs)(c.M,{show:b.modal,onClose:function(){return m(Object(O.a)(Object(O.a)({},b),{},{modal:!b.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Data"})}),Object(j.jsx)(A,{idPegawai:a,idKeluarga:b.id,modalEdit:b.modal,setModalEdit:m,keluarga:{setLoadingKeluarga:S,data:k,setData:f}})]})]})},I=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/pendidikan")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},W=v()(f.a),G=function(e){var a=e.id,n=e.modalTambah,s=e.setModalTambah,r=e.pendidikan,o=Object(d.g)(),u=Object(i.useState)(!1),h=Object(t.a)(u,2),b=h[0],m=h[1],g={nama_akademi:"",jenjang:"",jurusan:"",tahun_lulus:"",no_ijazah:"",foto_ijazah:void 0},O=function(){W.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!n),o.push("/epekerja/admin/pegawai-detail/".concat(a))}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");W.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){m(!1)}))},x=["image/jpg","image/jpeg","image/png","application/pdf"],k=S.c().shape({nama_akademi:S.e().required("Nama akademi harus diisi!"),jenjang:S.e().required("Jenjang harus diisi!"),jurusan:S.e().required("Jurusan harus diisi!"),tahun_lulus:S.e().required("Tahun lulus harus diisi!"),no_ijazah:S.e().required("No. Ijazah harus diisi!"),foto_ijazah:S.a().required("File ijazah belum dipilih").test("size","Kapasitas file maksimal 2 mb",(function(e){return e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return e&&x.includes(e.type)}))});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:g,validationSchema:k,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nama_akademi",e.nama_akademi),i.append("jenjang",e.jenjang),i.append("jurusan",e.jurusan),i.append("tahun_lulus",e.tahun_lulus),i.append("no_ijazah",e.no_ijazah),i.append("foto_ijazah",e.foto_ijazah);var c,l=Object(D.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var s=c.value;console.log(s)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/pendidikan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),I(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,m,O,p,r.setLoadingPendidikan,r.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;e.handleReset;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama_akademi",children:"Nama Akademi"}),Object(j.jsx)(c.D,{type:"text",id:"nama_akademi",name:"nama_akademi",onChange:r,onBlur:d,value:a.nama_akademi,placeholder:"Masukkan nama akademi",className:t.nama_akademi&&i.nama_akademi?"is-invalid":null}),t.nama_akademi&&i.nama_akademi&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nama_akademi})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jenjang",children:"Jenjang"}),Object(j.jsxs)(c.X,{custom:!0,name:"jenjang",id:"jenjang",value:a.jenjang,onChange:r,onBlur:d,className:t.jenjang&&i.jenjang?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Jenjang --"}),Object(j.jsx)("option",{value:"-",children:"-"}),Object(j.jsx)("option",{value:"sd",children:"SD"}),Object(j.jsx)("option",{value:"smp",children:"SMP"}),Object(j.jsx)("option",{value:"sma/ma/smk",children:"SMA/MA/SMK"}),Object(j.jsx)("option",{value:"D3",children:"D3"}),Object(j.jsx)("option",{value:"D4",children:"D4"}),Object(j.jsx)("option",{value:"S1",children:"S1"}),Object(j.jsx)("option",{value:"S2",children:"S2"}),Object(j.jsx)("option",{value:"S3",children:"S3"})]}),t.jenjang&&i.jenjang&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.jenjang})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jurusan",children:"Jurusan"}),Object(j.jsx)(c.D,{type:"text",id:"jurusan",name:"jurusan",placeholder:"Masukkan jurusan",onChange:r,onBlur:d,value:a.jurusan,className:t.jurusan&&i.jurusan?"is-invalid":null}),t.jurusan&&i.jurusan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.jurusan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tahun lulus",children:"Tahun Lulus"}),Object(j.jsx)(c.D,{type:"number",id:"tahun_lulus",name:"tahun_lulus",placeholder:"Masukkan tahun lulus",onChange:r,onBlur:d,value:a.tahun_lulus,className:t.tahun_lulus&&i.tahun_lulus?"is-invalid":null}),t.tahun_lulus&&i.tahun_lulus&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.tahun_lulus})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"no_ijazah",children:"No. Ijazah"}),Object(j.jsx)(c.D,{type:"text",id:"no_ijazah",name:"no_ijazah",placeholder:"Masukkan no. ijazah",onChange:r,onBlur:d,value:a.no_ijazah,className:t.no_ijazah&&i.no_ijazah?"is-invalid":null}),t.no_ijazah&&i.no_ijazah&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.no_ijazah})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"foto_ijazah",children:"Foto Ijazah"}),Object(j.jsx)(c.D,{type:"file",id:"foto_ijazah",name:"foto_ijazah",placeholder:"Masukkan foto ijazah",onChange:function(e){return u("foto_ijazah",e.target.files[0])},onBlur:d,className:t.foto_ijazah&&i.foto_ijazah?"is-invalid":null}),t.foto_ijazah&&i.foto_ijazah&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.foto_ijazah}),Object(j.jsx)(c.y,{children:"File harus bertipe jpg, jpeg, atau png dan sizenya kurang dari 2 MB"})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!b,children:b?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){s(!n)},children:"Batal"})]})]})}})})},H=v()(f.a),V=function(e){var a=e.idPegawai,n=e.idPendidikan,s=e.modalEdit,r=e.setModalEdit,o=e.pendidikan,u=Object(d.g)(),h=Object(i.useState)(null),b=Object(t.a)(h,2),m=b[0],g=b[1],O=Object(i.useState)(!1),p=Object(t.a)(O,2),x=p[0],k=p[1];Object(i.useEffect)((function(){return n&&function(e,a,n){M.a.get("admin/pegawai/".concat(e,"/pendidikan/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,g),function(){return g(null)}}),[a,n]);var f={nama_akademi:m?m.nama_akademi:"",jenjang:m?m.jenjang:"",jurusan:m?m.jurusan:"",tahun_lulus:m?m.tahun_lulus:"",no_ijazah:m?m.no_ijazah:"",foto_ijazah:void 0},_=function(){H.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!s),u.push("/epekerja/admin/pegawai-detail/".concat(a))}))},v=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");H.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){k(!1)}))},y=["image/jpg","image/jpeg","image/png","application/pdf"],w=S.c().shape({nama_akademi:S.e().required("Nama akademi harus diisi!"),jenjang:S.e().required("Jenjang harus diisi!"),jurusan:S.e().required("Jurusan harus diisi!"),tahun_lulus:S.e().required("Tahun lulus harus diisi!"),no_ijazah:S.e().required("No. Ijazah harus diisi!"),foto_ijazah:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&y.includes(e.type)}))}),N=function(e){var t=new FormData;t.append("nama_akademi",e.nama_akademi),t.append("jenjang",e.jenjang),t.append("jurusan",e.jurusan),t.append("tahun_lulus",e.tahun_lulus),t.append("no_ijazah",e.no_ijazah),e.foto_ijazah&&t.append("foto_ijazah",e.foto_ijazah);var i,c=Object(D.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var l=i.value;console.log(l)}}catch(s){c.e(s)}finally{c.f()}!function(e,a,n,t,i,c,l,s){t(!0),M.a.post("admin/pegawai/".concat(e,"/pendidikan/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){t(!1),I(e,l,s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,k,_,v,o.setData,o.setLoadingPendidikan)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:f,validationSchema:w,enableReinitialize:!0,onSubmit:function(e){return N(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama_akademi",children:"Nama Akademi"}),Object(j.jsx)(c.D,{type:"text",id:"nama_akademi",name:"nama_akademi",onChange:i,onBlur:d,value:a.nama_akademi,placeholder:"Masukkan nama akademi",className:n.nama_akademi&&t.nama_akademi?"is-invalid":null}),n.nama_akademi&&t.nama_akademi&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.nama_akademi})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jenjang",children:"Jenjang"}),Object(j.jsxs)(c.X,{custom:!0,name:"jenjang",id:"jenjang",value:a.jenjang,onChange:i,onBlur:d,className:n.jenjang&&t.jenjang?"is-invalid":null,children:[Object(j.jsx)("option",{value:"",children:"-- Pilih Jenjang --"}),Object(j.jsx)("option",{value:"-",children:"-"}),Object(j.jsx)("option",{value:"sd",children:"SD"}),Object(j.jsx)("option",{value:"smp",children:"SMP"}),Object(j.jsx)("option",{value:"sma/ma/smk",children:"SMA/MA/SMK"}),Object(j.jsx)("option",{value:"D3",children:"D3"}),Object(j.jsx)("option",{value:"D4",children:"D4"}),Object(j.jsx)("option",{value:"S1",children:"S1"}),Object(j.jsx)("option",{value:"S2",children:"S2"}),Object(j.jsx)("option",{value:"S3",children:"S3"})]}),n.jenjang&&t.jenjang&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jenjang})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jurusan",children:"Jurusan"}),Object(j.jsx)(c.D,{type:"text",id:"jurusan",name:"jurusan",placeholder:"Masukkan jurusan",onChange:i,onBlur:d,value:a.jurusan,className:n.jurusan&&t.jurusan?"is-invalid":null}),n.jurusan&&t.jurusan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jurusan})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tahun lulus",children:"Tahun Lulus"}),Object(j.jsx)(c.D,{type:"number",id:"tahun_lulus",name:"tahun_lulus",placeholder:"Masukkan tahun lulus",onChange:i,onBlur:d,value:a.tahun_lulus,className:n.tahun_lulus&&t.tahun_lulus?"is-invalid":null}),n.tahun_lulus&&t.tahun_lulus&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tahun_lulus})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"no_ijazah",children:"No. Ijazah"}),Object(j.jsx)(c.D,{type:"text",id:"no_ijazah",name:"no_ijazah",placeholder:"Masukkan no. ijazah",onChange:i,onBlur:d,value:a.no_ijazah,className:n.no_ijazah&&t.no_ijazah?"is-invalid":null}),n.no_ijazah&&t.no_ijazah&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.no_ijazah})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"foto_ijazah",children:"Foto Ijazah"}),Object(j.jsx)(c.D,{type:"file",id:"foto_ijazah",name:"foto_ijazah",placeholder:"Masukkan foto ijazah",onChange:function(e){return u("foto_ijazah",e.target.files[0])},onBlur:d,className:n.foto_ijazah&&t.foto_ijazah?"is-invalid":null}),n.foto_ijazah&&t.foto_ijazah&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.foto_ijazah}),Object(j.jsx)(c.y,{children:"File harus bertipe jpg, jpeg, atau png dan sizenya kurang dari 2 MB"})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",onClick:function(){return N(a)},disabled:!!x,children:x?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return r(!s)},children:"Batal"})]})]})}})})},Y=v()(f.a),Q=function(e){var a=e.id,n=e.dataActive,s=Object(i.useState)(!1),d=Object(t.a)(s,2),o=d[0],u=d[1],h=Object(i.useState)({modal:!1,image:null}),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)({modal:!1,id:null}),k=Object(t.a)(p,2),f=k[0],_=k[1],v=Object(i.useState)(null),D=Object(t.a)(v,2),S=D[0],B=D[1],K=Object(i.useState)(!1),T=Object(t.a)(K,2),P=T[0],F=T[1];Object(i.useEffect)((function(){S||"pendidikan"===n&&I(a,B,F)}),[a,n,S]);var z=[{name:"Nama Akademi",selector:"nama_akademi",wrap:!0,sortable:!0},{name:"Jurusan",selector:"jurusan",wrap:!0,sortable:!0},{name:"Jenjang",selector:"jenjang",wrap:!0,sortable:!0,cell:function(e){return Object(j.jsx)("div",{children:e.jenjang.toUpperCase()})}},{name:"Tahun Lulus",selector:"tahun_lulus",wrap:!0,sortable:!0},{name:"No. Ijazah",selector:"no_ijazah",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"success",className:"btn btn-sm",onClick:function(){return _(Object(O.a)(Object(O.a)({},f),{},{modal:!f.modal,id:e.id_pendidikan}))},children:Object(j.jsx)(y.a,{content:w.a,color:"white"})}),Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return L(a,e.id_pendidikan)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],A=function(e){var a=e.data,n=a.foto_ijazah.split("/"),t=n[n.length-1],i=t.split("."),l=i[i.length-1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{padding:"10px 63px"},children:Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"File Ijazah"})}),Object(j.jsx)(c.m,{children:["jpg","jpeg","png"].includes(l)?Object(j.jsx)("img",{width:200,src:Object(r.c)(a.foto_ijazah),alt:"foto-ijazah",onClick:function(){return q(a.foto_ijazah)},style:{cursor:"pointer"}}):Object(j.jsx)("a",{href:Object(r.c)(a.foto_ijazah),target:"_blank",rel:"noreferrer",children:t})})]})})})},q=function(e){g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,image:e}))},L=function(e,a){Y.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/pendidikan/").concat(a)).then((function(a){I(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,B),Y.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){I(e,B,F)})))}))};return Object(j.jsxs)(j.Fragment,{children:[!P&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsxs)("div",{className:"button-control mb-2",children:[Object(j.jsx)(c.f,{color:"primary",className:"btn btn-md",onClick:function(){return u(!o)},children:"Tambah Data"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",onClick:function(){return E(a,"pendidikan")},children:["Cetak ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(J.a)("laporan-pegawai/"+a+"/pendidikan")},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]}),Object(j.jsx)(x.a,{columns:z,data:S||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},expandableRows:!0,expandableRowsComponent:Object(j.jsx)(A,{}),highlightOnHover:!0,expandOnRowClicked:!0})]})}),P&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:o,onClose:function(){return u(!o)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(G,{id:a,modalTambah:o,setModalTambah:u,pendidikan:{setLoadingPendidikan:F,data:S,setData:B}})]}),Object(j.jsxs)(c.M,{show:f.modal,onClose:function(){return _(Object(O.a)(Object(O.a)({},f),{},{modal:!f.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Data"})}),Object(j.jsx)(V,{idPegawai:a,idPendidikan:f.id,modalEdit:f.modal,setModalEdit:_,pendidikan:{setLoadingPendidikan:F,data:S,setData:B}})]}),Object(j.jsxs)(c.M,{show:m.modal,onClose:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,image:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Preview"})}),Object(j.jsx)(c.N,{children:m.image&&Object(j.jsx)("img",{style:{width:"100%"},src:Object(r.c)(m.image),alt:"foto-ijazah"})})]})]})},U=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/diklat")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},X=v()(f.a),Z=function(e){var a=e.id,n=e.modalTambah,s=e.setModalTambah,r=e.diklat,o=Object(d.g)(),u=Object(i.useState)(!1),h=Object(t.a)(u,2),b=h[0],m=h[1],g={nama_diklat:"",jenis_diklat:"",penyelenggara:"",tahun_diklat:"",jumlah_jam:"",dokumentasi:void 0,sertifikat:void 0},O=function(){X.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!n),o.push("/epekerja/admin/pegawai-detail/".concat(a))}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");X.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){m(!1)}))},x=2048e3,k=["image/jpg","image/jpeg","image/png","application/pdf"],f=S.c().shape({nama_diklat:S.e().required("Nama diklat harus diisi!"),jenis_diklat:S.e().required("Jenis diklat harus diisi!"),penyelenggara:S.e().required("Penyelenggara harus diisi!"),tahun_diklat:S.e().required("Tahun diklat harus diisi!"),jumlah_jam:S.e().required("Jumlah jam harus diisi!"),dokumentasi:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=x})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&k.includes(e.type)})),sertifikat:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=x})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&k.includes(e.type)}))});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:g,validationSchema:f,onSubmit:function(e,n){var t=n.resetForm;console.log(e);var i=new FormData;i.append("nama_diklat",e.nama_diklat),i.append("jenis_diklat",e.jenis_diklat),i.append("penyelenggara",e.penyelenggara),i.append("tahun_diklat",e.tahun_diklat),i.append("jumlah_jam",e.jumlah_jam),e.dokumentasi&&i.append("dokumentasi",e.dokumentasi),e.sertifikat&&i.append("sertifikat",e.sertifikat);var c,l=Object(D.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var s=c.value;console.log(s)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/diklat"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),U(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,m,O,p,r.setLoadingDiklat,r.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama_diklat",children:"Nama Diklat"}),Object(j.jsx)(c.D,{type:"text",placeholder:"Masukkan nama diklat",id:"nama_diklat",name:"nama_diklat",onChange:r,onBlur:d,value:a.nama_diklat,className:t.nama_diklat&&i.nama_diklat?"is-invalid":null}),t.nama_diklat&&i.nama_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nama_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jenis_diklat",children:"Jenis Diklat"}),Object(j.jsx)(c.D,{type:"text",id:"jenis_diklat",placeholder:"Masukkan jenis diklat",name:"jenis_diklat",onChange:r,onBlur:d,value:a.jenis_diklat,className:t.jenis_diklat&&i.jenis_diklat?"is-invalid":null}),t.jenis_diklat&&i.jenis_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.jenis_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"penyelenggara",children:"Penyelenggara"}),Object(j.jsx)(c.D,{type:"text",id:"penyelenggara",placeholder:"Masukkan penyelenggara",name:"penyelenggara",onChange:r,onBlur:d,value:a.penyelenggara,className:t.penyelenggara&&i.penyelenggara?"is-invalid":null}),t.penyelenggara&&i.penyelenggara&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.penyelenggara})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tahun_diklat",children:"Tahun Diklat"}),Object(j.jsx)(c.D,{type:"number",id:"tahun_diklat",placeholder:"Masukkan tahun diklat",name:"tahun_diklat",onChange:r,onBlur:d,value:a.tahun_diklat,className:t.tahun_diklat&&i.tahun_diklat?"is-invalid":null}),t.tahun_diklat&&i.tahun_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.tahun_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jml_jam",children:"Jumlah Jam"}),Object(j.jsx)(c.D,{type:"number",id:"jml_jam",placeholder:"Masukkan jumlah jam",name:"jumlah_jam",onChange:r,onBlur:d,value:a.jumlah_jam,className:t.jumlah_jam&&i.jumlah_jam?"is-invalid":null}),t.jumlah_jam&&i.jumlah_jam&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.jumlah_jam})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"dokumentasi_diklat",children:"Dokumentasi Diklat"}),Object(j.jsx)(c.D,{type:"file",id:"dokumentasi",placeholder:"Masukkan dokumentasi diklat",name:"dokumentasi",onChange:function(e){return u("dokumentasi",e.target.files[0])},onBlur:d,className:t.dokumentasi&&i.dokumentasi?"is-invalid":null}),t.dokumentasi&&i.dokumentasi&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.dokumentasi}),Object(j.jsx)(c.y,{children:"Upload file dokumentasi diklat jika ada"})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"sertifikat_diklat",children:"Sertifikat Diklat"}),Object(j.jsx)(c.D,{type:"file",id:"sertifikat",placeholder:"Masukkan sertifikat diklat",name:"sertifikat",onChange:function(e){return u("sertifikat",e.target.files[0])},onBlur:d,className:t.sertifikat&&i.sertifikat?"is-invalid":null}),t.sertifikat&&i.sertifikat&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.sertifikat}),Object(j.jsx)(c.y,{children:"Upload file sertifikat diklat jika ada"})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!b,children:b?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return s(!n)},children:"Batal"})]})]})}})})},$=v()(f.a),ee=function(e){var a=e.idPegawai,n=e.idDiklat,s=e.modalEdit,r=e.setModalEdit,o=e.diklat,u=Object(d.g)(),h=Object(i.useState)(null),b=Object(t.a)(h,2),m=b[0],g=b[1],O=Object(i.useState)(!1),p=Object(t.a)(O,2),x=p[0],k=p[1];Object(i.useEffect)((function(){return n&&function(e,a,n){M.a.get("admin/pegawai/".concat(e,"/diklat/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,g),function(){return g(null)}}),[a,n]);var f={nama_diklat:m?m.nama_diklat:"",jenis_diklat:m?m.jenis_diklat:"",penyelenggara:m?m.penyelenggara:"",tahun_diklat:m?m.tahun_diklat:"",jumlah_jam:m?m.jumlah_jam:"",dokumentasi:void 0,sertifikat:void 0},_=function(){$.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(!s),u.push("/epekerja/admin/pegawai-detail/".concat(a))}))},v=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");$.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){k(!1)}))},y=2048e3,w=["image/jpg","image/jpeg","image/png","application/pdf"],N=S.c().shape({nama_diklat:S.e().required("Nama diklat harus diisi!"),jenis_diklat:S.e().required("Jenis diklat harus diisi!"),penyelenggara:S.e().required("Penyelenggara harus diisi!"),tahun_diklat:S.e().required("Tahun diklat harus diisi!"),jumlah_jam:S.e().required("Jumlah jam harus diisi!"),dokumentasi:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=y})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&w.includes(e.type)})),sertifikat:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=y})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&w.includes(e.type)}))}),C=function(e){console.log(e);var t=new FormData;t.append("nama_diklat",e.nama_diklat),t.append("jenis_diklat",e.jenis_diklat),t.append("penyelenggara",e.penyelenggara),t.append("tahun_diklat",e.tahun_diklat),t.append("jumlah_jam",e.jumlah_jam),e.dokumentasi&&t.append("dokumentasi",e.dokumentasi),e.sertifikat&&t.append("sertifikat",e.sertifikat);var i,c=Object(D.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var l=i.value;console.log(l)}}catch(s){c.e(s)}finally{c.f()}!function(e,a,n,t,i,c,l,s){t(!0),M.a.post("admin/pegawai/".concat(e,"/diklat/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){t(!1),U(e,l,s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,k,_,v,o.setData,o.setLoadingDiklat)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:f,validationSchema:N,enableReinitialize:!0,onSubmit:function(e){return C(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"nama_diklat",children:"Nama Diklat"}),Object(j.jsx)(c.D,{type:"text",placeholder:"Masukkan nama diklat",id:"nama_diklat",name:"nama_diklat",onChange:i,onBlur:d,value:a.nama_diklat,className:n.nama_diklat&&t.nama_diklat?"is-invalid":null}),n.nama_diklat&&t.nama_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.nama_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jenis_diklat",children:"Jenis Diklat"}),Object(j.jsx)(c.D,{type:"text",id:"jenis_diklat",placeholder:"Masukkan jenis diklat",name:"jenis_diklat",onChange:i,onBlur:d,value:a.jenis_diklat,className:n.jenis_diklat&&t.jenis_diklat?"is-invalid":null}),n.jenis_diklat&&t.jenis_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jenis_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"penyelenggara",children:"Penyelenggara"}),Object(j.jsx)(c.D,{type:"text",id:"penyelenggara",placeholder:"Masukkan penyelenggara",name:"penyelenggara",onChange:i,onBlur:d,value:a.penyelenggara,className:n.penyelenggara&&t.penyelenggara?"is-invalid":null}),n.penyelenggara&&t.penyelenggara&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.penyelenggara})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tahun_diklat",children:"Tahun Diklat"}),Object(j.jsx)(c.D,{type:"number",id:"tahun_diklat",placeholder:"Masukkan tahun diklat",name:"tahun_diklat",onChange:i,onBlur:d,value:a.tahun_diklat,className:n.tahun_diklat&&t.tahun_diklat?"is-invalid":null}),n.tahun_diklat&&t.tahun_diklat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tahun_diklat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jml_jam",children:"Jumlah Jam"}),Object(j.jsx)(c.D,{type:"number",id:"jml_jam",placeholder:"Masukkan jumlah jam",name:"jumlah_jam",onChange:i,onBlur:d,value:a.jumlah_jam,className:n.jumlah_jam&&t.jumlah_jam?"is-invalid":null}),n.jumlah_jam&&t.jumlah_jam&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jumlah_jam})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"dokumentasi_diklat",children:"Dokumentasi Diklat"}),Object(j.jsx)(c.D,{type:"file",id:"dokumentasi",placeholder:"Masukkan dokumentasi diklat",name:"dokumentasi",onChange:function(e){return u("dokumentasi",e.target.files[0])},onBlur:d,className:n.dokumentasi&&t.dokumentasi?"is-invalid":null}),n.dokumentasi&&t.dokumentasi&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.dokumentasi}),Object(j.jsx)(c.y,{children:"Upload file dokumentasi diklat jika ada"})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"sertifikat_diklat",children:"Sertifikat Diklat"}),Object(j.jsx)(c.D,{type:"file",id:"sertifikat",placeholder:"Masukkan sertifikat diklat",name:"sertifikat",onChange:function(e){return u("sertifikat",e.target.files[0])},onBlur:d,className:n.sertifikat&&t.sertifikat?"is-invalid":null}),n.sertifikat&&t.sertifikat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.sertifikat}),Object(j.jsx)(c.y,{children:"Upload file sertifikat diklat jika ada"})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!x,children:x?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return r(!s)},children:"Batal"})]})]})}})})},ae=n(725),ne=v()(f.a),te=function(e){var a=e.id,n=e.dataActive,s=Object(i.useState)(!1),r=Object(t.a)(s,2),d=r[0],o=r[1],u=Object(i.useState)({modal:!1,id:null}),h=Object(t.a)(u,2),b=h[0],m=h[1],g=Object(i.useState)({modal:!1,image:null}),p=Object(t.a)(g,2),k=p[0],f=p[1],_=Object(i.useState)(null),v=Object(t.a)(_,2),D=v[0],S=v[1],B=Object(i.useState)(!1),K=Object(t.a)(B,2),T=K[0],P=K[1];Object(i.useEffect)((function(){D||"diklat"===n&&U(a,S,P)}),[a,n,D]);var F=[{name:"Nama Diklat",selector:"nama_diklat",wrap:!0,sortable:!0},{name:"Jenis Diklat",selector:"jenis_diklat",wrap:!0,sortable:!0},{name:"Penyelenggara",selector:"penyelenggara",wrap:!0,sortable:!0},{name:"Tahun Diklat",selector:"tahun_diklat",wrap:!0,sortable:!0},{name:"Jumlah Jam",selector:"jumlah_jam",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"100px",cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"success",className:"btn btn-sm",onClick:function(){return m(Object(O.a)(Object(O.a)({},b),{},{modal:!b.modal,id:e.id_diklat}))},children:Object(j.jsx)(y.a,{content:w.a,color:"white"})}),Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return z(a,e.id_diklat)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],z=function(e,a){ne.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/diklat/").concat(a)).then((function(a){U(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,S),ne.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){U(e,S,P)})))}))},A=function(e){f(Object(O.a)(Object(O.a)({},k),{},{modal:!k.modal,image:e}))},q=function(e){var a=e.data,n=["jpg","jpeg","png"],t=function(e){var a=e.split("/"),n=a[a.length-1],t=n.split(".");return{ext:t[t.length-1],filename:n}},i=t(a.dokumentasi),l=t(a.sertifikat);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(j.jsxs)(c.W,{className:"mb-2",children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Dokumentasi"})}),Object(j.jsx)(c.m,{children:n.includes(i.ext.toLowerCase())?Object(j.jsx)("img",{width:200,src:Object(ae.a)(a.dokumentasi),alt:"dokumentasi-diklat",onClick:function(){return A(a.dokumentasi)},style:{cursor:"pointer"}}):Object(j.jsx)("a",{href:Object(ae.a)(a.dokumentasi),target:"_blank",rel:"noreferrer",children:i.filename})})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Sertifikat"})}),Object(j.jsx)(c.m,{children:n.includes(l.ext.toLowerCase())?Object(j.jsx)("img",{width:200,src:Object(ae.a)(a.sertifikat),alt:"sertifikat-diklat",onClick:function(){return A(a.sertifikat)},style:{cursor:"pointer"}}):Object(j.jsx)("a",{href:Object(ae.a)(a.sertifikat),target:"_blank",rel:"noreferrer",children:l.filename})})]})]})})};return Object(j.jsxs)(j.Fragment,{children:[!T&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsxs)("div",{className:"button-control mb-2",children:[Object(j.jsx)(c.f,{color:"primary",className:"btn btn-md",onClick:function(){return o(!d)},children:"Tambah Data"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",onClick:function(){return E(a,"diklat")},children:["Cetak ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(J.a)("laporan-pegawai/"+a+"/diklat")},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]}),Object(j.jsx)(x.a,{columns:F,data:D||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},expandableRows:!0,expandableRowsComponent:Object(j.jsx)(q,{}),expandOnRowClicked:!0,highlightOnHover:!0})]})}),T&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:d,onClose:function(){return o(!d)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(Z,{id:a,modalTambah:d,setModalTambah:o,diklat:{setLoadingDiklat:P,data:D,setData:S}})]}),Object(j.jsxs)(c.M,{show:b.modal,onClose:function(){return m(Object(O.a)(Object(O.a)({},b),{},{modal:!b.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Data"})}),Object(j.jsx)(ee,{idPegawai:a,idDiklat:b.id,modalEdit:b.modal,setModalEdit:m,diklat:{setLoadingDiklat:P,data:D,setData:S}})]}),Object(j.jsxs)(c.M,{show:k.modal,onClose:function(){return f(Object(O.a)(Object(O.a)({},k),{},{modal:!k.modal,image:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Preview"})}),Object(j.jsx)(c.N,{children:k.image&&Object(j.jsx)("img",{style:{width:"100%"},src:Object(ae.a)(k.image),alt:"dokumentasi-diklat"})})]})]})},ie=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/berkas")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},ce=v()(f.a),le=function(e){var a=e.id,n=e.modal,s=e.setModal,r=e.berkas,o=Object(d.g)(),u=Object(i.useState)(!1),h=Object(t.a)(u,2),b=h[0],m=h[1],g={nama_berkas:void 0,keterangan:""},O=function(){ce.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!1),o.push("/epekerja/admin/pegawai-detail/".concat(a))}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ce.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){m(!1)}))},x=["image/jpg","image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],k=S.c().shape({keterangan:S.e().required("Keterangan harus diisi!"),nama_berkas:S.a().required("File belum dipilih").test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya gambar (jpg, jpeg, png) dan dokumen (pdf, doc, docx, xls, xlsx)",(function(e){return!e||e&&x.includes(e.type)}))});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:g,validationSchema:k,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nama_berkas",e.nama_berkas),i.append("keterangan",e.keterangan);var c,l=Object(D.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var s=c.value;console.log(s)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/berkas"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),ie(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,m,O,p,r.setLoading,r.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)(c.K,{children:"Upload Berkas"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"file",name:"nama_berkas",id:"nama_berkas",onChange:function(e){return u("nama_berkas",e.target.files[0])},onBlur:d,className:t.nama_berkas&&i.nama_berkas?"is-invalid":null}),t.nama_berkas&&i.nama_berkas&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nama_berkas})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)(c.K,{children:"Keterangan"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"text",name:"keterangan",id:"keterangan",onChange:r,onBlur:d,value:a.keterangan,placeholder:"Masukkan keterangan",className:t.keterangan&&i.keterangan?"is-invalid":null}),t.keterangan&&i.keterangan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.keterangan})]})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!b,children:b?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return s(!n)},children:"Batal"})]})]})}})})},se=n(726),re=v()(f.a),de=function(e){var a=e.id,n=e.dataActive,r=Object(i.useState)(!1),d=Object(t.a)(r,2),o=d[0],u=d[1],h=Object(i.useState)({modal:!1,image:null}),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)(null),k=Object(t.a)(p,2),f=k[0],_=k[1],v=Object(i.useState)(!1),w=Object(t.a)(v,2),C=w[0],D=w[1];Object(i.useEffect)((function(){f||"berkas"===n&&ie(a,_,D)}),[a,f,n]);var S=[{name:"Berkas",selector:"nama_berkas",wrap:!0,sortable:!0,maxWidth:"250px",cell:function(e){var a=e.nama_berkas.split("/"),n=a[a.length-1],t=n.split("."),i=t[t.length-1];return Object(j.jsx)(j.Fragment,{children:["jpg","jpeg","png"].includes(i.toLowerCase())?Object(j.jsx)("img",{width:100,src:Object(se.a)(e.nama_berkas),alt:n,onClick:function(){return K(e.nama_berkas)},style:{cursor:"pointer"},className:"img-thumbnail m-3"}):Object(j.jsx)("a",{href:Object(se.a)(e.nama_berkas),target:"_blank",rel:"noreferrer",children:n})})}},{name:"Tgl dan Jam Upload",selector:"created_at",wrap:!0,sortable:!0,maxWidth:"250px",cell:function(e){var a=e.created_at.split(" ");return Object(s.a)(new Date(a[0]),"dd/MM/y")+" "+a[1]}},{name:"Keterangan",selector:"keterangan",wrap:!0,sortable:!0},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"100px",cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return B(a,e.id_berkas)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})})}}],B=function(e,a){re.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/berkas/").concat(a)).then((function(a){ie(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,_),re.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){ie(e,_,D)})))}))},K=function(e){g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,image:e}))};return Object(j.jsxs)(j.Fragment,{children:[!C&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsx)(c.f,{type:"button",color:"primary",onClick:function(){return u(!o)},children:"Tambah Berkas"}),Object(j.jsx)(x.a,{columns:S,data:f||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}}})]})}),C&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:o,onClose:function(){return u(!o)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(le,{id:a,modal:o,setModal:u,berkas:{setLoading:D,data:f,setData:_}})]}),Object(j.jsxs)(c.M,{show:m.modal,onClose:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,image:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Preview"})}),Object(j.jsx)(c.N,{children:m.image&&Object(j.jsx)("img",{style:{width:"100%"},src:Object(se.a)(m.image),alt:"dokumentasi-penghargaan"})})]})]})},je=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/riwayat-kerja")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},oe=function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,s=e.handleBlur,r=e.handleSubmit,d=e.modal,o=e.setModal,u=e.loading;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.w,{onSubmit:r,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"kantor",children:"Kantor Lama"}),Object(j.jsx)(c.D,{type:"text",id:"kantor",placeholder:"Masukkan kantor lama",name:"kantor",value:a.kantor,onChange:i,onBlur:s,className:n.kantor&&t.kantor?"is-invalid":null}),n.kantor&&t.kantor&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.kantor})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"jabatan",children:"Jabatan Lama"}),Object(j.jsx)(c.D,{type:"text",id:"jabatan",placeholder:"Masukkan jabatan lama",name:"jabatan",value:a.jabatan,onChange:i,onBlur:s,className:n.jabatan&&t.jabatan?"is-invalid":null}),n.jabatan&&t.jabatan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jabatan})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tgl_masuk",children:"Tgl. Masuk Kerja"}),Object(j.jsx)(c.D,{type:"date",id:"tgl_masuk",placeholder:"Masukkan tgl. masuk kerja",name:"tgl_masuk",value:a.tgl_masuk,onChange:i,onBlur:s,className:n.tgl_masuk&&t.tgl_masuk?"is-invalid":null}),n.tgl_masuk&&t.tgl_masuk&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tgl_masuk})]})}),Object(j.jsx)(c.m,{children:Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"tgl_keluar",children:"Tgl. Keluar Kerja"}),Object(j.jsx)(c.D,{type:"date",id:"tgl_keluar",placeholder:"Masukkan tgl. keluar kerja",name:"tgl_keluar",value:a.tgl_keluar,onChange:i,onBlur:s,className:n.tgl_keluar&&t.tgl_keluar?"is-invalid":null}),n.tgl_keluar&&t.tgl_keluar&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tgl_keluar})]})})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{htmlFor:"keterangan",children:"Keterangan"}),Object(j.jsx)(c.D,{type:"keterangan",id:"keterangan",placeholder:"Masukkan keterangan",name:"keterangan",value:a.keterangan,onChange:i,onBlur:s,className:n.keterangan&&t.keterangan?"is-invalid":null}),n.keterangan&&t.keterangan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.keterangan})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!u,children:u?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return o(!d)},children:"Batal"})]})]})})},ue=v()(f.a),he=function(e){var a=e.id,n=e.modal,c=e.setModal,l=e.riwayatKerja,s=Object(d.g)(),r=Object(i.useState)(!1),o=Object(t.a)(r,2),u=o[0],h=o[1],b=function(){ue.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){c(!n),s.push("/epekerja/admin/pegawai-detail/".concat(a))}))},m=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ue.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){h(!1)}))},g=S.c().shape({kantor:S.e().required("Kantor lama harus diisi!"),jabatan:S.e().required("Jabatan lama harus diisi!"),tgl_masuk:S.e().required("Tgl. masuk harus diisi!"),tgl_keluar:S.e().required("Tgl. keluar harus diisi!"),keterangan:S.e().required("Keterangan harus diisi!")});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:{kantor:"",jabatan:"",tgl_masuk:"",tgl_keluar:"",keterangan:""},validationSchema:g,onSubmit:function(e,n){var t=n.resetForm;console.log(e);var i=new FormData;i.append("kantor",e.kantor),i.append("jabatan",e.jabatan),i.append("tgl_masuk",e.tgl_masuk),i.append("tgl_keluar",e.tgl_keluar),i.append("keterangan",e.keterangan);var c,s=Object(D.a)(i.entries());try{for(s.s();!(c=s.n()).done;){var r=c.value;console.log(r)}}catch(d){s.e(d)}finally{s.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/riwayat-kerja"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),je(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,h,b,m,l.setLoadingRiwayatKerja,l.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,l=e.handleChange,s=e.handleBlur,r=e.handleSubmit;return Object(j.jsx)(oe,{values:a,errors:t,touched:i,handleSubmit:r,handleChange:l,handleBlur:s,modal:n,setModal:c,loading:u})}})})},be=v()(f.a),me=function(e){var a=e.idPegawai,n=e.idRiwayatKerja,c=e.modal,l=e.setModal,s=e.riwayatKerja,r=Object(d.g)(),o=Object(i.useState)(null),u=Object(t.a)(o,2),h=u[0],b=u[1],m=Object(i.useState)(!1),g=Object(t.a)(m,2),O=g[0],p=g[1];Object(i.useEffect)((function(){return n&&function(e,a,n){M.a.get("admin/pegawai/".concat(e,"/riwayat-kerja/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))}(a,n,b),function(){return b(null)}}),[a,n]);var x={kantor:h?h.kantor:"",jabatan:h?h.jabatan:"",tgl_masuk:h?h.tgl_masuk:"",tgl_keluar:h?h.tgl_keluar:"",keterangan:h?h.keterangan:""},k=function(){be.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){l(!c),r.push("/epekerja/admin/pegawai-detail/".concat(a))}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");be.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){p(!1)}))},_=S.c().shape({kantor:S.e().required("Kantor lama harus diisi!"),jabatan:S.e().required("Jabatan lama harus diisi!"),tgl_masuk:S.e().required("Tgl. masuk harus diisi!"),tgl_keluar:S.e().required("Tgl. keluar harus diisi!"),keterangan:S.e().required("Keterangan harus diisi!")}),v=function(e){!function(e,a,n,t,i,c,l,s){t(!0),M.a.put("admin/pegawai/".concat(e,"/riwayat-kerja/").concat(a),n).then((function(a){t(!1),je(e,l,s),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,e,p,k,f,s.setData,s.setLoadingRiwayatKerja)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:x,validationSchema:_,enableReinitialize:!0,onSubmit:function(e){return v(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,s=e.handleBlur,r=e.handleSubmit;return Object(j.jsx)(oe,{values:a,errors:n,touched:t,handleSubmit:r,handleChange:i,handleBlur:s,modal:c,setModal:l,loading:O})}})})},ge=v()(f.a),Oe=function(e){var a=e.id,n=e.dataActive,r=Object(i.useState)(!1),d=Object(t.a)(r,2),o=d[0],u=d[1],h=Object(i.useState)({modal:!1,id:null}),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)(null),k=Object(t.a)(p,2),f=k[0],_=k[1],v=Object(i.useState)(!1),D=Object(t.a)(v,2),S=D[0],B=D[1];Object(i.useEffect)((function(){f||"riwayat-kerja"===n&&je(a,_,B)}),[a,n,f]);var K=[{name:"Kantor Lama",selector:"kantor",wrap:!0,sortable:!0},{name:"Jabatan Lama",selector:"jabatan",wrap:!0,sortable:!0},{name:"Tgl. Masuk Kerja",selector:"tgl_masuk",wrap:!0,sortable:!0,cell:function(e){return Object(s.a)(new Date(e.tgl_masuk),"dd/MM/y")}},{name:"Tgl. Keluar Kerja",selector:"tgl_keluar",wrap:!0,sortable:!0,cell:function(e){return Object(s.a)(new Date(e.tgl_keluar),"dd/MM/y")}},{name:"Aksi",selector:"aksi",wrap:!0,maxWidth:"150px",cell:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"success",className:"btn btn-sm",onClick:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,id:e.id_riwayat_kerja}))},children:Object(j.jsx)(y.a,{content:w.a,color:"white"})}),Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return T(a,e.id_riwayat_kerja)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],T=function(e,a){ge.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/riwayat-kerja/").concat(a)).then((function(a){je(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,_),ge.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){je(e,_,B)})))}))},P=function(e){var a=e.data;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{padding:"10px 63px"},children:Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"2",children:Object(j.jsx)("strong",{children:"Keterangan"})}),Object(j.jsx)(c.m,{children:a.keterangan})]})})})};return Object(j.jsxs)(j.Fragment,{children:[!S&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"my-3",children:[Object(j.jsxs)("div",{className:"button-control mb-2",children:[Object(j.jsx)(c.f,{color:"primary",className:"btn btn-md",onClick:function(){return u(!o)},children:"Tambah Data"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",onClick:function(){return E(a,"riwayat-kerja")},children:["Cetak ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(J.a)("laporan-pegawai/"+a+"/riwayat-kerja")},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]}),Object(j.jsx)(x.a,{columns:K,data:f||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},expandableRows:!0,expandOnRowClicked:!0,highlightOnHover:!0,expandableRowsComponent:Object(j.jsx)(P,{})})]})}),S&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:o,onClose:function(){return u(!o)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(he,{id:a,modal:o,setModal:u,riwayatKerja:{setLoadingRiwayatKerja:B,data:f,setData:_}})]}),Object(j.jsxs)(c.M,{show:m.modal,onClose:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Data"})}),Object(j.jsx)(me,{idPegawai:a,idRiwayatKerja:m.id,modal:m.modal,setModal:g,riwayatKerja:{setLoadingRiwayatKerja:B,data:f,setData:_}})]})]})},pe=n(667),xe=function(e,a,n){n(!0),M.a.get("admin/pegawai/".concat(e,"/penghargaan")).then((function(e){a(e.data.data),n(!1)})).catch((function(e){n(!1)}))},ke=v()(f.a),fe=function(e){var a=e.id,n=e.modal,s=e.setModal,r=e.penghargaan,o=Object(d.g)(),u=Object(i.useState)(!1),h=Object(t.a)(u,2),b=h[0],m=h[1],g={nama_penghargaan:"",pemberi:"",tgl_penghargaan:"",dokumentasi:void 0},O=function(){ke.fire({icon:"success",title:"Tambah Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){s(!n),o.push("/epekerja/admin/pegawai-detail/".concat(a))}))},p=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ke.fire({icon:"error",title:"Tambah Data Gagal",text:a}).then((function(e){m(!1)}))},x=["image/jpg","image/jpeg","image/png","application/pdf"],k=S.c().shape({nama_penghargaan:S.e().required("Nama penghargaan harus diisi!"),pemberi:S.e().required("Pemberi penghargaan harus diisi!"),tgl_penghargaan:S.e().required("Tgl. penghargaan harus diisi!"),dokumentasi:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&x.includes(e.type)}))});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:g,validationSchema:k,onSubmit:function(e,n){var t=n.resetForm,i=new FormData;i.append("nama_penghargaan",e.nama_penghargaan),i.append("pemberi",e.pemberi),i.append("tgl_penghargaan",e.tgl_penghargaan),e.dokumentasi&&i.append("dokumentasi",e.dokumentasi);var c,l=Object(D.a)(i.entries());try{for(l.s();!(c=l.n()).done;){var s=c.value;console.log(s)}}catch(d){l.e(d)}finally{l.f()}!function(e,a,n,t,i,c,l){n(!0),M.a.post("admin/pegawai/".concat(e,"/penghargaan"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(a){n(!1),xe(e,l,c),t()})).catch((function(e){i(e.response.data.errors)}))}(a,i,m,O,p,r.setLoading,r.setData),t({})},children:function(e){var a=e.values,t=e.errors,i=e.touched,r=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Nama Penghargaan"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"text",id:"nama_penghargaan",placeholder:"Masukkan nama penghargaan",name:"nama_penghargaan",onChange:r,onBlur:d,value:a.nama_penghargaan,className:t.nama_penghargaan&&i.nama_penghargaan?"is-invalid":null}),t.nama_penghargaan&&i.nama_penghargaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.nama_penghargaan})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Pemberi"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"text",name:"pemberi",id:"pemberi",placeholder:"Masukkan nama pemberi penghargaan",onChange:r,onBlur:d,value:a.pemberi,className:t.pemberi&&i.pemberi?"is-invalid":null}),t.pemberi&&i.pemberi&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.pemberi})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Tgl. Penghargaan"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"date",name:"tgl_penghargaan",id:"tgl_penghargaan",placeholder:"Masukkan tgl. penghargaan",onChange:r,onBlur:d,value:a.tgl_penghargaan,className:t.tgl_penghargaan&&i.tgl_penghargaan?"is-invalid":null}),t.tgl_penghargaan&&i.tgl_penghargaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.tgl_penghargaan})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsxs)(c.K,{children:["File Dokumentasi Penghargaan ",Object(j.jsx)("br",{}),"(Jika Ada)"]})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"file",name:"dokumentasi",id:"dokumentasi",placeholder:"Masukkan file dokumentasi penghargaan",onChange:function(e){return u("dokumentasi",e.target.files[0])},onBlur:d,className:t.dokumentasi&&i.dokumentasi?"is-invalid":null}),t.dokumentasi&&i.dokumentasi&&Object(j.jsx)("div",{className:"invalid-feedback",children:t.dokumentasi}),Object(j.jsx)(c.y,{children:"File bisa berupa pdf, jpg, jpeg, atau png"})]})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!b,children:b?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return s(!n)},children:"Batal"})]})]})}})})},_e=function(e,a,n){M.a.get("admin/pegawai/".concat(e,"/penghargaan/").concat(a)).then((function(e){n(e.data.data)})).catch((function(e){}))},ve=v()(f.a),ye=function(e){var a=e.idPegawai,n=e.idPenghargaan,s=e.modal,r=e.setModal,o=e.penghargaan,u=Object(d.g)(),h=Object(i.useState)(null),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)(!1),x=Object(t.a)(p,2),k=x[0],f=x[1];Object(i.useEffect)((function(){return n&&a&&_e(a,n,g),function(){return g(null)}}),[a,n]);var _={nama_penghargaan:m?m.nama_penghargaan:"",pemberi:m?m.pemberi:"",tgl_penghargaan:m?m.tgl_penghargaan:"",dokumentasi:void 0},v=function(){ve.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){r(Object(O.a)(Object(O.a)({},s),{},{modal:!s.modal,id:null})),u.push("/epekerja/admin/pegawai-detail/".concat(a))}))},y=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ve.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){f(!1)}))},w=["image/jpg","image/jpeg","image/png","application/pdf"],N=S.c().shape({nama_penghargaan:S.e().required("Nama penghargaan harus diisi!"),pemberi:S.e().required("Pemberi penghargaan harus diisi!"),tgl_penghargaan:S.e().required("Tgl. penghargaan harus diisi!"),dokumentasi:S.a().test("size","Kapasitas file maksimal 2 mb",(function(e){return!e||e&&e.size<=2048e3})).test("type","Ekstensi yang diperbolehkan hanya jpg, jpeg, png dan pdf",(function(e){return!e||e&&w.includes(e.type)}))}),C=function(e){var t=new FormData;t.append("nama_penghargaan",e.nama_penghargaan),t.append("pemberi",e.pemberi),t.append("tgl_penghargaan",e.tgl_penghargaan),e.dokumentasi&&t.append("dokumentasi",e.dokumentasi);var i,c=Object(D.a)(t.entries());try{for(c.s();!(i=c.n()).done;){var l=i.value;console.log(l)}}catch(s){c.e(s)}finally{c.f()}!function(e,a,n,t,i,c,l,s){t(!0),M.a.post("admin/pegawai/".concat(e,"/penghargaan/").concat(a),n,{header:{"Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(a){t(!1),xe(e,s,l),i()})).catch((function(e){t(!1),c(e.response.data.errors)}))}(a,n,t,f,v,y,o.setLoading,o.setData)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{initialValues:_,enableReinitialize:!0,validationSchema:N,onSubmit:function(e){return C(e)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,d=e.handleBlur,o=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:o,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Nama Penghargaan"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"text",id:"nama_penghargaan",placeholder:"Masukkan nama penghargaan",name:"nama_penghargaan",onChange:i,onBlur:d,value:a.nama_penghargaan,className:n.nama_penghargaan&&t.nama_penghargaan?"is-invalid":null}),n.nama_penghargaan&&t.nama_penghargaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.nama_penghargaan})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Pemberi"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"text",name:"pemberi",id:"pemberi",placeholder:"Masukkan nama pemberi penghargaan",onChange:i,onBlur:d,value:a.pemberi,className:n.pemberi&&t.pemberi?"is-invalid":null}),n.pemberi&&t.pemberi&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.pemberi})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)(c.K,{children:"Tgl. Penghargaan"})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"date",name:"tgl_penghargaan",id:"tgl_penghargaan",placeholder:"Masukkan tgl. penghargaan",onChange:i,onBlur:d,value:a.tgl_penghargaan,className:n.tgl_penghargaan&&t.tgl_penghargaan?"is-invalid":null}),n.tgl_penghargaan&&t.tgl_penghargaan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tgl_penghargaan})]})]}),Object(j.jsxs)(c.x,{row:!0,children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsxs)(c.K,{children:["File Dokumentasi Penghargaan ",Object(j.jsx)("br",{}),"(Jika Ada)"]})}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.D,{type:"file",name:"dokumentasi",id:"dokumentasi",placeholder:"Masukkan file dokumentasi penghargaan",onChange:function(e){return u("dokumentasi",e.target.files[0])},onBlur:d,className:n.dokumentasi&&t.dokumentasi?"is-invalid":null}),n.dokumentasi&&t.dokumentasi&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.dokumentasi}),Object(j.jsx)(c.y,{children:"File bisa berupa pdf, jpg, jpeg, atau png"})]})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!k,children:k?Object(j.jsx)("img",{width:21,src:l.d,alt:"load-animation"}):"Simpan"})," ",Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return r(!s)},children:"Batal"})]})]})}})})},we=n(669),Ne=function(e){var a=e.idPegawai,n=e.idPenghargaan,c=Object(i.useState)(""),l=Object(t.a)(c,2),r=l[0],d=l[1];Object(i.useEffect)((function(){return a&&n&&_e(a,n,d),function(){return d("")}}),[a,n]);var o=function(e){var a=e.dokumentasi,n=a.split("/"),t=n[n.length-1],i=t.split("."),c=i[i.length-1];return Object(j.jsx)(j.Fragment,{children:["jpg","jpeg","png"].includes(c.toLowerCase())?Object(j.jsx)("img",{src:Object(we.a)(a),alt:"dokumentasi-penghargaan",style:{width:"100%"}}):Object(j.jsx)("a",{href:Object(we.a)(a),target:"_blank",rel:"noreferrer",children:t})})};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("table",{className:"table table-striped table-borderless",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nama Penghargaan"}),Object(j.jsx)("td",{children:r?r.nama_penghargaan:"Loading..."})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Pemberi"}),Object(j.jsx)("td",{children:r?r.pemberi:"Loading..."})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Tgl. Penghargaan"}),Object(j.jsx)("td",{children:r?Object(s.a)(new Date(r.tgl_penghargaan),"dd/MM/y"):"Loading..."})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Dokumentasi"}),Object(j.jsx)("td",{children:r?Object(j.jsx)(o,{dokumentasi:r.dokumentasi}):"Loading..."})]})]})})})},Ce=v()(f.a),De=function(e){var a=e.id,n=e.dataActive,r=Object(i.useState)(!1),d=Object(t.a)(r,2),o=d[0],u=d[1],h=Object(i.useState)({modal:!1,id:null}),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)({modal:!1,id:null}),k=Object(t.a)(p,2),f=k[0],_=k[1],v=Object(i.useState)({modal:!1,image:null}),D=Object(t.a)(v,2),S=D[0],B=D[1],K=Object(i.useState)(null),T=Object(t.a)(K,2),P=T[0],F=T[1],z=Object(i.useState)(!1),A=Object(t.a)(z,2),q=A[0],L=A[1];Object(i.useEffect)((function(){P||"penghargaan"===n&&a&&xe(a,F,L)}),[a,n,P]);var R=[{name:"Nama Penghargaan",selector:"nama_penghargaan",sortable:!0,wrap:!0},{name:"Pemberi",selector:"pemberi",sortable:!0,wrap:!0},{name:"Tgl. Penghargaan",selector:"tgl_penghargaan",sortable:!0,wrap:!0,cell:function(e){return Object(s.a)(new Date(e.tgl_penghargaan),"dd/MM/y")}},{maxWidth:"150px",name:"Action",sortable:!0,cell:function(e){return Object(j.jsx)("div",{"data-tag":"allowRowEvents",children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"info",className:"btn btn-sm",onClick:function(){return _(Object(O.a)(Object(O.a)({},f),{},{modal:!f.modal,id:e.id_penghargaan}))},children:Object(j.jsx)(y.a,{content:pe.a,color:"white"})}),Object(j.jsx)(c.f,{color:"success",className:"btn btn-sm",onClick:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,id:e.id_penghargaan}))},children:Object(j.jsx)(y.a,{content:w.a,color:"white"})}),Object(j.jsx)(c.f,{color:"danger",className:"btn btn-sm",onClick:function(){return I(a,e.id_penghargaan)},children:Object(j.jsx)(y.a,{content:N.a,color:"white"})})]})})}}],I=function(e,a){Ce.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,a,n,t){M.a.delete("admin/pegawai/".concat(e,"/penghargaan/").concat(a)).then((function(a){xe(e,n,t),console.log(a.data)})).catch((function(e){}))}(e,a,F),Ce.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}).then((function(a){xe(e,F,L)})))}))},W=function(e){var a=e.data,n=a.dokumentasi.split("/"),t=n[n.length-1],i=t.split("."),l=i[i.length-1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{padding:"10px 63px"},children:Object(j.jsxs)(c.W,{className:"mb-1",children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)("strong",{children:"Dokumentasi"})}),Object(j.jsx)(c.m,{children:["jpg","jpeg","png"].includes(l.toLowerCase())?Object(j.jsx)("img",{width:200,src:Object(we.a)(a.dokumentasi),alt:"dokumentasi-penghargaan",onClick:function(){return e=a.dokumentasi,void B(Object(O.a)(Object(O.a)({},S),{},{modal:!S.modal,image:e}));var e},style:{cursor:"pointer"}}):Object(j.jsx)("a",{href:Object(we.a)(a.dokumentasi),target:"_blank",rel:"noreferrer",children:t})})]})})})};return Object(j.jsxs)(j.Fragment,{children:[!q&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"button-control mb-2 mt-4",children:[Object(j.jsx)(c.f,{color:"primary",className:"btn btn-md",onClick:function(){return u(!o)},children:"Tambah Penghargaan"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",onClick:function(){return E(a,"penghargaan")},children:["Cetak ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",className:"ml-2",color:"success",onClick:function(){return Object(J.a)("laporan-pegawai/"+a+"/penghargaan")},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]}),Object(j.jsx)(x.a,{columns:R,data:P||[],noHeader:!0,responsive:!0,customStyles:{headCells:{style:{fontSize:"1.15em"}}},pagination:!0,expandableRows:!0,expandableRowsComponent:Object(j.jsx)(W,{}),expandOnRowClicked:!0,highlightOnHover:!0})]}),q&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(c.W,{children:Object(j.jsx)(c.m,{className:"text-center",children:Object(j.jsx)("img",{className:"mt-4 ml-3",width:30,src:l.c,alt:"load-animation"})})})})}),Object(j.jsxs)(c.M,{show:o,onClose:function(){return u(!o)},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Data"})}),Object(j.jsx)(fe,{id:a,modal:o,setModal:u,penghargaan:{setLoading:L,data:P,setData:F}})]}),Object(j.jsxs)(c.M,{show:m.modal,onClose:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!m.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Data"})}),Object(j.jsx)(ye,{idPegawai:a,idPenghargaan:m.id,modal:m,setModal:g,penghargaan:{setLoading:L,data:P,setData:F}})]}),Object(j.jsxs)(c.M,{show:f.modal,onClose:function(){return _(Object(O.a)(Object(O.a)({},f),{},{modal:!f.modal,id:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Detail Penghargaan"})}),Object(j.jsxs)(c.w,{children:[Object(j.jsx)(c.N,{children:Object(j.jsx)(Ne,{idPegawai:a,idPenghargaan:f.id})}),Object(j.jsx)(c.O,{children:Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return _(!f.modal)},children:"Batal"})})]})]}),Object(j.jsxs)(c.M,{show:S.modal,onClose:function(){return B(Object(O.a)(Object(O.a)({},S),{},{modal:!S.modal,image:null}))},size:"lg",children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Preview"})}),Object(j.jsx)(c.N,{children:S.image&&Object(j.jsx)("img",{style:{width:"100%"},src:Object(we.a)(S.image),alt:"dokumentasi-penghargaan"})})]})]})},Se=n(651),Be=n(691),Ke=n(649),Me=n(662),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id_golongan:e?e.id_golongan:"",keterangan:e?e.keterangan:"",golongan:e?e.golongan:"",jenis_kp:e?e.jenis_kp:"",no_sk:e?e.no_sk:"",tanggal:e?e.tanggal:"",mk_tahun:e?parseInt(e.mk_tahun):"",mk_bulan:e?parseInt(e.mk_bulan):"",pejabat_penetap:e?e.pejabat_penetap:"",pangkat_terkini:e?e.pangkat_terkini:"",tmt_kenaikan_pangkat:e?e.tmt_kenaikan_pangkat:"",file:void 0}},Pe=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Fe=S.c().shape({jenis_kp:S.e().required("Jenis kenaikan pangkat harus diisi"),no_sk:S.e().required("No. SK harus diisi"),tanggal:S.e().required("Tanggal kenaikan pangkat harus diisi"),tmt_kenaikan_pangkat:S.e().required("TMT. Kenaikan pangkat harus diisi"),pejabat_penetap:S.e().required("Pejabata penetap harus diisi"),mk_tahun:S.e().required("Tahun harus diisi"),mk_bulan:S.e().required("Bulan harus diisi"),file:S.a().test("size","Kapasitas file maksimal 5 mb",(function(e){return!e||e&&e.size<=5048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, doc, dan docx",(function(e){return!e||e&&Pe.includes(e.type)}))}),ze=v()(f.a),Ae=function(e){var a=e.modalEdit,n=e.setModalEdit,l=e.setLoadingGolongan,s=e.setDataGolongan,r=Object(i.useState)(""),d=Object(t.a)(r,2),o=d[0],u=d[1],h=Object(i.useState)(""),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)(""),x=Object(t.a)(p,2),k=x[0],f=x[1],_=Object(i.useState)(!1),v=Object(t.a)(_,2),y=v[0],w=v[1],N=Object(i.useState)(!1),C=Object(t.a)(N,2),S=C[0],K=C[1];console.log(y),Object(i.useEffect)((function(){a.id&&Object(Be.d)(a.id,f,w)}),[a]);var M=Object(i.useCallback)((function(){if(m){var e=m.name;u(e)}else u(a.data?Object(Ke.a)(a.data.file):"")}),[m,a]);Object(i.useEffect)((function(){M()}),[M]),Object(i.useEffect)((function(){a.id&&(a.data.mk_tahun=T(a.data.masa_kerja).tahun,a.data.mk_bulan=T(a.data.masa_kerja).bulan,a.data.file=k.file,console.log(a.data))}),[a,k]);var T=function(e){var a=e.split(" ");return{tahun:a[0],bulan:a[2]}},P=function(){ze.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(Object(O.a)(Object(O.a)({},a),{},{id:"",modal:!1,data:""}))}))},F=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");ze.fire({icon:"error",title:"Edit Data Gagal",text:a}).then((function(e){w(!1)}))},z=Object(i.memo)((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("input",{type:"checkbox",name:"pangkat_terkini",checked:1===a.pangkat_terkini||"on"===a.pangkat_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(j.jsxs)(c.M,{show:a.modal,onClose:function(){return n(Object(O.a)(Object(O.a)({},a),{},{modal:!1,id:"",data:""}))},children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Edit Golongan"})}),Object(j.jsx)(B.a,{initialValues:Te(a.data),validationSchema:Fe,enableReinitialize:!0,onSubmit:function(e){var a=new FormData,n="".concat(e.mk_tahun," Tahun ").concat(e.mk_bulan," Bulan"),t=1===e.pangkat_terkini||"on"===e.pangkat_terkini[0]?1:0;a.append("id_golongan",e.id_golongan),a.append("jenis_kp",e.jenis_kp),a.append("no_sk",e.no_sk),a.append("tanggal",e.tanggal),a.append("masa_kerja",n),a.append("pejabat_penetap",e.pejabat_penetap),a.append("pangkat_terkini",t),a.append("tmt_kenaikan_pangkat",e.tmt_kenaikan_pangkat),e.file&&a.append("file",e.file);var i,c=Object(D.a)(a.entries());try{for(c.s();!(i=c.n()).done;){var r=i.value;console.log(r)}}catch(d){c.e(d)}finally{c.f()}Object(Be.b)(k.id_pegawai,k.id_rw_golongan,a,K,P,F,l,s)},children:function(e){var t=e.values,i=e.errors,l=e.touched,s=e.handleChange,r=e.handleBlur,d=e.handleSubmit,u=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:d,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Jenis Kenaikan Pangkat"}),Object(j.jsx)(c.D,{readOnly:!0,type:"text",value:t.jenis_kp})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Golongan"}),Object(j.jsx)(c.D,{readOnly:!0,type:"text",value:"".concat(t.keterangan," (").concat(t.golongan,")")})]}),Object(j.jsx)(c.x,{children:Object(j.jsxs)(c.W,{children:[Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"No. SK"}),Object(j.jsx)(c.D,{type:"text",name:"no_sk",onChange:s,onBlur:r,value:t.no_sk,className:i.no_sk&&l.no_sk?"is-invalid":null}),i.no_sk&&l.no_sk&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.no_sk})]}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"Tgl. Kenaikan Pangkat"}),Object(j.jsx)(c.D,{type:"date",name:"tanggal",onChange:s,onBlur:r,value:t.tanggal,className:i.tanggal&&l.tanggal?"is-invalid":null}),i.tanggal&&l.tanggal&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.tanggal})]})]})}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"TMT. Kenaikan Pangkat"}),Object(j.jsx)(c.D,{type:"date",name:"tmt_kenaikan_pangkat",onChange:s,onBlur:r,value:t.tmt_kenaikan_pangkat,className:i.tmt_kenaikan_pangkat&&l.tmt_kenaikan_pangkat?"is-invalid":null}),i.tmt_kenaikan_pangkat&&l.tmt_kenaikan_pangkat&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.tmt_kenaikan_pangkat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Pejabat Penetap"}),Object(j.jsx)(c.D,{type:"text",name:"pejabat_penetap",onChange:s,onBlur:r,value:t.pejabat_penetap,className:i.pejabat_penetap&&l.pejabat_penetap?"is-invalid":null}),i.pejabat_penetap&&l.pejabat_penetap&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.pejabat_penetap})]}),Object(j.jsx)(c.x,{children:Object(j.jsxs)(c.W,{children:[Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"Masa Kerja Golongan"}),Object(j.jsx)(c.D,{type:"number",name:"mk_tahun",min:"0",onChange:s,onBlur:r,value:t.mk_tahun,placeholder:"Tahun",className:i.mk_tahun&&l.mk_tahun?"is-invalid":null}),Object(j.jsx)(c.y,{children:"Tahun"}),i.mk_tahun&&l.mk_tahun&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.mk_tahun})]}),Object(j.jsxs)(c.m,{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start"},children:[Object(j.jsx)(c.D,{type:"number",name:"mk_bulan",min:"0",onChange:s,onBlur:r,value:t.mk_bulan,placeholder:"Bulan",className:i.mk_bulan&&l.mk_bulan?"is-invalid":null}),Object(j.jsx)(c.y,{children:"Bulan"}),i.mk_bulan&&l.mk_bulan&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.mk_bulan})]})]})}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Pangkat Terkini"}),Object(j.jsx)(z,{values:t,handleChange:s,handleBlur:r}),Object(j.jsx)(c.y,{children:"Cek apabila merupakan pangkat Anda saat ini"}),i.pejabat_penetap&&l.pejabat_penetap&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.pejabat_penetap})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"File"}),Object(j.jsx)(c.D,{type:"file",name:"file",onChange:function(e){u("file",e.target.files[0]),function(e){e.target.files&&0!==e.target.files.length?g(e.target.files[0]):g(void 0)}(e)},onBlur:r,className:i.file&&l.file?"is-invalid":null}),Object(j.jsx)(c.y,{children:o}),i.file&&l.file&&Object(j.jsx)("div",{className:"invalid-feedback",children:i.file})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!S,children:S?Object(j.jsx)(Me.a,{}):"Simpan"}),Object(j.jsx)(c.f,{type:"button",color:"secondary",onClick:function(){return n(Object(O.a)(Object(O.a)({},a),{},{modal:!1,id:"",data:""}))},children:"Batal"})]})]})}})]})},Ee=n(670),qe=n(657),Je=n(677),Le=v()(f.a),Re=function(e){var a=e.idPegawai,n=e.modal,l=e.setModal,s=e.setDataGolongan,r=e.setLoadingGolongan,d=Object(i.useState)(!1),o=Object(t.a)(d,2),u=o[0],h=o[1],b=Object(i.useState)([]),m=Object(t.a)(b,2),g=m[0],O=m[1];Object(i.useEffect)((function(){n&&(Object(Je.a)(O),console.log(a))}),[n,a]);var p={jenis_kp:"",no_sk:"",tanggal:"",mk_tahun:"",mk_bulan:"",pejabat_penetap:"",pangkat_terkini:"",tmt_kenaikan_pangkat:"",file:void 0},x=function(){Le.fire({icon:"success",title:"Tambah Kenaikan Pangkat Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){l(!1)}))},k=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");Le.fire({icon:"error",title:"Tambah Kenaikan Pangkat Gagal",text:a}).then((function(e){h(!1)}))},f=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],_=S.c().shape({jenis_kp:S.e().required("Jenis kenaikan pangkat harus diisi"),pangkat_baru:S.e().required("Pangkat golongan harus diisi"),no_sk:S.e().required("No. SK harus diisi"),tanggal:S.e().required("Tanggal kenaikan pangkat harus diisi"),tmt_kenaikan_pangkat:S.e().required("TMT. Kenaikan pangkat harus diisi"),pejabat_penetap:S.e().required("Pejabata penetap harus diisi"),mk_tahun:S.e().required("Tahun harus diisi"),mk_bulan:S.e().required("Bulan harus diisi"),file:S.a().test("size","Kapasitas file maksimal 5 mb",(function(e){return!e||e&&e.size<=5048e3})).test("type","Ekstensi yang diperbolehkan hanya pdf, doc, dan docx",(function(e){return!e||e&&f.includes(e.type)}))}),v=Object(i.memo)((function(e){var a=e.values,n=e.handleChange,t=e.handleBlur;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("input",{type:"checkbox",name:"pangkat_terkini",checked:1===a.pangkat_terkini||"on"===a.pangkat_terkini[0],className:"ml-2",onChange:n,onBlur:t})})}));return Object(j.jsxs)(c.M,{show:n,onClose:function(){return l(!1)},children:[Object(j.jsx)(c.P,{closeButton:!0,children:Object(j.jsx)(c.Q,{children:"Tambah Golongan"})}),Object(j.jsx)(B.a,{initialValues:p,validationSchema:_,onSubmit:function(e){var n=new FormData,t=e.pangkat_baru.split("-"),i=t[0],c=t[1],l=e.mk_tahun+" Tahun "+e.mk_bulan+" Bulan",d="on"===e.pangkat_terkini[0]?1:0;n.append("id_golongan",i),n.append("pangkat_baru",c),n.append("jenis_kp",e.jenis_kp),n.append("no_sk",e.no_sk),n.append("tanggal",e.tanggal),n.append("tmt_kenaikan_pangkat",e.tmt_kenaikan_pangkat),n.append("pejabat_penetap",e.pejabat_penetap),n.append("pangkat_terkini",d),n.append("masa_kerja",l),e.file&&n.append("file",e.file);var j,o=Object(D.a)(n.entries());try{for(o.s();!(j=o.n()).done;){var u=j.value;console.log(u)}}catch(b){o.e(b)}finally{o.f()}Object(Be.e)(a,n,h,x,k,r,s)},children:function(e){var a=e.values,n=e.errors,t=e.touched,i=e.handleChange,s=e.handleBlur,r=e.handleSubmit,d=e.setFieldValue;return Object(j.jsxs)(c.w,{onSubmit:r,children:[Object(j.jsxs)(c.N,{children:[Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Jenis Kenaikan Pangkat"}),Object(j.jsxs)(c.X,{name:"jenis_kp",onChange:i,onBlur:s,className:n.jenis_kp&&t.jenis_kp?"is-invalid":null,children:[Object(j.jsx)("option",{value:a.jenis_kp,children:"-- Pilih Jenis Kenaikan Pangkat --"}),Object(j.jsx)("option",{value:"Reguler",children:"Reguler"}),Object(j.jsx)("option",{value:"Jabatan Struktural",children:"Jabatan Struktural"}),Object(j.jsx)("option",{value:"Jabatan Fungsional",children:"Jabatan Fungsional"}),Object(j.jsx)("option",{value:"Penyesuaian Ijazah",children:"Penyesuaian Ijazah"})]}),n.jenis_kp&&t.jenis_kp&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.jenis_kp})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Pangkat / Golongan Baru"}),Object(j.jsxs)(c.X,{name:"pangkat_baru",onChange:i,onBlur:s,className:n.pangkat_baru&&t.pangkat_baru?"is-invalid":null,children:[Object(j.jsx)("option",{value:a.pangkat_baru,children:"-- Pilih Pangkat --"}),g.map((function(e,a){return Object(j.jsxs)("option",{value:"".concat(e.id_pangkat_golongan,"-").concat(e.keterangan," (").concat(e.golongan,")"),children:[e.keterangan," (",e.golongan,")"]},a)}))]}),n.pangkat_baru&&t.pangkat_baru&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.pangkat_baru})]}),Object(j.jsx)(c.x,{children:Object(j.jsxs)(c.W,{children:[Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"No. SK"}),Object(j.jsx)(c.D,{type:"text",name:"no_sk",onChange:i,onBlur:s,className:n.no_sk&&t.no_sk?"is-invalid":null}),n.no_sk&&t.no_sk&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.no_sk})]}),Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"Tgl. Kenaikan Pangkat"}),Object(j.jsx)(c.D,{type:"date",name:"tanggal",onChange:i,onBlur:s,className:n.tanggal&&t.tanggal?"is-invalid":null}),n.tanggal&&t.tanggal&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tanggal})]})]})}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"TMT. Kenaikan Pangkat"}),Object(j.jsx)(c.D,{type:"date",name:"tmt_kenaikan_pangkat",onChange:i,onBlur:s,className:n.tmt_kenaikan_pangkat&&t.tmt_kenaikan_pangkat?"is-invalid":null}),n.tmt_kenaikan_pangkat&&t.tmt_kenaikan_pangkat&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.tmt_kenaikan_pangkat})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Pejabat Penetap"}),Object(j.jsx)(c.D,{type:"text",name:"pejabat_penetap",onChange:i,onBlur:s,className:n.pejabat_penetap&&t.pejabat_penetap?"is-invalid":null}),n.pejabat_penetap&&t.pejabat_penetap&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.pejabat_penetap})]}),Object(j.jsx)(c.x,{children:Object(j.jsxs)(c.W,{children:[Object(j.jsxs)(c.m,{children:[Object(j.jsx)(c.K,{children:"Masa Kerja Golongan"}),Object(j.jsx)(c.D,{type:"number",name:"mk_tahun",min:"0",onChange:i,onBlur:s,placeholder:"Tahun",className:n.mk_tahun&&t.mk_tahun?"is-invalid":null}),Object(j.jsx)(c.y,{children:"Tahun"}),n.mk_tahun&&t.mk_tahun&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.mk_tahun})]}),Object(j.jsxs)(c.m,{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start"},children:[Object(j.jsx)(c.D,{type:"number",name:"mk_bulan",min:"0",onChange:i,onBlur:s,placeholder:"Bulan",className:n.mk_bulan&&t.mk_bulan?"is-invalid":null}),Object(j.jsx)(c.y,{children:"Bulan"}),n.mk_bulan&&t.mk_bulan&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.mk_bulan})]})]})}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"Pangkat Terkini"}),Object(j.jsx)(v,{values:a,handleChange:i,handleBlur:s}),Object(j.jsx)(c.y,{children:"Cek apabila merupakan pangkat Anda saat ini"}),n.pejabat_penetap&&t.pejabat_penetap&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.pejabat_penetap})]}),Object(j.jsxs)(c.x,{children:[Object(j.jsx)(c.K,{children:"File"}),Object(j.jsx)(c.D,{type:"file",name:"file",onChange:function(e){return d("file",e.target.files[0])},onBlur:s,className:n.file&&t.file?"is-invalid":null}),n.file&&t.file&&Object(j.jsx)("div",{className:"invalid-feedback",children:n.file})]})]}),Object(j.jsxs)(c.O,{children:[Object(j.jsx)(c.f,{type:"submit",color:"primary",disabled:!!u,children:u?Object(j.jsx)(Me.a,{}):"Simpan"}),Object(j.jsx)(c.f,{color:"secondary",onClick:function(){return l(!1)},children:"Close"})]})]})}})]})},Ie=v()(f.a),We=function(e){var a=e.id,n=e.dataActive,l=Object(i.useState)(!1),d=Object(t.a)(l,2),o=d[0],u=d[1],h=Object(i.useState)({modal:!1,id:null}),b=Object(t.a)(h,2),m=b[0],g=b[1],p=Object(i.useState)(null),k=Object(t.a)(p,2),f=k[0],_=k[1],v=Object(i.useState)(!1),D=Object(t.a)(v,2),S=D[0],B=D[1];console.log(S),Object(i.useEffect)((function(){f||"riwayat-golongan"===n&&Object(Be.c)(a,_,B)}),[a,n,f]);var K=[{name:"No",selector:function(e){return e.no},sortable:!0,wrap:!0,width:"80px"},{name:"Golongan",wrap:!0,cell:function(e){return Object(j.jsxs)("div",{children:[e.keterangan," (",e.golongan,")"]})}},{name:"No. SK",selector:function(e){return e.no_sk},wrap:!0},{name:"Masa Kerja",selector:function(e){return e.masa_kerja},wrap:!0},{name:"TMT",selector:function(e){return e.tmt_kenaikan_pangkat},wrap:!0,cell:function(e){return Object(j.jsx)("div",{children:Object(s.a)(new Date(e.tmt_kenaikan_pangkat),"dd/MM/y")})}},{name:"Status",selector:function(e){return e.pangkat_terkini},sortable:!0,wrap:!0,cell:function(e){return Object(j.jsx)("div",{children:1===e.pangkat_terkini?Object(j.jsx)(c.b,{className:"p-1",color:"success",children:"Pangkat Terkini"}):""})}},{name:"Aksi",sortable:!0,wrap:!0,cell:function(e){return Object(j.jsx)("div",{"data-tag":"allowRowEvents",children:Object(j.jsxs)(c.g,{children:[Object(j.jsx)(c.f,{color:"info",size:"sm",onClick:function(){return g(Object(O.a)(Object(O.a)({},m),{},{modal:!0,id:e.id_rw_golongan,data:e}))},children:Object(j.jsx)(y.a,{content:w.a})}),Object(j.jsx)(c.f,{color:"danger",size:"sm",onClick:function(){return T(e.id_rw_golongan)},disabled:1===e.pangkat_terkini,children:Object(j.jsx)(y.a,{content:N.a})})]})})}}],M=function(e){var a=e.data;return Object(j.jsxs)("div",{style:{padding:"10px 63px"},children:[Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)("strong",{children:"Jenis KP"})}),Object(j.jsx)(c.m,{children:a.jenis_kp})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)("strong",{children:"Pejabat Penetap"})}),Object(j.jsx)(c.m,{children:a.pejabat_penetap})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)("strong",{children:"Tanggal KP"})}),Object(j.jsx)(c.m,{children:Object(s.a)(new Date(a.tanggal),"dd/MM/y")})]}),Object(j.jsxs)(c.W,{children:[Object(j.jsx)(c.m,{md:"3",children:Object(j.jsx)("strong",{children:"File"})}),Object(j.jsx)(c.m,{children:a.file?Object(j.jsx)("a",{href:Object(r.b)(a.file),target:"_blank",rel:"noreferrer",children:Object(Ke.a)(a.file)}):"Belum ada file"})]})]})},T=function(e){Ie.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&Object(Be.a)(a,e,_,B,Ie)}))},P=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(j.jsx)(c.f,{color:"primary",onClick:function(){return u(!0)},children:"Tambah Golongan"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(c.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return Object(r.e)(a)},children:["PDF ",Object(j.jsx)(y.a,{content:C.a})]}),Object(j.jsxs)(c.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(r.a)("riwayat-golongan/"+a)},children:["Excel ",Object(j.jsx)(y.a,{content:C.a})]})]})]})})};return Object(j.jsxs)("div",{className:"mt-2",children:[f?Object(j.jsx)(x.a,{columns:K,data:f.data,noHeader:!0,responsive:!0,customStyles:Ee.a,pagination:!0,subHeader:!0,subHeaderComponent:Object(j.jsx)(P,{}),expandableRows:!0,expandOnRowClicked:!0,expandableRowsComponent:Object(j.jsx)(M,{}),highlightOnHover:!0}):Object(j.jsx)(qe.a,{}),Object(j.jsx)(Re,{idPegawai:a,modal:o,setModal:u,setDataGolongan:_,setLoadingGolongan:B}),Object(j.jsx)(Ae,{modalEdit:m,setModalEdit:g,setLoadingGolongan:B,setDataGolongan:_})]})};a.default=function(e){var a=e.match.params,n=Object(d.g)(),l=Object(i.useState)(null),s=Object(t.a)(l,2),r=s[0],o=s[1],u=Object(i.useState)("data-diri"),h=Object(t.a)(u,2),b=h[0],m=h[1];Object(i.useEffect)((function(){Object(Se.a)(a.id,o)}),[a]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.h,{children:[Object(j.jsxs)(c.l,{className:"d-flex justify-content-between",children:[Object(j.jsxs)("h3",{children:["Detail Pegawai :"," ",Object(j.jsx)("span",{className:"font-weight-normal",children:r?r.nama:"loading..."})]}),Object(j.jsx)(c.f,{color:"warning",className:"text-white",onClick:function(){1===r.id_status_pegawai?n.push("/epekerja/admin/pegawai"):2===r.id_status_pegawai?n.push("/epekerja/admin/pegawai/ptth"):3===r.id_status_pegawai&&n.push("/epekerja/admin/pegawai/pttb")},children:"Kembali"})]}),Object(j.jsx)(c.i,{children:Object(j.jsxs)(c.jb,{activeTab:"data-diri",onActiveTabChange:function(e){return m(e)},children:[Object(j.jsxs)(c.R,{variant:"tabs",children:[Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"data-diri",children:"Data Diri"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"keluarga",children:"Keluarga"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"pendidikan",children:"Pendidikan"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"diklat",children:"Diklat / Pelatihan"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"riwayat-kerja",children:"Riwayat Kerja"})}),r&&1===r.id_status_pegawai&&Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"riwayat-golongan",children:"Golongan"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"penghargaan",children:"Penghargaan"})}),Object(j.jsx)(c.S,{children:Object(j.jsx)(c.T,{"data-tab":"berkas",children:"Berkas"})})]}),Object(j.jsxs)(c.hb,{children:[Object(j.jsx)(c.ib,{"data-tab":"data-diri",children:Object(j.jsx)(g,{data:r})}),Object(j.jsx)(c.ib,{"data-tab":"keluarga",children:Object(j.jsx)(R,{id:a.id,dataActive:b})}),Object(j.jsx)(c.ib,{"data-tab":"pendidikan",children:Object(j.jsx)(Q,{id:a.id,dataActive:b})}),Object(j.jsx)(c.ib,{"data-tab":"diklat",children:Object(j.jsx)(te,{id:a.id,dataActive:b})}),Object(j.jsx)(c.ib,{"data-tab":"riwayat-kerja",children:Object(j.jsx)(Oe,{id:a.id,dataActive:b})}),r&&1===r.id_status_pegawai&&Object(j.jsx)(c.ib,{"data-tab":"riwayat-golongan",children:Object(j.jsx)(We,{id:a.id,dataActive:b})}),Object(j.jsx)(c.ib,{"data-tab":"penghargaan",children:Object(j.jsx)(De,{id:a.id,dataActive:b})}),Object(j.jsx)(c.ib,{"data-tab":"berkas",children:Object(j.jsx)(de,{id:a.id,dataActive:b})})]})]})})]})})}}}]);
//# sourceMappingURL=13.2228fd42.chunk.js.map