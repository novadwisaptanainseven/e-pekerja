(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[87],{804:function(e,a,n){"use strict";n.r(a);var i=n(638),t=n(9),l=n(1),c=n(631),s=n.n(c),r=n(632),u=n.n(r),d=n(635),j=n(634),o=n(629),h=n(627),b=n(20),g=n(749),m=n(626),O=n(17),x=u()(s.a);a.default=function(e){var a=e.modalTambah,n=e.setModalTambah,c=e.id_pegawai,s=Object(b.g)(),r=Object(l.useState)(!1),u=Object(t.a)(r,2),p=u[0],_=u[1],v=function(){x.fire({icon:"success",title:"Pembuatan Cuti Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){n(!a),s.push("/epekerja/admin/cuti/riwayat/".concat(c))}))},f=function(e){var a="";for(var n in e)a+="".concat(e[n],", ");x.fire({icon:"error",title:"Pembuatan Cuti Gagal",text:a}).then((function(e){_(!1)}))},k=d.c().shape({jenis_cuti:d.e().required("Jenis cuti harus dipilih!"),tgl_mulai:d.e().required("Tanggal mulai cuti harus diisi!"),tgl_selesai:d.e().required("Tanggal selesai cuti harus diisi!"),keterangan:d.e().required("Keterangan/alasan cuti harus diisi!")}),y=function(e){var a=new FormData;for(var n in e)a.append(n,e[n]);var t,l=Object(i.a)(a.entries());try{for(l.s();!(t=l.n()).done;){var s=t.value;console.log(s)}}catch(r){l.e(r)}finally{l.f()}!function(e,a,n,i,t){n(!0),m.a.post("admin/pegawai/".concat(e,"/cuti"),a,{header:{"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){console.log(e.data),n(!1),i()})).catch((function(e){console.log(e.response.data),t(e.response.data.errors)}))}(c,a,_,v,f)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(j.a,{initialValues:{tgl_mulai:"",tgl_selesai:"",jenis_cuti:"",keterangan:""},validationSchema:k,onSubmit:function(e){return y(e)},children:function(e){var i=e.values,t=e.errors,l=e.touched,c=e.handleChange,s=e.handleBlur,r=e.handleSubmit;return Object(O.jsxs)(h.x,{onSubmit:r,children:[Object(O.jsxs)(h.O,{children:[Object(O.jsxs)(h.y,{row:!0,children:[Object(O.jsx)(h.n,{md:"3",children:Object(O.jsx)(h.L,{children:"Jenis Cuti"})}),Object(O.jsxs)(h.n,{children:[Object(O.jsxs)(h.Y,{name:"jenis_cuti",value:i.jenis_cuti,onChange:c,onBlur:s,className:t.jenis_cuti&&l.jenis_cuti?"is-invalid":null,children:[Object(O.jsx)("option",{value:"",children:"-- Jenis Cuti --"}),Object(O.jsx)("option",{value:"Cuti Tahunan",children:"Cuti Tahunan"}),Object(O.jsx)("option",{value:"Cuti Bulanan",children:"Cuti Bulanan"}),Object(O.jsx)("option",{value:"Cuti Harian",children:"Cuti Harian"})]}),t.jenis_cuti&&l.jenis_cuti&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.jenis_cuti})]})]}),Object(O.jsxs)(h.y,{row:!0,children:[Object(O.jsx)(h.n,{md:"3",children:Object(O.jsx)(h.L,{children:"Tgl. Mulai"})}),Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.E,{type:"date",name:"tgl_mulai",id:"tgl_mulai",placeholder:"Masukkan tgl mulai cuti",min:Object(g.a)(new Date,"yyyy-MM-dd"),onChange:c,onBlur:s,value:i.tgl_mulai,className:t.tgl_mulai&&l.tgl_mulai?"is-invalid":null}),t.tgl_mulai&&l.tgl_mulai&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.tgl_mulai})]})]}),Object(O.jsxs)(h.y,{row:!0,children:[Object(O.jsx)(h.n,{md:"3",children:Object(O.jsx)(h.L,{children:"Tgl. Selesai"})}),Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.E,{type:"date",name:"tgl_selesai",id:"tgl_selesai",placeholder:"Masukkan tgl selesai cuti",min:i.tgl_mulai,onChange:c,onBlur:s,value:i.tgl_selesai,className:t.tgl_selesai&&l.tgl_selesai?"is-invalid":null}),Object(O.jsxs)(h.z,{children:[Object(O.jsx)("b",{children:"Format: "})," Bulan / Tanggal / Tahun"]}),t.tgl_selesai&&l.tgl_selesai&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.tgl_selesai})]})]}),Object(O.jsxs)(h.y,{row:!0,children:[Object(O.jsx)(h.n,{md:"3",children:Object(O.jsx)(h.L,{children:"Keterangan"})}),Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.E,{type:"text",name:"keterangan",id:"keterangan",placeholder:"Masukkan keterangan / alasan cuti",onBlur:s,value:i.keterangan,disabled:!i.tgl_mulai,onChange:c,className:t.keterangan&&l.keterangan?"is-invalid":null}),t.keterangan&&l.keterangan&&Object(O.jsx)("div",{className:"invalid-feedback",children:t.keterangan})]})]})]}),Object(O.jsxs)(h.P,{children:[Object(O.jsx)(h.f,{type:"submit",color:"primary",disabled:!!p,children:p?Object(O.jsx)("img",{width:21,src:o.e,alt:"load-animation"}):"Simpan"})," ",Object(O.jsx)(h.f,{type:"button",color:"secondary",onClick:function(){return n(!a)},children:"Batal"})]})]})}})})}}}]);
//# sourceMappingURL=87.3b571c50.chunk.js.map