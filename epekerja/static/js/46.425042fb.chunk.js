(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[46],{1054:function(e,a,t){"use strict";t.r(a);var n=t(9),i=t(628),c=t(1),s=t(20),r=t(662),l=t(636),u=t(635),d=t(632),o=t.n(d),j=t(633),m=t.n(j),h=t(739),b=t(626),g=t(657),x=t(17),O=m()(o.a);a.default=function(e){var a=e.match.params,t=Object(s.g)(),d=Object(c.useState)(!1),o=Object(n.a)(d,2),j=o[0],m=o[1],f=Object(c.useState)(""),p=Object(n.a)(f,2),k=p[0],v=p[1];Object(c.useEffect)((function(){Object(h.a)(a.id,v)}),[a]);var w={id_pegawai:k?k.id_pegawai:"",tgl_mutasi:k?k.tgl_mutasi:"",keterangan:k?k.keterangan:""},_=function(){O.fire({icon:"success",title:"Edit Mutasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){t.push("/epekerja/admin/mutasi")}))},N=function(e){var a="";for(var t in e)a+="".concat(e[t],", ");O.fire({icon:"error",title:"Edit Mutasi Gagal",text:a}).then((function(e){m(!1)}))},y=l.c().shape({id_pegawai:l.e().required("Pegawai harus diisi"),tgl_mutasi:l.e().required("Tanggal mutasi harus diisi"),keterangan:l.e().required("Keterangan / alasan mutasi harus diisi")});return Object(x.jsxs)(i.h,{children:[Object(x.jsxs)(i.l,{className:"d-flex justify-content-between",children:[Object(x.jsx)("h3",{children:"Edit Data Mutasi"}),Object(x.jsx)(i.f,{type:"button",color:"warning",className:"text-white",onClick:function(){t.goBack()},children:"Kembali"})]}),k?Object(x.jsx)(u.a,{initialValues:w,enableReinitialize:!0,validationSchema:y,onSubmit:function(e){!function(e,a,t,n,i){t(!0),b.a.put("admin/mutasi/".concat(e),a).then((function(e){console.log(e.data),t(!1),n()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}(a.id,e,m,_,N)},children:function(e){var a=e.values,t=e.errors,n=e.touched,c=e.handleChange,s=e.handleBlur,l=e.handleSubmit;return Object(x.jsxs)(i.w,{onSubmit:l,children:[Object(x.jsxs)(i.i,{children:[Object(x.jsxs)(i.x,{row:!0,children:[Object(x.jsx)(i.m,{md:"2",children:Object(x.jsx)(i.K,{children:"Nama Pegawai"})}),Object(x.jsx)(i.m,{children:Object(x.jsx)(i.D,{type:"text",name:"nama",value:k.nama,readOnly:!0})})]}),Object(x.jsxs)(i.x,{row:!0,children:[Object(x.jsx)(i.m,{md:"2",children:Object(x.jsx)(i.K,{children:"Tgl. Mutasi"})}),Object(x.jsxs)(i.m,{children:[Object(x.jsx)(i.D,{type:"date",name:"tgl_mutasi",id:"tgl_mutasi",onChange:c,onBlur:s,value:a.tgl_mutasi||"",placeholder:"Masukkan tgl. mutasi",className:t.tgl_mutasi&&n.tgl_mutasi?"is-invalid":null}),t.tgl_mutasi&&n.tgl_mutasi&&Object(x.jsx)("div",{className:"invalid-feedback",children:t.tgl_mutasi})]})]}),Object(x.jsxs)(i.x,{row:!0,children:[Object(x.jsx)(i.m,{md:"2",children:Object(x.jsx)(i.K,{children:"Keterangan"})}),Object(x.jsxs)(i.m,{children:[Object(x.jsx)(i.D,{type:"text",name:"keterangan",id:"keterangan",onChange:c,onBlur:s,value:a.keterangan||"",placeholder:"Masukkan keterangan / alasan mutasi",className:t.keterangan&&n.keterangan?"is-invalid":null}),t.keterangan&&n.keterangan&&Object(x.jsx)("div",{className:"invalid-feedback",children:t.keterangan})]})]})]}),Object(x.jsx)(i.j,{children:Object(x.jsx)(i.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!j,children:j?Object(x.jsx)(r.a,{}):"Simpan"})})]})}}):Object(x.jsx)(g.a,{})]})}},657:function(e,a,t){"use strict";var n=t(628),i=(t(1),t(630)),c=t(17);a.a=function(){return Object(c.jsx)(n.W,{className:"mb-3",children:Object(c.jsx)(n.m,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.c,alt:"load-animation"})})})}},662:function(e,a,t){"use strict";t(1);var n=t(630),i=t(17);a.a=function(){return Object(i.jsx)("img",{width:21,src:n.d,alt:"load-animation"})}},739:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(626),i=function(e,a){n.a.get("admin/mutasi/".concat(e)).then((function(e){a(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))}}}]);
//# sourceMappingURL=46.425042fb.chunk.js.map