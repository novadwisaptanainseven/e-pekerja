(this.webpackJsonpEPekerja=this.webpackJsonpEPekerja||[]).push([[29],{1021:function(e,n,t){"use strict";t.r(n);var a,c,r=t(2),i=t(7),s=t(639),l=t(1),o=t.n(l),u=t(631),d=t.n(u),j=t(632),b=t.n(j),h=t(627),p=t(641),m=t.n(p),O=t(643),f=t(20),x=t(637),g=t(670),y=t(655),k=t(744),w=t(571),v=t(163),C=t(40),N=t(626),P=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e({type:C.LOADING});var t="";t=n?"admin/pensiun?bulan=".concat(n.bulan,"&tahun=").concat(n.tahun):"admin/pensiun",N.a.get(t).then((function(n){e({type:C.SUCCESS,payload:n.data.data})})).catch((function(n){e({type:C.ERROR,payload:n.response.data.message}),console.log(n.response.data)}))},D=t(752),F=t(629),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.bulan||"",t=e.tahun||"";window.open("".concat(localStorage.baseURL,"print-pensiun-pegawai?bulan=").concat(n,"&tahun=").concat(t),"_blank")},S=t(646),A=t(687),_=t(17),H=function(e){var n=e.modal,t=e.setModal,a=Object(l.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1];Object(l.useEffect)((function(){var e="";n.data&&(e=Date.parse(new Date)<Date.parse(new Date(n.data.tgl_pensiun))?"Kepada Yth. ".concat(n.data.nama,", Anda akan pensiun pada tanggal ").concat(Object(D.a)(new Date(n.data.tgl_pensiun),"dd/MM/y")," dengan keterangan ").concat(n.data.keterangan,". Terimakasih"):"Kepada Yth. ".concat(n.data.nama,", Anda telah dipensiunkan di tanggal ").concat(Object(D.a)(new Date(n.data.tgl_pensiun),"dd/MM/y")," dengan keterangan ").concat(n.data.keterangan,". Terimakasih"),o(e));return function(){return o("")}}),[n]);return Object(_.jsx)("div",{children:Object(_.jsxs)(h.N,{show:n.modal,onClose:function(){return t(Object(r.a)(Object(r.a)({},n),{},{modal:!1}))},children:[Object(_.jsx)(h.Q,{closeButton:!0,children:"Kirim Pemberitahuan via WhatsApp"}),Object(_.jsx)(h.O,{children:n.data&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(h.y,{children:[Object(_.jsx)(h.L,{children:"No. HP"}),Object(_.jsx)(h.E,{type:"text",name:"no_hp",value:n.data.no_hp,readOnly:!0})]}),Object(_.jsxs)(h.y,{children:[Object(_.jsx)(h.L,{children:"Pesan"}),Object(_.jsx)(h.lb,{name:"pesan",rows:5,readOnly:!0,value:s})]})]})}),Object(_.jsxs)(h.P,{children:[Object(_.jsxs)(h.f,{color:"primary",onClick:function(){var e=n.data.no_hp.replace("0","62"),t=s;window.open("https://api.whatsapp.com/send?phone=".concat(e,"&text=").concat(t),"blank")},children:["Kirim ",Object(_.jsx)(x.a,{content:k.a})]}),Object(_.jsx)(h.f,{color:"secondary",onClick:function(){return t(Object(r.a)(Object(r.a)({},n),{},{modal:!1}))},children:"Tutup"})]})]})})},L=b()(d.a),B=O.default.input(a||(a=Object(s.a)(["\n  height: 37px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),T=O.default.button(c||(c=Object(s.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 37px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #3e5973;\n  border: none;\n  color: white;\n  padding: 0 10px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #283c4f;\n  }\n"]))),R=function(e){var n=e.filterText,t=e.onFilter,a=e.onClear;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(B,{id:"search",type:"text",placeholder:"Cari pegawai","aria-label":"Search Input",value:n,onChange:t}),Object(_.jsx)(T,{type:"button",onClick:a,children:"Reset"})]})};n.default=function(){var e=Object(f.g)(),n=Object(l.useState)(""),t=Object(i.a)(n,2),a=t[0],c=t[1],s=Object(l.useState)(!1),u=Object(i.a)(s,2),d=u[0],j=u[1],b=Object(l.useContext)(v.a),p=b.pensiunState,O=b.pensiunDispatch,C=p.data,B=p.loading,T=Object(l.useState)({bulan:"",tahun:""}),E=Object(i.a)(T,2),Z=E[0],K=E[1],J=Object(l.useState)({data:null,modal:!1}),Y=Object(i.a)(J,2),I=Y[0],z=Y[1];Object(l.useEffect)((function(){P(O)}),[O]);var X=C.filter((function(e){return!(!e.nama||!e.nama.toLowerCase().includes(a.toLowerCase()))})),q=[{name:"No",selector:"no",sortable:!0,width:"80px"},{name:"NIP/NIK",selector:"nip",sortable:!0,wrap:!0,cell:function(e){return e.nip?e.nip:e.nik}},{name:"Nama",selector:"nama",sortable:!0,wrap:!0},{name:"Tgl. Pensiun",selector:"tgl_pensiun",sortable:!0,wrap:!0,cell:function(e){return Object(D.a)(new Date(e.tgl_pensiun),"dd/MM/yyyy")}},{name:"Status",selector:"status_pensiun",sortable:!0,wrap:!0,cell:function(e){return Date.parse(new Date)<Date.parse(new Date(e.tgl_pensiun))?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(h.b,{color:"primary",shape:"pill",className:"px-2 py-2",children:"Akan Pensiun"})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(h.b,{color:"dark",shape:"pill",className:"px-2 py-2",children:"Pensiun"})})}},{name:"Keterangan",selector:"keterangan",wrap:!0,width:"250px"},{name:"Action",sortable:!0,cell:function(e){return Object(_.jsxs)("div",{"data-tag":"allowRowEvents",className:"my-1",children:[Object(_.jsxs)(h.g,{className:"mb-1",children:[Object(_.jsx)(h.f,{color:"info",className:"btn btn-sm",onClick:function(){return Q(e.id_pensiun)},children:Object(_.jsx)(x.a,{content:g.a,color:"white"})}),Object(_.jsx)(h.f,{color:"success",className:"btn btn-sm",onClick:function(){return G(e.id_pensiun)},children:Object(_.jsx)(x.a,{content:y.a,color:"white"})}),Object(_.jsx)(h.f,{color:"warning",className:"btn btn-sm",onClick:function(){return z(Object(r.a)(Object(r.a)({},I),{},{data:e,modal:!0}))},children:Object(_.jsx)(x.a,{content:k.a,color:"white"})})]}),Object(_.jsx)(h.f,{color:"dark",className:"btn btn-sm",onClick:function(){return W(e.id_pensiun)},children:"Batalkan Pensiun"})]})}}],U={headCells:{style:{fontSize:"1.15em"}}},V=o.a.useMemo((function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[Object(_.jsx)(h.f,{type:"button",color:"primary",onClick:function(n){e.push("/epekerja/admin/pensiun/tambah")},children:"Tambah Pensiun"}),Object(_.jsxs)("div",{className:"d-flex",children:[Object(_.jsx)(R,{onFilter:function(e){return c(e.target.value)},onClear:function(){a&&(j(!d),c(""))},filterText:a}),Object(_.jsxs)(h.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return M(Z)},children:["PDF ",Object(_.jsx)(x.a,{content:w.a})]}),Object(_.jsxs)(h.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(S.a)("pensiun-pegawai",Z,"filter_bulan_tahun")},children:["Excel ",Object(_.jsx)(x.a,{content:w.a})]})]})]})})}),[a,d,e,Z]),G=function(n){e.push("/epekerja/admin/pensiun/edit/".concat(n))},Q=function(n){e.push("/epekerja/admin/pensiun/detail/".concat(n))},W=function(e){L.fire({icon:"warning",title:"Anda yakin ingin membatalkan pensiun untuk pegawai ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(n){n.isConfirmed&&(!function(e,n){N.a.get("admin/pensiun-batal/".concat(e)).then((function(e){console.log(e.data),P(n)})).catch((function(e){console.log(e.response.data)}))}(e,O),L.fire({icon:"success",title:"Sukses",text:"Pensiun Berhasil Dibatalkan"}))}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(h.h,{children:[Object(_.jsx)(h.l,{children:Object(_.jsx)("h3",{children:"Data Pensiun"})}),Object(_.jsxs)(h.i,{children:[Object(_.jsx)(h.X,{children:Object(_.jsx)(h.n,{md:"6",children:Object(_.jsx)(A.a,{paramsFilter:Z,setParamsFilter:K,handleResetFilter:function(){P(O)},handleFilterCari:function(e){e.preventDefault(),P(O,Z)}})})}),C.length>0?Object(_.jsx)(m.a,{columns:q,data:X,noHeader:!0,responsive:!0,customStyles:U,pagination:!0,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:V,highlightOnHover:!0}):B?Object(_.jsx)("div",{children:Object(_.jsx)(h.X,{children:Object(_.jsx)(h.n,{className:"text-center",children:Object(_.jsx)("img",{className:"mt-4 ml-3",width:30,src:F.d,alt:"load-animation"})})})}):Object(_.jsx)(m.a,{columns:q,data:X,noHeader:!0,responsive:!0,customStyles:U,pagination:!0,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:V,highlightOnHover:!0})]})]}),Object(_.jsx)(H,{modal:I,setModal:z})]})}},639:function(e,n,t){"use strict";function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,"a",(function(){return a}))},645:function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},655:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},670:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"]},678:function(e,n,t){"use strict";var a=t(1),c=t.n(a),r=t(17),i=function(){return Object(r.jsx)(r.Fragment,{children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((function(e,n){return Object(r.jsx)("option",{value:n+1,children:e},n)}))})};n.a=c.a.memo(i)},687:function(e,n,t){"use strict";var a=t(166),c=t(2),r=t(7),i=t(627),s=t(1),l=t(678),o=t(17);n.a=function(e){var n=e.paramsFilter,t=e.setParamsFilter,u=e.handleFilterCari,d=e.handleResetFilter,j=Object(s.useState)(!1),b=Object(r.a)(j,2),h=b[0],p=b[1];return Object(o.jsxs)(i.h,{children:[Object(o.jsx)(i.l,{className:"bg-dark",children:Object(o.jsx)("h5",{className:"mb-0",children:"Filter Pencarian Berdasarkan Bulan dan Tahun"})}),Object(o.jsxs)(i.x,{children:[Object(o.jsx)(i.o,{show:h,children:Object(o.jsx)(i.i,{children:Object(o.jsxs)(i.X,{children:[Object(o.jsx)(i.n,{children:Object(o.jsxs)(i.y,{children:[Object(o.jsx)(i.L,{children:"Bulan"}),Object(o.jsxs)(i.Y,{required:!0,name:"bulan",onChange:function(e){return t(Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},e.target.name,e.target.value)))},children:[Object(o.jsx)("option",{value:"",children:"-- Pilih Bulan --"}),Object(o.jsx)(l.a,{})]})]})}),Object(o.jsx)(i.n,{children:Object(o.jsxs)(i.y,{children:[Object(o.jsx)(i.L,{children:"Tahun"}),Object(o.jsx)(i.E,{required:!0,type:"number",name:"tahun",placeholder:"Masukkan Tahun, exp: ".concat((new Date).getFullYear()),onChange:function(e){return t(Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},e.target.name,e.target.value)))}})]})})]})})}),Object(o.jsxs)(i.j,{className:"text-right",children:[Object(o.jsx)(i.f,{type:"submit",color:"primary",className:"mr-2",onClick:function(e){return u(e)},disabled:!n.bulan||!n.tahun,children:"Cari"}),Object(o.jsx)(i.f,{color:"warning",className:"mr-2",onClick:d,children:"Reset"}),Object(o.jsx)(i.f,{color:"secondary",onClick:function(){return p(!h)},children:h?"Tutup":"Klik untuk melihat"})]})]})]})}},744:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=29.f2af9faf.chunk.js.map