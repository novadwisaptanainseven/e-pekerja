(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{1075:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n(627),c=n(634),r=n(1),s=n(20),o=n(651),l=function(e){return{id_pegawai:e?e.id_pegawai:"",tgl_berhenti:e?e.tgl_berhenti:"",keterangan:e?e.keterangan:""}},d=n(631),u=n.n(d),h=n(632),b=n.n(h),j=n(690),g=n(644),f=n(748),m=n(17),p=b()(u.a);t.default=function(){var e=Object(s.i)(),t=Object(s.g)(),n=e.params,d=Object(r.useState)(""),u=Object(a.a)(d,2),h=u[0],b=u[1],O=Object(r.useState)(!1),x=Object(a.a)(O,2),k=x[0],v=x[1];Object(r.useEffect)((function(){Object(j.d)(n.id,b)}),[n]);var w=function(){p.fire({icon:"success",title:"Edit Data Berhasil",showConfirmButton:!1,timer:1500}).then((function(e){t.push("/epekerja/admin/pegawai-berhenti")}))},y=function(e){var t="";for(var n in e)t+="".concat(e[n],", ");p.fire({icon:"error",title:"Edit Data Gagal",text:t}).then((function(e){v(!1)}))};return Object(m.jsx)("div",{children:Object(m.jsxs)(i.h,{children:[Object(m.jsxs)(i.l,{className:"d-flex justify-content-between",children:[Object(m.jsx)("h3",{children:"Edit Data Pensiun"}),Object(m.jsx)(i.f,{type:"button",color:"warning",className:"text-white",onClick:function(){t.goBack()},children:"Kembali"})]}),h?Object(m.jsx)(c.a,{initialValues:l(h),validationSchema:f.a,enableReinitialize:!0,onSubmit:function(e){console.log(e),Object(j.b)(n.id,e,v,w,y)},children:function(e){var t=e.values,n=e.errors,a=e.touched,c=e.handleChange,r=e.handleBlur,s=e.handleSubmit;return Object(m.jsxs)(i.x,{onSubmit:s,children:[Object(m.jsxs)(i.i,{children:[Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Nama Pegawai"})}),Object(m.jsx)(i.n,{children:Object(m.jsx)(i.E,{type:"text",name:"nama",value:h.nama,readOnly:!0})})]}),Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Tgl. Berhenti"})}),Object(m.jsxs)(i.n,{children:[Object(m.jsx)(i.E,{type:"date",name:"tgl_berhenti",id:"tgl_berhenti",onChange:c,onBlur:r,value:t.tgl_berhenti||"",placeholder:"Masukkan tgl. berhenti",className:n.tgl_berhenti&&a.tgl_berhenti?"is-invalid":null}),n.tgl_berhenti&&a.tgl_berhenti&&Object(m.jsx)("div",{className:"invalid-feedback",children:n.tgl_berhenti})]})]}),Object(m.jsxs)(i.y,{row:!0,children:[Object(m.jsx)(i.n,{md:"2",children:Object(m.jsx)(i.L,{children:"Keterangan"})}),Object(m.jsxs)(i.n,{children:[Object(m.jsx)(i.E,{type:"text",name:"keterangan",id:"keterangan",onChange:c,onBlur:r,value:t.keterangan||"",placeholder:"Masukkan keterangan / alasan berhenti",className:n.keterangan&&a.keterangan?"is-invalid":null}),n.keterangan&&a.keterangan&&Object(m.jsx)("div",{className:"invalid-feedback",children:n.keterangan})]})]})]}),Object(m.jsx)(i.j,{children:Object(m.jsx)(i.f,{color:"primary",type:"submit",className:"mr-1",disabled:!!k,children:k?Object(m.jsx)(o.a,{}):"Simpan"})})]})}}):Object(m.jsx)(g.a,{})]})})}},644:function(e,t,n){"use strict";var a=n(627),i=(n(1),n(629)),c=n(17);t.a=function(){return Object(c.jsx)(a.X,{className:"mb-3",children:Object(c.jsx)(a.n,{className:"text-center",children:Object(c.jsx)("img",{className:"mt-4 ml-3",width:30,src:i.d,alt:"load-animation"})})})}},651:function(e,t,n){"use strict";n(1);var a=n(629),i=n(17);t.a=function(){return Object(i.jsx)("img",{width:21,src:a.e,alt:"load-animation"})}},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l}));var a=n(626),i=function(e,t,n){a.a.get("admin/pegawai-berhenti-batal/".concat(e)).then((function(e){console.log(e.data),s(t),n.fire({icon:"success",title:"Sukses",text:"Status Berhenti Kerja Berhasil Dibatalkan"})})).catch((function(e){console.log(e.response.data),n.fire({icon:"error",title:"Gagal",text:e.response.data.message})}))},c=function(e,t,n,i,c){n(!0),a.a.post("admin/pegawai-berhenti/".concat(e),t).then((function(e){console.log(e.data),n(!1),i()})).catch((function(e){console.log(e.response.data),c(e.response.data.errors)}))},r=n(40),s=function(e){e({type:r.LOADING});a.a.get("admin/pegawai-berhenti").then((function(t){e({type:r.SUCCESS,payload:t.data.data})})).catch((function(t){e({type:r.ERROR,payload:t.response.data.message}),console.log(t.response.data)}))},o=function(e,t){a.a.get("admin/pegawai-berhenti/".concat(e)).then((function(e){t(e.data.data),console.log(e.data)})).catch((function(e){console.log(e.response.data)}))},l=function(e,t,n,i){t(!0),a.a.post("admin/pegawai-berhenti",e,{header:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){console.log(e.data),t(!1),n()})).catch((function(e){console.log(e.response.data),i(e.response.data.errors)}))}},748:function(e,t,n){"use strict";var a=n(635),i=a.c().shape({id_pegawai:a.e().required("Pegawai harus diisi"),tgl_berhenti:a.e().required("Tgl. berhenti harus diisi"),keterangan:a.e().required("Keterangan / alasan berhenti harus diisi")});t.a=i}}]);
//# sourceMappingURL=48.b8e9c7f0.chunk.js.map