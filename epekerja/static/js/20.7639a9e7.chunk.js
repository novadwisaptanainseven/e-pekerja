(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{640:function(a,n,e){"use strict";n.a=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){if("filter_tanggal"===e){var t="first_date=".concat(n.startDate,"&last_date=").concat(n.endDate);window.open("".concat(localStorage.baseURL).concat(a,"/export/?").concat(t),"_self")}else if("filter_tahun"===e){var c="tahun=".concat(n);window.open("".concat(localStorage.baseURL).concat(a,"/export/?").concat(c),"_self")}else if("filter_bulan_tahun"===e){var l="bulan=".concat(n.bulan,"&tahun=").concat(n.tahun);window.open("".concat(localStorage.baseURL).concat(a,"/export?").concat(l),"_self")}}else window.open("".concat(localStorage.baseURL).concat(a,"/export"),"_self")}},650:function(a,n,e){"use strict";e.d(n,"a",(function(){return c}));var t=e(626),c=function(a,n){t.a.get("admin/pegawai/pns/".concat(a)).then((function(a){n(a.data.data)})).catch((function(a){}))}},654:function(a,n,e){"use strict";n.a=function(a){var n=a.split("/");return n[n.length-1]}},678:function(a,n,e){"use strict";n.a=function(a){var n=a.split("/"),e=n[n.length-1];return"".concat(localStorage.baseURL,"sk/").concat(e)}},679:function(a,n,e){"use strict";e.d(n,"a",(function(){return c}));var t=e(626),c=function(a,n,e){t.a.get("admin/pegawai/".concat(a,"/pembaruan-sk/").concat(n)).then((function(a){e(a.data.data),console.log(a.data)})).catch((function(a){console.log(a.response.data)}))}},680:function(a,n,e){"use strict";e.d(n,"a",(function(){return c}));var t=e(626),c=function(a,n){t.a.get("admin/masa-kerja/".concat(a)).then((function(a){n(a.data.data),console.log(a.data)})).catch((function(a){console.log(a.response.data)}))}},695:function(a,n,e){"use strict";e.d(n,"a",(function(){return c}));var t=e(626),c=function(a,n,e,c,l){e(!0),t.a.put("admin/masa-kerja/".concat(a),n).then((function(a){console.log(a.data),e(!1),c()})).catch((function(a){console.log(a.response.data),l(a.response.data.errors)}))}},706:function(a,n,e){"use strict";e.d(n,"a",(function(){return l}));var t=e(40),c=e(626),l=function(a){a({type:t.LOADING}),c.a.get("admin/masa-kerja").then((function(n){a({type:t.SUCCESS,payload:n.data.data})})).catch((function(n){a({type:t.ERROR,payload:n.response.data.message}),console.log(n.response.data)}))}},740:function(a,n,e){"use strict";var t=e(2),c=e(10),l=e(1),s=e(632),i=e.n(s),r=e(633),u=e.n(r),o=e(636),j=e(635),b=e(630),d=e(628),h=e(20),m=function(a){var n=a.split(" ");return{tahun:n[0],bulan:n[2]}},_=e(680),O=e(695),k=e(706),g=e(17),x=u()(i.a);n.a=function(a){var n=a.modalTambah,e=a.setModalTambah,s=a.id_pegawai,i=a.masaKerjaDispatch,r=Object(h.g)(),u=Object(l.useState)(!1),f=Object(c.a)(u,2),p=f[0],y=f[1],w=Object(l.useState)(""),v=Object(c.a)(w,2),S=v[0],N=v[1];Object(l.useEffect)((function(){return console.log(s),s&&n.modal&&Object(_.a)(s,N),function(){return N("")}}),[s,n]);var B={mk_golongan_tahun:S?m(S.mk_golongan).tahun:"",mk_golongan_bulan:S?m(S.mk_golongan).bulan:"",mk_jabatan_tahun:S?m(S.mk_jabatan).tahun:"",mk_jabatan_bulan:S?m(S.mk_jabatan).bulan:"",mk_cpns_tahun:S?m(S.mk_sebelum_cpns).tahun:"",mk_cpns_bulan:S?m(S.mk_sebelum_cpns).bulan:"",mk_seluruhnya_tahun:S?m(S.mk_seluruhnya).tahun:"",mk_seluruhnya_bulan:S?m(S.mk_seluruhnya).bulan:""},C=function(){x.fire({icon:"success",title:"Masa Kerja Berhasil Diperbarui",showConfirmButton:!1,timer:1500}).then((function(a){Object(k.a)(i),e(Object(t.a)(Object(t.a)({},n),{},{modal:!1,id:null})),r.push("/epekerja/admin/masa-kerja")}))},M=function(a){var n="";for(var e in a)n+="".concat(a[e],", ");x.fire({icon:"error",title:"Masa Kerja Gagal Diperbarui",text:n}).then((function(a){y(!1)}))},D=o.c().shape({mk_golongan_tahun:o.e().required("Tahun harus diisi!"),mk_golongan_bulan:o.e().required("Bulan harus diisi!"),mk_jabatan_tahun:o.e().required("Tahun harus diisi!"),mk_jabatan_bulan:o.e().required("Bulan harus diisi!"),mk_cpns_tahun:o.e().required("Tahun harus diisi!"),mk_cpns_bulan:o.e().required("Bulan harus diisi!"),mk_seluruhnya_tahun:o.e().required("Tahun harus diisi!"),mk_seluruhnya_bulan:o.e().required("Bulan harus diisi!")}),T=function(a){var n={mk_golongan:"".concat(a.mk_golongan_tahun," Tahun ").concat(a.mk_golongan_bulan," Bulan"),mk_jabatan:"".concat(a.mk_jabatan_tahun," Tahun ").concat(a.mk_jabatan_bulan," Bulan"),mk_sebelum_cpns:"".concat(a.mk_cpns_tahun," Tahun ").concat(a.mk_cpns_bulan," Bulan"),mk_seluruhnya:"".concat(a.mk_seluruhnya_tahun," Tahun ").concat(a.mk_seluruhnya_bulan," Bulan")};Object(O.a)(s,n,y,C,M)};return Object(g.jsx)(g.Fragment,{children:S?Object(g.jsx)(j.a,{initialValues:B,validationSchema:D,enableReinitialize:!0,onSubmit:function(a){return T(a)},children:function(a){var c=a.values,l=a.errors,s=a.touched,i=a.handleChange,r=a.handleBlur,u=a.handleSubmit;return Object(g.jsxs)(d.w,{onSubmit:u,children:[Object(g.jsxs)(d.N,{children:[Object(g.jsxs)(d.x,{row:!0,children:[Object(g.jsx)(d.m,{md:"3",children:Object(g.jsx)(d.K,{children:"Masa Kerja Golongan"})}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_golongan_tahun",id:"mk_golongan_tahun",placeholder:"Tahun",onChange:i,onBlur:r,value:c.mk_golongan_tahun,className:l.mk_golongan_tahun&&s.mk_golongan_tahun?"is-invalid":null}),l.mk_golongan_tahun&&s.mk_golongan_tahun&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_golongan_tahun}),Object(g.jsx)(d.y,{children:"Tahun"})]}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_golongan_bulan",id:"mk_golongan_bulan",placeholder:"Bulan",onChange:i,onBlur:r,value:c.mk_golongan_bulan,className:l.mk_golongan_bulan&&s.mk_golongan_bulan?"is-invalid":null}),l.mk_golongan_bulan&&s.mk_golongan_bulan&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_golongan_bulan}),Object(g.jsx)(d.y,{children:"Bulan"})]})]}),Object(g.jsxs)(d.x,{row:!0,children:[Object(g.jsx)(d.m,{md:"3",children:Object(g.jsx)(d.K,{children:"Masa Kerja Jabatan"})}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_jabatan_tahun",id:"mk_jabatan_tahun",placeholder:"Tahun",onChange:i,onBlur:r,value:c.mk_jabatan_tahun,className:l.mk_jabatan_tahun&&s.mk_jabatan_tahun?"is-invalid":null}),l.mk_jabatan_tahun&&s.mk_jabatan_tahun&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_jabatan_tahun}),Object(g.jsx)(d.y,{children:"Tahun"})]}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_jabatan_bulan",id:"mk_jabatan_bulan",placeholder:"Bulan",onChange:i,onBlur:r,value:c.mk_jabatan_bulan,className:l.mk_jabatan_bulan&&s.mk_jabatan_bulan?"is-invalid":null}),l.mk_jabatan_bulan&&s.mk_jabatan_bulan&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_jabatan_bulan}),Object(g.jsx)(d.y,{children:"Bulan"})]})]}),Object(g.jsxs)(d.x,{row:!0,children:[Object(g.jsx)(d.m,{md:"3",children:Object(g.jsx)(d.K,{children:"Masa Kerja Sebelum CPNS"})}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_cpns_tahun",id:"mk_cpns_tahun",placeholder:"Tahun",onChange:i,onBlur:r,value:c.mk_cpns_tahun,className:l.mk_cpns_tahun&&s.mk_cpns_tahun?"is-invalid":null}),l.mk_cpns_tahun&&s.mk_cpns_tahun&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_cpns_tahun}),Object(g.jsx)(d.y,{children:"Tahun"})]}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_cpns_bulan",id:"mk_cpns_bulan",placeholder:"Bulan",onChange:i,onBlur:r,value:c.mk_cpns_bulan,className:l.mk_cpns_bulan&&s.mk_cpns_bulan?"is-invalid":null}),l.mk_cpns_bulan&&s.mk_cpns_bulan&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_cpns_bulan}),Object(g.jsx)(d.y,{children:"Bulan"})]})]}),Object(g.jsxs)(d.x,{row:!0,children:[Object(g.jsx)(d.m,{md:"3",children:Object(g.jsx)(d.K,{children:"Masa Kerja Seluruhnya"})}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_seluruhnya_tahun",id:"mk_seluruhnya_tahun",placeholder:"Tahun",onChange:i,onBlur:r,value:c.mk_seluruhnya_tahun,className:l.mk_seluruhnya_tahun&&s.mk_seluruhnya_tahun?"is-invalid":null}),l.mk_seluruhnya_tahun&&s.mk_seluruhnya_tahun&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_seluruhnya_tahun}),Object(g.jsx)(d.y,{children:"Tahun"})]}),Object(g.jsxs)(d.m,{children:[Object(g.jsx)(d.D,{type:"number",name:"mk_seluruhnya_bulan",id:"mk_seluruhnya_bulan",placeholder:"Bulan",onChange:i,onBlur:r,value:c.mk_seluruhnya_bulan,className:l.mk_seluruhnya_bulan&&s.mk_seluruhnya_bulan?"is-invalid":null}),l.mk_seluruhnya_bulan&&s.mk_seluruhnya_bulan&&Object(g.jsx)("div",{className:"invalid-feedback",children:l.mk_seluruhnya_bulan}),Object(g.jsx)(d.y,{children:"Bulan"})]})]})]}),Object(g.jsxs)(d.O,{children:[Object(g.jsx)(d.f,{type:"submit",color:"primary",onClick:function(){return T(c)},disabled:!!p,children:p?Object(g.jsx)("img",{width:21,src:b.d,alt:"load-animation"}):"Simpan"})," ",Object(g.jsx)(d.f,{type:"button",color:"secondary",onClick:function(){return e(Object(t.a)(Object(t.a)({},n),{},{modal:!1}))},children:"Batal"})]})]})}}):Object(g.jsx)(d.W,{className:"mb-3",children:Object(g.jsx)(d.m,{className:"text-center",children:Object(g.jsx)("img",{className:"mt-4 ml-3",width:30,src:b.c,alt:"load-animation"})})})})}},996:function(a,n,e){"use strict";e.r(n);var t=e(2),c=e(10),l=e(1),s=e(632),i=e.n(s),r=e(633),u=e.n(r),o=e(628),j=e(641),b=e.n(j),d=e(638),h=e(587),m=e(589),_=e(571),O=e(20),k=e(650),g=e(630),x=e(739),f=e(640),p=e(740),y=e(679),w=e(678),v=e(654),S=e(17),N=function(a){var n=a.modalDetail,e=a.setModalDetail,s=a.id_pegawai,i=a.id_riwayat_sk,r=Object(l.useState)(""),u=Object(c.a)(r,2),j=u[0],b=u[1];return Object(l.useEffect)((function(){return i&&Object(y.a)(s,i,b),function(){return b("")}}),[s,i]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(o.N,{children:j?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("table",{className:"table table-striped table-borderless",children:Object(S.jsxs)("tbody",{children:[Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"No. SK"}),Object(S.jsx)("td",{children:j.no_sk})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Penetap SK"}),Object(S.jsx)("td",{children:j.penetap_sk})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Tgl. Penetapan SK"}),Object(S.jsx)("td",{children:Object(x.a)(new Date(j.tgl_penetapan_sk),"dd/MM/y")})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Tgl. Mulai Tugas"}),Object(S.jsx)("td",{children:Object(x.a)(new Date(j.tgl_mulai_tugas),"dd/MM/y")})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Tugas Pokok (Jabatan)"}),Object(S.jsx)("td",{children:j.nama_jabatan})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Gaji Pokok"}),Object(S.jsx)("td",{children:j.gaji_pokok.toLocaleString("id",{style:"currency",currency:"IDR"})})]}),Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"File SK"}),Object(S.jsx)("td",{children:Object(S.jsx)("a",{href:Object(w.a)(j.file),target:"_blank",rel:"noreferrer",children:Object(v.a)(j.file)})})]})]})})}):Object(S.jsx)(o.W,{children:Object(S.jsx)(o.m,{className:"text-center",children:Object(S.jsx)("img",{className:"mt-4 ml-3 mb-4",width:30,src:g.c,alt:"load-animation"})})})}),Object(S.jsx)(o.O,{children:Object(S.jsx)(o.f,{type:"button",color:"secondary",onClick:function(){return e(Object(t.a)(Object(t.a)({},n),{},{modal:!1,id:null}))},children:"Tutup"})})]})},B=e(626),C=function(a,n,e){n(!0),B.a.get("admin/pegawai/".concat(a,"/masa-kerja/riwayat")).then((function(a){console.log(a.data),e(a.data.data),n(!1)})).catch((function(a){console.log(a.response.data),n(!1)}))},M=function(a){window.open("".concat(localStorage.baseURL,"riwayat-mk-cetak/").concat(a),"_blank")},D=u()(i.a);n.default=function(a){var n=a.match.params,e=Object(l.useState)(!1),s=Object(c.a)(e,2),i=s[0],r=s[1],u=Object(l.useState)([]),j=Object(c.a)(u,2),y=j[0],w=j[1],v=Object(l.useState)(""),T=Object(c.a)(v,2),K=T[0],P=T[1],R=Object(l.useState)(!1),q=Object(c.a)(R,2),E=q[0],L=q[1],F=Object(O.g)(),U=Object(l.useState)(!1),A=Object(c.a)(U,2),J=A[0],z=A[1],G=Object(l.useState)(!1),H=Object(c.a)(G,2),W=H[0],I=H[1],Q=Object(l.useState)({modal:!1,id:null}),Y=Object(c.a)(Q,2),V=Y[0],X=Y[1],Z=function(a){F.push("/epekerja/admin/pegawai-detail/".concat(a))};Object(l.useEffect)((function(){return Object(k.a)(n.id,P),function(){P("")}}),[n]),Object(l.useEffect)((function(){C(n.id,L,w)}),[n]);var $=[{name:"Tgl. Pembaruan",selector:"tanggal",sortable:!0,wrap:!0,cell:function(a){return Object(S.jsx)("div",{children:Object(x.a)(new Date(a.tanggal),"dd/MM/y")})}},{name:"MK. Golongan",selector:"mk_golongan",sortable:!0,wrap:!0},{name:"MK. Jabatan",selector:"mk_jabatan",sortable:!0,wrap:!0},{name:"MK. Sebelum CPNS",selector:"mk_sebelum_cpns",sortable:!0,wrap:!0},{name:"MK. Seluruhnya",selector:"mk_seluruhnya",sortable:!0,wrap:!0},{name:"Action",sortable:!0,cell:function(a){return Object(S.jsx)("div",{"data-tag":"allowRowEvents",children:Object(S.jsx)(o.g,{children:Object(S.jsx)(o.f,{color:"danger",size:"sm",onClick:function(){return na(a.id_riwayat_mk)},children:Object(S.jsx)(d.a,{content:h.a})})})})}}],aa={headCells:{style:{fontSize:"1em"}}},na=function(a){D.fire({icon:"warning",title:"Anda yakin ingin menghapus data ini ?",text:"Jika yakin, klik YA",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"YA"}).then((function(e){e.isConfirmed&&(!function(a,n,e,t,c){B.a.delete("admin/pegawai/".concat(a,"/masa-kerja/riwayat/").concat(n)).then((function(n){c(!0),C(a,e,t),console.log(n.data)})).catch((function(a){console.log(a.response.data)}))}(n.id,a,L,w,I),D.fire({icon:"success",title:"Terhapus",text:"Data berhasil dihapus"}))}))},ea=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(o.f,{type:"button",color:"secondary",className:"ml-2",onClick:function(){return Z(n.id)},children:["Detail Pegawai ",Object(S.jsx)(d.a,{content:m.a})]}),Object(S.jsxs)(o.f,{type:"button",color:"info",className:"ml-2",onClick:function(){return M(n.id)},children:["PDF ",Object(S.jsx)(d.a,{content:_.a})]}),Object(S.jsxs)(o.f,{type:"button",color:"success",className:"ml-2",onClick:function(){return Object(f.a)("riwayat-mk/".concat(n.id))},children:["Excel ",Object(S.jsx)(d.a,{content:_.a})]})]})};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(o.h,{children:[Object(S.jsxs)(o.l,{className:"d-flex justify-content-between my-card-header",children:[Object(S.jsxs)("div",{className:"title mb-2",children:[Object(S.jsx)("h3",{children:"Pembaruan Masa Kerja Pegawai"}),Object(S.jsx)("h5",{className:"font-weight-normal",children:K.nama})]}),Object(S.jsx)(o.f,{color:"warning",className:"text-white",style:{height:"40px",width:"100px"},onClick:function(){F.goBack()},children:"Kembali"})]}),Object(S.jsxs)(o.i,{children:[Object(S.jsxs)(o.a,{show:J,color:"success",closeButton:!0,onShowChange:function(a){return z(a)},children:["Masa Kerja berhasil diperbarui. Silahkan cek di"," ",Object(S.jsx)("a",{href:".",onClick:function(a){a.preventDefault(),Z(n.id)},children:"Detail Pegawai"})]}),Object(S.jsx)(o.a,{show:W,color:"success",closeButton:!0,onShowChange:function(a){return I(a)},children:"Riwayat Masa Kerja berhasil dihapus."}),Object(S.jsx)(o.f,{color:"primary",className:"btn btn-md",onClick:function(){return r(!i)},children:"Perbarui Masa Kerja"}),Object(S.jsx)("h3",{className:"font-weight-normal text-center",children:"Riwayat Masa Kerja Pegawai"}),y.length>0?Object(S.jsx)(b.a,{columns:$,data:y,responsive:!0,customStyles:aa,pagination:!0,subHeader:!0,subHeaderComponent:Object(S.jsx)(ea,{})}):E?Object(S.jsx)("div",{children:Object(S.jsx)(o.W,{children:Object(S.jsx)(o.m,{className:"text-center",children:Object(S.jsx)("img",{className:"mt-4 ml-3",width:30,src:g.c,alt:"load-animation"})})})}):Object(S.jsx)(b.a,{columns:$,data:y,noHeader:!0,responsive:!0,customStyles:aa,pagination:!0,subHeader:!0,subHeaderComponent:Object(S.jsx)(ea,{})})]})]}),Object(S.jsxs)(o.M,{show:i,onClose:function(){return r(!i)},size:"lg",children:[Object(S.jsx)(o.P,{closeButton:!0,children:Object(S.jsx)(o.Q,{children:"Perbarui Masa Kerja"})}),Object(S.jsx)(p.a,{modalTambah:i,setModalTambah:r,id_pegawai:n.id,setAlertSuccess:z})]}),Object(S.jsxs)(o.M,{show:V.modal,onClose:function(){X(Object(t.a)(Object(t.a)({},V),{},{modal:!V.modal,id:null}))},size:"lg",children:[Object(S.jsx)(o.P,{closeButton:!0,children:Object(S.jsx)(o.Q,{children:"Detail Riwayat SK"})}),Object(S.jsx)(N,{id_riwayat_sk:V.id,id_pegawai:n.id,modalDetail:V,setModalDetail:X})]})]})}}}]);
//# sourceMappingURL=20.7639a9e7.chunk.js.map