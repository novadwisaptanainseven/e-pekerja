{"version":3,"sources":["context/actions/Pensiun.js/getPensiun.js","context/actions/DownloadFile/printPensiunPegawai.js","views/pages/Admin/Pensiun/ModalKirimWa.js","views/pages/Admin/Pensiun/Pensiun.js","context/actions/Pensiun.js/batalkanPensiun.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/webpack/buildin/module.js","../node_modules/@coreui/icons/js/free/cil-pen.js","../node_modules/@coreui/icons/js/free/cil-info.js","reusable/SelectOptionBulan.js","reusable/FilterPencarianTanggal.js","../node_modules/@coreui/icons/js/free/cil-send.js"],"names":["getPensiun","dispatch","params","type","LOADING","urlAPI","bulan","tahun","axiosInstance","get","then","res","SUCCESS","payload","data","catch","err","ERROR","response","message","console","log","printPensiunPegawai","window","open","localStorage","baseURL","ModalKirimWa","modal","setModal","useState","isiPesan","setIsiPesan","useEffect","strIsiPesan","Date","parse","tgl_pensiun","nama","format","keterangan","show","onClose","closeButton","name","value","no_hp","readOnly","rows","color","onClick","noHp","replace","pesan","content","cilSend","MySwal","withReactContent","swal2","TextField","styled","input","ClearButton","button","FilterComponent","filterText","onFilter","onClear","id","placeholder","aria-label","onChange","Pensiun","history","useHistory","setFilterText","resetPaginationToggle","setResetPaginationToggle","useContext","GlobalContext","pensiunState","pensiunDispatch","loading","paramsFilter","setParamsFilter","modalKirimWa","setModalKirimWa","filteredData","filter","item","toLowerCase","includes","columns","selector","sortable","width","wrap","cell","row","nip","nik","shape","className","data-tag","goToDetail","id_pensiun","cilInfo","goToEdit","cilPen","handleBatalkanPensiun","customStyles","headCells","style","fontSize","SubHeaderComponentMemo","React","useMemo","push","e","target","cilPrint","exportExcel","fire","icon","title","text","showConfirmButton","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","batalkanPensiun","md","FilterPencarianTanggal","handleResetFilter","handleFilterCari","preventDefault","length","noHeader","responsive","pagination","paginationResetDefaultPage","subHeader","subHeaderComponent","highlightOnHover","src","LoadAnimationBlue","alt","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","module","exports","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","i","SelectOptionBulan","map","index","memo","collapse","setCollapse","required","getFullYear","disabled"],"mappings":"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","file":"static/js/28.6156f84c.chunk.js","sourcesContent":["import { ERROR, LOADING, SUCCESS } from \"src/context/actionTypes\";\r\nimport axiosInstance from \"src/helpers/axios\";\r\n\r\nexport const getPensiun = (dispatch, params = null) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n\r\n  let urlAPI = \"\";\r\n\r\n  if (params) {\r\n    urlAPI = `admin/pensiun?bulan=${params.bulan}&tahun=${params.tahun}`;\r\n  } else {\r\n    urlAPI = `admin/pensiun`;\r\n  }\r\n\r\n  axiosInstance\r\n    .get(urlAPI)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: SUCCESS,\r\n        payload: res.data.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: err.response.data.message,\r\n      });\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","const printPensiunPegawai = (params = null) => {\r\n  const bulan = params.bulan || \"\";\r\n  const tahun = params.tahun || \"\";\r\n\r\n  window.open(\r\n    `${localStorage.baseURL}print-pensiun-pegawai?bulan=${bulan}&tahun=${tahun}`,\r\n    \"_blank\"\r\n  );\r\n};\r\n\r\nexport default printPensiunPegawai;\r\n","import { cilSend } from \"@coreui/icons\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CModal,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CTextarea,\r\n} from \"@coreui/react\";\r\nimport { format } from \"date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst ModalKirimWa = ({ modal, setModal }) => {\r\n  const [isiPesan, setIsiPesan] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let strIsiPesan = \"\";\r\n    if (modal.data) {\r\n      let currentTimestamp = Date.parse(new Date());\r\n      let tglPensiunTimestamp = Date.parse(new Date(modal.data.tgl_pensiun));\r\n      if (currentTimestamp < tglPensiunTimestamp) {\r\n        strIsiPesan = `Kepada Yth. ${\r\n          modal.data.nama\r\n        }, Anda akan pensiun pada tanggal ${format(\r\n          new Date(modal.data.tgl_pensiun),\r\n          \"dd/MM/y\"\r\n        )} dengan keterangan ${modal.data.keterangan}. Terimakasih`;\r\n      } else {\r\n        strIsiPesan = `Kepada Yth. ${\r\n          modal.data.nama\r\n        }, Anda telah dipensiunkan di tanggal ${format(\r\n          new Date(modal.data.tgl_pensiun),\r\n          \"dd/MM/y\"\r\n        )} dengan keterangan ${modal.data.keterangan}. Terimakasih`;\r\n      }\r\n\r\n      setIsiPesan(strIsiPesan);\r\n    }\r\n\r\n    return () => setIsiPesan(\"\");\r\n  }, [modal]);\r\n\r\n  const changePhoneNumberFormat = (value) => {\r\n    let str = value.replace(\"0\", \"62\");\r\n    return str;\r\n  };\r\n\r\n  // Handle Kirim WA\r\n  const kirimWA = () => {\r\n    let noHp = changePhoneNumberFormat(modal.data.no_hp);\r\n    let pesan = isiPesan;\r\n\r\n    window.open(\r\n      `https://api.whatsapp.com/send?phone=${noHp}&text=${pesan}`,\r\n      `blank`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CModal\r\n        show={modal.modal}\r\n        onClose={() => setModal({ ...modal, modal: false })}\r\n      >\r\n        <CModalHeader closeButton>\r\n          Kirim Pemberitahuan via WhatsApp\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          {modal.data && (\r\n            <>\r\n              <CFormGroup>\r\n                <CLabel>No. HP</CLabel>\r\n                <CInput\r\n                  type=\"text\"\r\n                  name=\"no_hp\"\r\n                  value={modal.data.no_hp}\r\n                  readOnly\r\n                />\r\n              </CFormGroup>\r\n              <CFormGroup>\r\n                <CLabel>Pesan</CLabel>\r\n                <CTextarea name=\"pesan\" rows={5} readOnly value={isiPesan} />\r\n              </CFormGroup>\r\n            </>\r\n          )}\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton color=\"primary\" onClick={kirimWA}>\r\n            Kirim <CIcon content={cilSend} />\r\n          </CButton>\r\n          <CButton\r\n            color=\"secondary\"\r\n            onClick={() => setModal({ ...modal, modal: false })}\r\n          >\r\n            Tutup\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalKirimWa;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport swal2 from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CButton,\r\n  CButtonGroup,\r\n  CBadge,\r\n  CRow,\r\n  CCol,\r\n} from \"@coreui/react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPrint, cilInfo, cilPen, cilSend } from \"@coreui/icons\";\r\nimport { GlobalContext } from \"src/context/Provider\";\r\nimport { getPensiun } from \"src/context/actions/Pensiun.js/getPensiun\";\r\nimport { format } from \"date-fns\";\r\nimport { LoadAnimationBlue } from \"src/assets\";\r\n// import { deletePensiun } from \"src/context/actions/Pensiun.js/deletePensiun\";\r\nimport { batalkanPensiun } from \"src/context/actions/Pensiun.js/batalkanPensiun\";\r\nimport printPensiunPegawai from \"src/context/actions/DownloadFile/printPensiunPegawai\";\r\nimport exportExcel from \"src/context/actions/DownloadFile/Excel/Pegawai/exportExcel\";\r\nimport FilterPencarianTanggal from \"src/reusable/FilterPencarianTanggal\";\r\nimport ModalKirimWa from \"./ModalKirimWa\";\r\n\r\nconst MySwal = withReactContent(swal2);\r\n\r\nconst TextField = styled.input`\r\n  height: 37px;\r\n  width: 200px;\r\n  border-radius: 3px;\r\n  border-top-left-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  border: 1px solid #e5e5e5;\r\n  padding: 0 32px 0 16px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ClearButton = styled.button`\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n  border-top-right-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  height: 37px;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #3e5973;\r\n  border: none;\r\n  color: white;\r\n  padding: 0 10px;\r\n  transition: 0.3s;\r\n\r\n  &:hover {\r\n    background-color: #283c4f;\r\n  }\r\n`;\r\n\r\n// Handle filter pencarian\r\n\r\nconst FilterComponent = ({ filterText, onFilter, onClear }) => (\r\n  <>\r\n    <TextField\r\n      id=\"search\"\r\n      type=\"text\"\r\n      placeholder=\"Cari pegawai\"\r\n      aria-label=\"Search Input\"\r\n      value={filterText}\r\n      onChange={onFilter}\r\n    />\r\n    <ClearButton type=\"button\" onClick={onClear}>\r\n      Reset\r\n    </ClearButton>\r\n  </>\r\n);\r\n\r\nconst Pensiun = () => {\r\n  const history = useHistory();\r\n  const [filterText, setFilterText] = useState(\"\");\r\n  const [resetPaginationToggle, setResetPaginationToggle] = useState(false);\r\n  const { pensiunState, pensiunDispatch } = useContext(GlobalContext);\r\n  const { data, loading } = pensiunState;\r\n  const [paramsFilter, setParamsFilter] = useState({\r\n    bulan: \"\",\r\n    tahun: \"\",\r\n  });\r\n  const [modalKirimWa, setModalKirimWa] = useState({\r\n    data: null,\r\n    modal: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Get all pensiun\r\n    getPensiun(pensiunDispatch);\r\n  }, [pensiunDispatch]);\r\n\r\n  const filteredData = data.filter((item) => {\r\n    if (item.nama) {\r\n      if (item.nama.toLowerCase().includes(filterText.toLowerCase())) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  const columns = [\r\n    {\r\n      name: \"No\",\r\n      selector: \"no\",\r\n      sortable: true,\r\n      width: \"80px\",\r\n    },\r\n    {\r\n      name: \"NIP/NIK\",\r\n      selector: \"nip\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"200px\",\r\n      cell: (row) => {\r\n        if (row.nip) {\r\n          return row.nip;\r\n        } else {\r\n          return row.nik;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      name: \"Nama\",\r\n      selector: \"nama\",\r\n      sortable: true,\r\n      // maxWidth: \"200px\",\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Tgl. Pensiun\",\r\n      selector: \"tgl_pensiun\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"100px\",\r\n      cell: (row) => format(new Date(row.tgl_pensiun), \"dd/MM/yyyy\"),\r\n    },\r\n    {\r\n      name: \"Status\",\r\n      selector: \"status_pensiun\",\r\n      sortable: true,\r\n      wrap: true,\r\n      // maxWidth: \"100px\",\r\n      cell: (row) => {\r\n        let currentTimestamp = Date.parse(new Date());\r\n        let tglPensiunTimestamp = Date.parse(new Date(row.tgl_pensiun));\r\n        if (currentTimestamp < tglPensiunTimestamp) {\r\n          return (\r\n            <>\r\n              <CBadge color=\"primary\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Akan Pensiun\r\n              </CBadge>\r\n            </>\r\n          );\r\n        } else {\r\n          return (\r\n            <>\r\n              <CBadge color=\"dark\" shape=\"pill\" className=\"px-2 py-2\">\r\n                Pensiun\r\n              </CBadge>\r\n            </>\r\n          );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      name: \"Keterangan\",\r\n      selector: \"keterangan\",\r\n      wrap: true,\r\n      width: \"250px\",\r\n    },\r\n    {\r\n      // maxWidth: \"150px\",\r\n      name: \"Action\",\r\n      sortable: true,\r\n      cell: (row) => (\r\n        <div data-tag=\"allowRowEvents\" className=\"my-1\">\r\n          <CButtonGroup className=\"mb-1\">\r\n            <CButton\r\n              color=\"info\"\r\n              className=\"btn btn-sm\"\r\n              onClick={() => goToDetail(row.id_pensiun)}\r\n            >\r\n              <CIcon content={cilInfo} color=\"white\" />\r\n            </CButton>\r\n            <CButton\r\n              color=\"success\"\r\n              className=\"btn btn-sm\"\r\n              onClick={() => goToEdit(row.id_pensiun)}\r\n            >\r\n              <CIcon content={cilPen} color=\"white\" />\r\n            </CButton>\r\n            <CButton\r\n              color=\"warning\"\r\n              className=\"btn btn-sm\"\r\n              onClick={() =>\r\n                setModalKirimWa({\r\n                  ...modalKirimWa,\r\n                  data: row,\r\n                  modal: true,\r\n                })\r\n              }\r\n            >\r\n              <CIcon content={cilSend} color=\"white\" />\r\n            </CButton>\r\n          </CButtonGroup>\r\n          <CButton\r\n            color=\"dark\"\r\n            className=\"btn btn-sm\"\r\n            onClick={() => handleBatalkanPensiun(row.id_pensiun)}\r\n          >\r\n            Batalkan Pensiun\r\n          </CButton>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"1.15em\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const SubHeaderComponentMemo = React.useMemo(() => {\r\n    const handleClear = () => {\r\n      if (filterText) {\r\n        setResetPaginationToggle(!resetPaginationToggle);\r\n        setFilterText(\"\");\r\n      }\r\n    };\r\n\r\n    const goToTambah = (id) => {\r\n      history.push(`/epekerja/admin/pensiun/tambah`);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"d-flex justify-content-between\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <CButton type=\"button\" color=\"primary\" onClick={goToTambah}>\r\n            Tambah Pensiun\r\n          </CButton>\r\n          <div className=\"d-flex\">\r\n            <FilterComponent\r\n              onFilter={(e) => setFilterText(e.target.value)}\r\n              onClear={handleClear}\r\n              filterText={filterText}\r\n            />\r\n\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"info\"\r\n              className=\"ml-2\"\r\n              onClick={() => printPensiunPegawai(paramsFilter)}\r\n            >\r\n              PDF <CIcon content={cilPrint} />\r\n            </CButton>\r\n\r\n            <CButton\r\n              type=\"button\"\r\n              color=\"success\"\r\n              className=\"ml-2\"\r\n              onClick={() =>\r\n                exportExcel(\r\n                  \"pensiun-pegawai\",\r\n                  paramsFilter,\r\n                  \"filter_bulan_tahun\"\r\n                )\r\n              }\r\n            >\r\n              Excel <CIcon content={cilPrint} />\r\n            </CButton>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }, [filterText, resetPaginationToggle, history, paramsFilter]);\r\n\r\n  const goToEdit = (id) => {\r\n    history.push(`/epekerja/admin/pensiun/edit/${id}`);\r\n  };\r\n\r\n  const goToDetail = (id) => {\r\n    history.push(`/epekerja/admin/pensiun/detail/${id}`);\r\n  };\r\n\r\n  // hapus data\r\n  // const handleDelete = (id) => {\r\n  //   MySwal.fire({\r\n  //     icon: \"warning\",\r\n  //     title: \"Anda yakin ingin menghapus data ini ?\",\r\n  //     text: \"Jika yakin, klik YA\",\r\n  //     showConfirmButton: true,\r\n  //     showCancelButton: true,\r\n  //     confirmButtonColor: \"#3085d6\",\r\n  //     cancelButtonColor: \"#d33\",\r\n  //     confirmButtonText: \"YA\",\r\n  //   }).then((res) => {\r\n  //     if (res.isConfirmed) {\r\n  //       // Delete pesan\r\n  //       deletePensiun(id, pensiunDispatch);\r\n  //       MySwal.fire({\r\n  //         icon: \"success\",\r\n  //         title: \"Terhapus\",\r\n  //         text: \"Data berhasil dihapus\",\r\n  //       });\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  // Konfirmasi batalkan status pensiun\r\n  const handleBatalkanPensiun = (id) => {\r\n    MySwal.fire({\r\n      icon: \"warning\",\r\n      title: \"Anda yakin ingin membatalkan pensiun untuk pegawai ini ?\",\r\n      text: \"Jika yakin, klik YA\",\r\n      showConfirmButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"YA\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) {\r\n        // Batalkan pensiun\r\n        batalkanPensiun(id, pensiunDispatch);\r\n        MySwal.fire({\r\n          icon: \"success\",\r\n          title: \"Sukses\",\r\n          text: \"Pensiun Berhasil Dibatalkan\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Handle reset filter pencarian\r\n  const handleResetFilter = () => {\r\n    getPensiun(pensiunDispatch);\r\n  };\r\n\r\n  // Handle filter pencarian\r\n  const handleFilterCari = (e) => {\r\n    e.preventDefault();\r\n\r\n    getPensiun(pensiunDispatch, paramsFilter);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CCard>\r\n        <CCardHeader>\r\n          <h3>Data Pensiun</h3>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CRow>\r\n            <CCol md=\"6\">\r\n              <FilterPencarianTanggal\r\n                paramsFilter={paramsFilter}\r\n                setParamsFilter={setParamsFilter}\r\n                handleResetFilter={handleResetFilter}\r\n                handleFilterCari={handleFilterCari}\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n          {data.length > 0 ? (\r\n            <DataTable\r\n              columns={columns}\r\n              data={filteredData}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              // paginationRowsPerPageOptions={[5, 10, 15]}\r\n              // paginationPerPage={5}\r\n              paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={SubHeaderComponentMemo}\r\n              highlightOnHover\r\n            />\r\n          ) : loading ? (\r\n            <div>\r\n              <CRow>\r\n                <CCol className=\"text-center\">\r\n                  <img\r\n                    className=\"mt-4 ml-3\"\r\n                    width={30}\r\n                    src={LoadAnimationBlue}\r\n                    alt=\"load-animation\"\r\n                  />\r\n                </CCol>\r\n              </CRow>\r\n            </div>\r\n          ) : (\r\n            <DataTable\r\n              columns={columns}\r\n              data={filteredData}\r\n              noHeader\r\n              responsive={true}\r\n              customStyles={customStyles}\r\n              pagination\r\n              paginationResetDefaultPage={resetPaginationToggle}\r\n              subHeader\r\n              subHeaderComponent={SubHeaderComponentMemo}\r\n              highlightOnHover\r\n            />\r\n          )}\r\n        </CCardBody>\r\n      </CCard>\r\n\r\n      {/* Modal Kirim WA */}\r\n      <ModalKirimWa modal={modalKirimWa} setModal={setModalKirimWa} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pensiun;\r\n","import axiosInstance from \"src/helpers/axios\";\r\nimport { getPensiun } from \"./getPensiun\";\r\n\r\nexport const batalkanPensiun = (id, dispatch) => {\r\n  axiosInstance\r\n    .get(`admin/pensiun-batal/${id}`)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      getPensiun(dispatch);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","export const cilPen = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>\"]","export const cilInfo = [\"512 512\",\"<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>\"]","import React from \"react\";\r\n\r\nconst SelectOptionBulan = () => {\r\n  let bulanOptions = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Maret\",\r\n    \"April\",\r\n    \"Mei\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Agustus\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"Desember\",\r\n  ];\r\n  return (\r\n    <>\r\n      {bulanOptions.map((item, index) => (\r\n        <option key={index} value={index + 1}>\r\n          {item}\r\n        </option>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(SelectOptionBulan);\r\n","import {\r\n  CRow,\r\n  CCol,\r\n  CFormGroup,\r\n  CLabel,\r\n  CSelect,\r\n  CInput,\r\n  CCard,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CForm,\r\n  CCardBody,\r\n  CButton,\r\n  CCollapse,\r\n} from \"@coreui/react\";\r\nimport React, { useState } from \"react\";\r\nimport SelectOptionBulan from \"./SelectOptionBulan\";\r\n\r\nconst FilterPencarianTanggal = ({\r\n  paramsFilter,\r\n  setParamsFilter,\r\n  handleFilterCari,\r\n  handleResetFilter,\r\n}) => {\r\n  const [collapse, setCollapse] = useState(false);\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader className=\"bg-dark\">\r\n        <h5 className=\"mb-0\">Filter Pencarian Berdasarkan Bulan dan Tahun</h5>\r\n      </CCardHeader>\r\n      <CForm>\r\n        <CCollapse show={collapse}>\r\n          <CCardBody>\r\n            <CRow>\r\n              <CCol>\r\n                <CFormGroup>\r\n                  <CLabel>Bulan</CLabel>\r\n                  <CSelect\r\n                    required\r\n                    name=\"bulan\"\r\n                    onChange={(e) =>\r\n                      setParamsFilter({\r\n                        ...paramsFilter,\r\n                        [e.target.name]: e.target.value,\r\n                      })\r\n                    }\r\n                  >\r\n                    <option value=\"\">-- Pilih Bulan --</option>\r\n                    <SelectOptionBulan />\r\n                  </CSelect>\r\n                </CFormGroup>\r\n              </CCol>\r\n              <CCol>\r\n                <CFormGroup>\r\n                  <CLabel>Tahun</CLabel>\r\n                  <CInput\r\n                    required\r\n                    type=\"number\"\r\n                    name=\"tahun\"\r\n                    placeholder={`Masukkan Tahun, exp: ${new Date().getFullYear()}`}\r\n                    onChange={(e) =>\r\n                      setParamsFilter({\r\n                        ...paramsFilter,\r\n                        [e.target.name]: e.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n          </CCardBody>\r\n        </CCollapse>\r\n        <CCardFooter className=\"text-right\">\r\n          <CButton\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            className=\"mr-2\"\r\n            onClick={(e) => handleFilterCari(e)}\r\n            disabled={paramsFilter.bulan && paramsFilter.tahun ? false : true}\r\n          >\r\n            Cari\r\n          </CButton>\r\n          <CButton color=\"warning\" className=\"mr-2\" onClick={handleResetFilter}>\r\n            Reset\r\n          </CButton>\r\n          <CButton color=\"secondary\" onClick={() => setCollapse(!collapse)}>\r\n            {!collapse ? \"Klik untuk melihat\" : \"Tutup\"}\r\n          </CButton>\r\n        </CCardFooter>\r\n      </CForm>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default FilterPencarianTanggal;\r\n","export const cilSend = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>\"]"],"sourceRoot":""}